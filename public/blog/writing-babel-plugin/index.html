<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.8.8"/><title data-react-helmet="true" itemProp="name" lang="en">Writing My First Babel Plugin | Varun M (varunzxzx) | Web Developer</title><meta data-react-helmet="true" name="description" content="Before digging into Babel plugin, Let’s understand Babel and How It Works? Babel is a transpiler which converts your ES20XX, JSX and such code to ES2015 for…"/><meta data-react-helmet="true" name="keywords" content="babel-plugin,react,css"/><meta data-react-helmet="true" property="og:title" content="Writing My First Babel Plugin | Varun M (varunzxzx) | Web Developer"/><meta data-react-helmet="true" property="og:description" content="Before digging into Babel plugin, Let’s understand Babel and How It Works? Babel is a transpiler which converts your ES20XX, JSX and such code to ES2015 for…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://varunzxzx.github.io/blog/writing-babel-plugin/"/><meta data-react-helmet="true" property="og:site_name" content="Varun M (varunzxzx) | Web Developer"/><meta data-react-helmet="true" property="og:image" content="https://varunzxzx.github.io/static/2876ea1893fe2d51012a49e6707de1a8/8844a/babel.jpg"/><meta data-react-helmet="true" itemProp="name" content="Varun M (varunzxzx) | Web Developer"/><meta data-react-helmet="true" itemProp="description" content="Before digging into Babel plugin, Let’s understand Babel and How It Works? Babel is a transpiler which converts your ES20XX, JSX and such code to ES2015 for…"/><meta data-react-helmet="true" itemProp="image" content="https://varunzxzx.github.io/static/2876ea1893fe2d51012a49e6707de1a8/8844a/babel.jpg"/><meta data-react-helmet="true" name="twitter:url" content="https://varunzxzx.github.io/blog/writing-babel-plugin/"/><meta data-react-helmet="true" name="twitter:title" content="Writing My First Babel Plugin | Varun M (varunzxzx) | Web Developer"/><meta data-react-helmet="true" name="twitter:description" content="Before digging into Babel plugin, Let’s understand Babel and How It Works? Babel is a transpiler which converts your ES20XX, JSX and such code to ES2015 for…"/><meta data-react-helmet="true" name="twitter:image:src" content="https://varunzxzx.github.io/static/2876ea1893fe2d51012a49e6707de1a8/8844a/babel.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="Writing My First Babel Plugin | Varun M (varunzxzx) | Web Developer"/><style data-styled="bJRHau fYdbEE hZpnwa gkBUzl kJzGqS dSoQkG cCrHIW dVbSTX bWhqAp kBUQSk fEoYht elaZoe fvXZeP hYjISi inxjzp bQceOM fTRCCF bhOblM dWAZmx exyBQP jywVQU cvvcml dnnRdL gFsUYO iaDXLM bcdAJo hsCRme cVsnps dgqFOL cKMxCm" data-styled-version="4.3.1">
/* sc-component-id: sc-global-220654570 */
@font-face{font-family:'Calibre';src:url(/static/Calibre-Light-183de736efe789394f26ed013b0b5cdd.woff2) format('woff2'), url(/static/Calibre-Light-62b8f0fd78f4d842b3a75c1d2512e449.woff) format('woff'), url(/static/Calibre-Light-73b7f4385ae2f8028e1b365a48038582.ttf) format('truetype');font-weight:300;font-style:normal;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-LightItalic-f34c1430353885b55d271d473235eb6a.woff2) format('woff2'), url(/static/Calibre-LightItalic-1222cf0d45062719e06c3d7d44937e8f.woff) format('woff'), url(/static/Calibre-LightItalic-3ede1be73648125ed40cfd07e1292bf1.ttf) format('truetype');font-weight:300;font-style:italic;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-Regular-b63c62e591d0c8fbe2c8f009883346d5.woff2) format('woff2'), url(/static/Calibre-Regular-e08232148510aade507c2af9bb66acd0.woff) format('woff'), url(/static/Calibre-Regular-96e0a7c47fdd7a8f05007837ead73b35.ttf) format('truetype');font-weight:normal;font-style:normal;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-RegularItalic-35657aa2d12ff78e3d8a8a5ba28c2c35.woff2) format('woff2'), url(/static/Calibre-RegularItalic-3a445970c7bcd6b102ac6bd60178b0bc.woff) format('woff'), url(/static/Calibre-RegularItalic-c408807a3001d1f7773f5f7fe513c165.ttf) format('truetype');font-weight:normal;font-style:italic;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-Medium-46b36969c7bb1d7ed4c8253e8f274788.woff2) format('woff2'), url(/static/Calibre-Medium-115d37180a9c07e2f480ca81b032babe.woff) format('woff'), url(/static/Calibre-Medium-88178c3f2a309ad11520ee62765072d0.ttf) format('truetype');font-weight:500;font-style:normal;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-MediumItalic-3df14639dd2cb07c83bd39707d70910f.woff2) format('woff2'), url(/static/Calibre-MediumItalic-4afe8032c647b57de924543c052e0ee4.woff) format('woff'), url(/static/Calibre-MediumItalic-6eb2ac5a1d38f19c7085b131356b355e.ttf) format('truetype');font-weight:500;font-style:italic;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-Semibold-d8b856473a51d7eec2a9bccf2fbea54c.woff2) format('woff2'), url(/static/Calibre-Semibold-347808401d7a6607ff9a86897aec0a39.woff) format('woff'), url(/static/Calibre-Semibold-8325d174436d55e995c7214faafcd47b.ttf) format('truetype');font-weight:600;font-style:normal;font-display:auto;} @font-face{font-family:'Calibre';src:url(/static/Calibre-SemiboldItalic-8f3e4b3eaed73e67bbc4fc81f308a35f.woff2) format('woff2'), url(/static/Calibre-SemiboldItalic-6473be72d5216d0ec21d273af09b9fa3.woff) format('woff'), url(/static/Calibre-SemiboldItalic-71941c0c0420e703494d6e2a62bc12d4.ttf) format('truetype');font-weight:600;font-style:italic;font-display:auto;} @font-face{font-family:'SF Mono';src:url(/static/SFMono-Regular-7faa66605357721067fe1b07d9103015.woff2) format('woff2'), url(/static/SFMono-Regular-d59c1702c527525e9939ba06166a3750.woff) format('woff'), url(/static/SFMono-Regular-d892da9f8895428033ec68a6c0426ba6.ttf) format('truetype');font-weight:normal;font-style:normal;font-display:auto;} @font-face{font-family:'SF Mono';src:url(/static/SFMono-RegularItalic-bb1fc3ab1772befac3587b30ca876a09.woff2) format('woff2'), url(/static/SFMono-RegularItalic-502441ff6ee56a1df1558e8461050a46.woff) format('woff'), url(/static/SFMono-RegularItalic-8eddf7adea62d66b9e4d031b58dfaaa6.ttf) format('truetype');font-weight:normal;font-style:italic;font-display:auto;} @font-face{font-family:'SF Mono';src:url(/static/SFMono-Medium-99497ab65b5b8a7e5c18b7b3edde5c85.woff2) format('woff2'), url(/static/SFMono-Medium-7df7729fbc66c426b3500d72bc140f5c.woff) format('woff'), url(/static/SFMono-Medium-02bbb63875ebdbf463e764bb3d8ff190.ttf) format('truetype');font-weight:500;font-style:normal;font-display:auto;} @font-face{font-family:'SF Mono';src:url(/static/SFMono-MediumItalic-ae7ea80fb472a7d27aa69b3cf00f487c.woff2) format('woff2'), url(/static/SFMono-MediumItalic-9fbdbe4e2d56f80d6775b61f9b264df8.woff) format('woff'), url(/static/SFMono-MediumItalic-92f9fb02060aabf378f0639de5e033ef.ttf) format('truetype');font-weight:500;font-style:italic;font-display:auto;} @font-face{font-family:'SF Mono';src:url(/static/SFMono-Semibold-cebe2bfbe8a283427e3c5ad8a1b8ae2f.woff2) format('woff2'), url(/static/SFMono-Semibold-2d4bff46a7a9ba9dc7701f75726a7815.woff) format('woff'), url(/static/SFMono-Semibold-8282ed99a84b8e9c803baf3df5b76c01.ttf) format('truetype');font-weight:600;font-style:normal;font-display:auto;} @font-face{font-family:'SF Mono';src:url(/static/SFMono-SemiboldItalic-2fd68bed64aeaceadc6402efc4d82767.woff2) format('woff2'), url(/static/SFMono-SemiboldItalic-41da0311eaa7077546785a822a6ba21a.woff) format('woff'), url(/static/SFMono-SemiboldItalic-ca70ba8a9030ed9bb7e081f63fd3831b.ttf) format('truetype');font-weight:600;font-style:italic;font-display:auto;} html{box-sizing:border-box;width:100%;} *,*:before,*:after{box-sizing:inherit;} body{margin:0;width:100%;min-height:100%;overflow-x:hidden;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;background-color:#0a192f;color:#8892b0;line-height:1.3;font-family:Calibre,San Francisco,SF Pro Text,-apple-system,system-ui,BlinkMacSystemFont,Roboto,Helvetica Neue,Segoe UI,Arial,sans-serif;font-size:20px;} @media (max-width:30em){body{font-size:18px;}} body.hidden{overflow:hidden;} body.blur{overflow:hidden;} body.blur #root > .container > *{-webkit-filter:blur(5px) brightness(0.7);filter:blur(5px) brightness(0.7);-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;} ::selection{background-color:rgba(41,61,90,0.99);} h1,h2,h3,h4,h5{font-weight:600;color:#e6f1ff;margin:0 0 10px 0;} #root{min-height:100vh;display:grid;grid-template-rows:1fr auto;grid-template-columns:100%;} img{width:100%;max-width:100%;vertical-align:middle;} svg{width:100%;height:100%;fill:currentColor;vertical-align:middle;} a{display:inline-block;-webkit-text-decoration:none;text-decoration:none;-webkit-text-decoration-skip-ink:auto;text-decoration-skip-ink:auto;color:inherit;position:relative;-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);cursor:pointer;} a:hover,a:focus{color:#64ffda;outline:0;} button{cursor:pointer;border:0;border-radius:0;} button:focus,button:active{outline-color:#71AFFF;} input,textarea{border-radius:0;outline:0;} input:focus,textarea:focus{outline:0;} input:focus::-webkit-input-placeholder,textarea:focus::-webkit-input-placeholder,input:active::-webkit-input-placeholder,textarea:active::-webkit-input-placeholder{opacity:0.5;} input:focus::-moz-placeholder,textarea:focus::-moz-placeholder,input:active::-moz-placeholder,textarea:active::-moz-placeholder{opacity:0.5;} input:focus:-ms-input-placeholder,textarea:focus:-ms-input-placeholder,input:active:-ms-input-placeholder,textarea:active:-ms-input-placeholder{opacity:0.5;} input:focus::placeholder,textarea:focus::placeholder,input:active::placeholder,textarea:active::placeholder{opacity:0.5;} p{margin:0 0 15px 0;} ul,ol{padding:0;margin:0;list-style:none;} .gatsby-image-outer-wrapper{height:100%;} .fadeup-enter{opacity:0.01;-webkit-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),-webkit-transform 300ms cubic-bezier(0.645,0.045,0.355,1);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);} .fadeup-enter-active{opacity:1;-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),-webkit-transform 300ms cubic-bezier(0.645,0.045,0.355,1);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);} .fadedown-enter{opacity:0.01;-webkit-transform:translateY(-20px);-ms-transform:translateY(-20px);transform:translateY(-20px);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),-webkit-transform 300ms cubic-bezier(0.645,0.045,0.355,1);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);} .fadedown-enter-active{opacity:1;-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),-webkit-transform 300ms cubic-bezier(0.645,0.045,0.355,1);-webkit-transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);transition:opacity 300ms cubic-bezier(0.645,0.045,0.355,1),transform 300ms cubic-bezier(0.645,0.045,0.355,1);} .fade-enter{opacity:0.01;-webkit-transition:opacity 1000ms cubic-bezier(0.645,0.045,0.355,1);transition:opacity 1000ms cubic-bezier(0.645,0.045,0.355,1);} .fade-enter-active{opacity:1;-webkit-transition:opacity 1000ms cubic-bezier(0.645,0.045,0.355,1);transition:opacity 1000ms cubic-bezier(0.645,0.045,0.355,1);}
/* sc-component-id: email__EmailContainer-vbcyhe-0 */
.hYjISi{width:40px;position:fixed;bottom:0;right:40px;color:#a8b2d1;} @media (max-width:62.5em){.hYjISi{right:25px;}} @media (max-width:48em){.hYjISi{display:none;}} .hYjISi div{width:100%;margin:0 auto;}
/* sc-component-id: footer__FooterContainer-sc-1etwpkp-0 */
.bcdAJo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:15px;background-color:#020c1b;color:#8892b0;text-align:center;height:auto;min-height:70px;}
/* sc-component-id: footer__SocialContainer-sc-1etwpkp-1 */
.hsCRme{color:#a8b2d1;width:100%;max-width:270px;margin:0 auto 10px;display:none;} @media (max-width:48em){.hsCRme{display:block;}}
/* sc-component-id: footer__SocialItemList-sc-1etwpkp-2 */
.cVsnps{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: footer__SocialLink-sc-1etwpkp-3 */
.dgqFOL{padding:10px;} .dgqFOL svg{width:20px;height:20px;}
/* sc-component-id: footer__Copy-sc-1etwpkp-4 */
.cKMxCm{margin:10px 0;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;font-size:12px;line-height:1;}
/* sc-component-id: menu__MenuContainer-sc-1676fx5-0 */
.dSoQkG{position:fixed;top:0;bottom:0;right:0;width:100%;height:100vh;z-index:10;outline:0;-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);-webkit-transform:translateX(100vw);-ms-transform:translateX(100vw);transform:translateX(100vw);visibility:hidden;display:none;} @media (max-width:48em){.dSoQkG{display:block;}}
/* sc-component-id: menu__Sidebar-sc-1676fx5-1 */
.cCrHIW{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#172a45;padding:50px;width:50vw;height:100%;position:relative;right:0;margin-left:auto;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;box-shadow:-10px 0px 30px -15px rgba(2,12,27,0.7);} @media (max-width:37.5em){.cCrHIW{padding:25px;}} @media (max-width:30em){.cCrHIW{width:75vw;}} @media (max-width:20.625em){.cCrHIW{padding:10px;}}
/* sc-component-id: menu__NavLinks-sc-1676fx5-2 */
.dVbSTX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;}
/* sc-component-id: menu__NavList-sc-1676fx5-3 */
.bWhqAp{width:100%;}
/* sc-component-id: menu__NavListItem-sc-1676fx5-4 */
.kBUQSk{margin:0 auto 20px;position:relative;font-size:18px;counter-increment:item 1;} @media (max-width:37.5em){.kBUQSk{margin:0 auto 10px;font-size:16px;}} @media (max-width:20.625em){.kBUQSk{font-size:13px;}} .kBUQSk:before{display:block;content:'0' counter(item) '.';color:#64ffda;font-size:14px;margin-bottom:5px;}
/* sc-component-id: menu__NavLink-sc-1676fx5-5 */
.fEoYht{display:inline-block;-webkit-text-decoration:none;text-decoration:none;-webkit-text-decoration-skip-ink:auto;text-decoration-skip-ink:auto;color:inherit;position:relative;-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);cursor:pointer;padding:3px 20px 20px;width:100%;} .fEoYht:hover,.fEoYht:active,.fEoYht:focus{color:#64ffda;outline:0;}
/* sc-component-id: menu__ResumeLink-sc-1676fx5-6 */
.elaZoe{color:#64ffda;background-color:transparent;border:1px solid #64ffda;border-radius:3px;padding:1.25rem 1.75rem;font-size:14px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;line-height:1;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);padding:18px 50px;margin:10% auto 0;width:-webkit-max-content;width:-moz-max-content;width:max-content;} .elaZoe:hover,.elaZoe:focus,.elaZoe:active{background-color:rgba(100,255,218,0.07);} .elaZoe:after{display:none !important;}
/* sc-component-id: nav__NavContainer-sc-1956ro5-0 */
.fYdbEE{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:fixed;top:0;padding:0px 50px;background-color:#0a192f;-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);z-index:11;-webkit-filter:none !important;filter:none !important;pointer-events:auto !important;-webkit-user-select:auto !important;-moz-user-select:auto !important;-ms-user-select:auto !important;user-select:auto !important;width:100%;height:100px;box-shadow:none;-webkit-transform:translateY( 0px );-ms-transform:translateY( 0px );transform:translateY( 0px );} @media (max-width:62.5em){.fYdbEE{padding:0 40px;}} @media (max-width:48em){.fYdbEE{padding:0 25px;}}
/* sc-component-id: nav__Navbar-sc-1956ro5-1 */
.hZpnwa{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;width:100%;color:#ccd6f6;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;counter-reset:item 0;z-index:12;}
/* sc-component-id: nav__NavLinks-sc-1956ro5-7 */
.gkBUzl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} @media (max-width:48em){.gkBUzl{display:none;}}
/* sc-component-id: nav__NavList-sc-1956ro5-8 */
.kJzGqS div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: social__SocialContainer-sc-1fm8u7j-0 */
.fvXZeP{width:40px;position:fixed;bottom:0;left:40px;color:#a8b2d1;} @media (max-width:62.5em){.fvXZeP{left:25px;}} @media (max-width:48em){.fvXZeP{display:none;}}
/* sc-component-id: layout__SkipToContent-rbcqgc-0 */
.bJRHau{position:absolute;top:auto;left:-999px;width:1px;height:1px;overflow:hidden;z-index:-99;} .bJRHau:hover{background-color:#333f58;} .bJRHau:focus,.bJRHau:active{outline:0;color:#64ffda;background-color:#172a45;border-radius:3px;padding:18px 23px;font-size:14px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;line-height:1;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;-webkit-transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);transition:all 0.25s cubic-bezier(0.645,0.045,0.355,1);top:0;left:0;width:auto;height:auto;overflow:auto;z-index:99;}
/* sc-component-id: blog-post__MainContainer-rmcqdm-0 */
.inxjzp{padding:0 150px;margin:0 auto;width:100%;padding:0 150px;counter-reset:section;} @media (max-width:62.5em){.inxjzp{padding:0 100px;}} @media (max-width:48em){.inxjzp{padding:0 50px;}} @media (max-width:30em){.inxjzp{padding:0 25px;}} @media (max-width:62.5em){.inxjzp{padding:0 100px;}} @media (max-width:48em){.inxjzp{padding:0 50px;}} @media (max-width:30em){.inxjzp{padding:0 25px;}}
/* sc-component-id: blog-post__CommentsContainer-rmcqdm-1 */
.iaDXLM .reaction-item__button{border-color:#64ffda;}
/* sc-component-id: blog-post__HeroContainer-rmcqdm-2 */
.bQceOM{margin:0 auto;padding:100px 0;max-width:1000px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;min-height:100vh;padding-top:200px;} @media (max-width:48em){.bQceOM{padding:100px 0;}} @media (max-width:48em){.bQceOM{padding-top:150px;}} .bQceOM div{width:100%;}
/* sc-component-id: blog-post__Title-rmcqdm-3 */
.fTRCCF{font-size:80px;line-height:1.1;margin:0;} @media (max-width:62.5em){.fTRCCF{font-size:70px;}} @media (max-width:48em){.fTRCCF{font-size:60px;}} @media (max-width:30em){.fTRCCF{font-size:50px;}} @media (max-width:23.5em){.fTRCCF{font-size:40px;}}
/* sc-component-id: blog-post__Author-rmcqdm-4 */
.dnnRdL{display:inline;color:#64ffda;margin:0 0 20px 3px;font-size:14px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;font-weight:normal;} @media (max-width:62.5em){.dnnRdL{font-size:14px;}} @media (max-width:48em){.dnnRdL{font-size:13px;}}
/* sc-component-id: blog-post__Avatar-rmcqdm-5 */
.cvvcml{width:30px;max-width:30px;max-height:30px;vertical-align:middle;position:relative;display:inline-block;border-radius:50%;border:3px solid #fff;margin-right:10px;}
/* sc-component-id: blog-post__FeaturedImage-rmcqdm-6 */
.dWAZmx{width:100%;vertical-align:middle;position:relative;border:3px solid #fff;margin-top:20px;}
/* sc-component-id: blog-post__PostBody-rmcqdm-7 */
.exyBQP{margin-top:40px;} .exyBQP strong{color:white;} .exyBQP .emoji{margin-right:5px;} .exyBQP .emoji img{vertical-align:middle;} .exyBQP ul{list-style-type:'# ';} .exyBQP ul li,.exyBQP ol li{margin-block-end:0.5em;margin-block-start:0.5em;} @media (max-width:23.5em){.exyBQP ul,.exyBQP ol{padding-inline-start:15px;}} .exyBQP a{color:#64ffda;} .exyBQP blockquote{border-left:3px solid;box-sizing:border-box;padding:0.5em 1em;margin:0;margin-bottom:0px;margin-bottom:1em;} .exyBQP blockquote p{margin:0;} .exyBQP ol li{list-style:none;counter-increment:item 1;} .exyBQP ol li::before{content:'0' counter(item) '.';text-align:right;color:#64ffda;margin-right:0.5em;font-size:14px;font-family:SF Mono,Fira Code,Fira Mono,monospace;}
/* sc-component-id: blog-post__Meta-rmcqdm-8 */
.bhOblM{display:inline;color:#64ffda;margin:0 0 20px 3px;font-size:14px;font-family:SF Mono,Fira Code,Fira Mono,Roboto Mono,Lucida Console,Monaco,monospace;font-weight:normal;word-wrap:break-word;} @media (max-width:62.5em){.bhOblM{font-size:14px;}} @media (max-width:48em){.bhOblM{font-size:13px;}} .bhOblM .tag{margin-left:10px;} .bhOblM .read-time{margin-right:20px;}
/* sc-component-id: blog-post__Credits-rmcqdm-9 */
.jywVQU{margin-top:20px;margin-bottom:40px;}
/* sc-component-id: blog-post__PostLinks-rmcqdm-10 */
.gFsUYO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:40px;} .gFsUYO .next{text-align:right;} .gFsUYO .prevous{text-align:left;} .gFsUYO .previous,.gFsUYO .next{-webkit-flex:1;-ms-flex:1;flex:1;border-radius:2px;max-width:calc(50% - 15px);padding:10px 20px;background:#172a45;} .gFsUYO .previous .title,.gFsUYO .next .title{color:white;font-size:20px;margin-bottom:0;} .gFsUYO .previous .pos,.gFsUYO .next .pos{color:#64ffda;font-size:14px;margin-bottom:5px;} .gFsUYO .previous .empty,.gFsUYO .next .empty{text-align:center;margin-bottom:0;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);} .gFsUYO .previous .excerpt,.gFsUYO .next .excerpt{font-size:18px;margin-bottom:0px;} .gFsUYO .previous .blog-post__Meta-rmcqdm-8,.gFsUYO .next .blog-post__Meta-rmcqdm-8{font-size:12px;margin-bottom:0;} .gFsUYO .previous:hover,.gFsUYO .next:hover{-webkit-transform:translateY(-5px);-ms-transform:translateY(-5px);-webkit-transform:translateY(-5px);-ms-transform:translateY(-5px);transform:translateY(-5px);box-shadow:0 2px 4px rgba(2,12,27,0.9);} @media (max-width:48em){.gFsUYO{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.gFsUYO .next,.gFsUYO .previous{max-width:100%;}.gFsUYO .previous{margin-bottom:20px;}.gFsUYO .next.latest,.gFsUYO .previous.first{display:none;}}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true"></title><link rel="shortcut icon" href="/icons/icon-48x48.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#0a192f"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a5a21da1a7c126cfed24f92eb333e60"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-d2c2308498fcd5d31037.js"/><link as="script" rel="preload" href="/app-8ed13ad64a7f1681f28a.js"/><link as="script" rel="preload" href="/0-29e2257518e490b0a03e.js"/><link as="script" rel="preload" href="/10-fa532db9d7b70ac10c5f.js"/><link as="script" rel="preload" href="/1-7767e0a7214bd61f90c8.js"/><link as="script" rel="preload" href="/webpack-runtime-4a82440b8a11d5219a2e.js"/><link as="fetch" rel="preload" href="/static/d/183/path---blog-writing-babel-plugin-0-b-9-904-feuoyp9Bnezpva6Ro5JbfG5n2cY.json" crossorigin="use-credentials"/></head><body class=""><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div id="root"><a href="#content" class="layout__SkipToContent-rbcqgc-0 bJRHau">Skip to Content</a><div class="container"><header class="nav__NavContainer-sc-1956ro5-0 fYdbEE"><nav class="nav__Navbar-sc-1956ro5-1 hZpnwa"><div></div><div></div><div class="nav__NavLinks-sc-1956ro5-7 gkBUzl"><ol class="nav__NavList-sc-1956ro5-8 kJzGqS"><div></div></ol><div></div></div></nav><div aria-hidden="true" tabindex="-1" class="menu__MenuContainer-sc-1676fx5-0 dSoQkG"><div class="menu__Sidebar-sc-1676fx5-1 cCrHIW"><nav class="menu__NavLinks-sc-1676fx5-2 dVbSTX"><ol class="menu__NavList-sc-1676fx5-3 bWhqAp"><li class="menu__NavListItem-sc-1676fx5-4 kBUQSk"><a href="#about" class="menu__NavLink-sc-1676fx5-5 fEoYht">About</a></li><li class="menu__NavListItem-sc-1676fx5-4 kBUQSk"><a href="#projects" class="menu__NavLink-sc-1676fx5-5 fEoYht">Work</a></li><li class="menu__NavListItem-sc-1676fx5-4 kBUQSk"><a href="#blog" class="menu__NavLink-sc-1676fx5-5 fEoYht">Blog</a></li><li class="menu__NavListItem-sc-1676fx5-4 kBUQSk"><a href="#contact" class="menu__NavLink-sc-1676fx5-5 fEoYht">Contact</a></li></ol><a href="/resume.pdf" target="_blank" rel="nofollow noopener noreferrer" class="menu__ResumeLink-sc-1676fx5-6 elaZoe">Resume</a></nav></div></div></header><div class="social__SocialContainer-sc-1fm8u7j-0 fvXZeP"><div></div></div><div class="email__EmailContainer-vbcyhe-0 hYjISi"><div></div></div><main id="content" class="Main-sbc8nj-0 blog-post__MainContainer-rmcqdm-0 inxjzp"><section class="Section-acby1i-0 blog-post__HeroContainer-rmcqdm-2 bQceOM"><h1 class="blog-post__Title-rmcqdm-3 fTRCCF">Writing My First Babel Plugin</h1><div><h3 class="blog-post__Meta-rmcqdm-8 bhOblM"><span class="read-time">12<!-- --> Min<!-- -->s<!-- --> Read</span><span class="tag">#<!-- -->babel-plugin</span><span class="tag">#<!-- -->react</span><span class="tag">#<!-- -->css</span></h3></div><div class="blog-post__FeaturedImage-rmcqdm-6 dWAZmx gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:56.20985010706638%"></div><img src="data:image/svg+xml,%3csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; width=&#x27;400&#x27; height=&#x27;225&#x27;%3e%3cpath d=&#x27;M25 2l-4 2-2 1A917 917 0 0 0 3 19l-3 2v55l2-2c3-2 3-2 6 0 3 4 5 4 8 2s4-3 3-4 5-6 9-8a187 187 0 0 0 15-10l6 3c0 2 5 7 7 7s4 6 4 11c-1 4-1 4 2 6l5 1c3 1 2 3-3 7s-6 5-15 6H39l-1 2c0 2 0 3 1 2 3-1 3 4 1 7-6 8-17 10-22 4-3-4-2-4 2-2 10 7 21-2 15-13l-3-2-6 2c-5 0-5 0-5 4l1 5 1 2c-1 1-3-1-4-5l-1-4-2-2c-1-2-3-3-3-2l-12 8-1 11c0 9 0 10 2 10l13-1h18c4-3 22-5 21-3l1 1c2 1 1 3-1 3-2-1-3 1 0 2h3v-2h3c2-2 2-2-1-2-3-1-4-2-2-3l3 1c3 2 4 2 4 0v-1h2c2-1 2-1 1-2v-1c2 1 7-3 32-24a321 321 0 0 1 31-25 976 976 0 0 0 38-31c-6 3-7 4-11 4-5 0-6 0-4 4 2 1 1 2-9 9l-10 8-5-4c-4-3-5-3-3-4l8-7c2-1 2-2 1-5-1-4 0-5 8-5 6-1 7-1 9-3l6-2a3237 3237 0 0 0 16-1c0 1 4-1 10-6 16-12 16-12 15-15l2-4c1-3 1-3-2-3l-11 2-12 1h-4V1c1-1-1-1-11-1-11 0-12 0-13 2-1 4-7 6-13 6-5 0-7-1-9-6l-1-2H27l-2 2m181 0c-3 3-4 6-2 6 2-1 7 0 7 1l-5 3c-5 4-5 4-2 7 4 3 10 4 12 2 1-1 1-2-2-2-2 0-2 0 0-2l4-2c2 0 2 0 1 2-2 2-2 2 0 2l3 2c0 2 4 1 4-1 1-3 5-3 6 1 1 2 1 3-1 4-2 2-2 4 0 4l4 3c3 3 3 3 4 2s2-2 4-1l1-1v-1 7l1 2 4 3a341 341 0 0 0 30 21c1 0 0-2-3-4-4-4-5-5-1-3 3 2 7 2 21 2 10 0 11 1 15 3 2 2 4 3 5 2h1l1-1c-1-1 3-3 5-2 3 0 3 0-1 3l-4 4-1 1c-1-1-6 4-8 7l-2 4c-2 0-2-3 0-6l2-4 1-1c1-1 1-1-2-2-3-2-5-2-3 0 3 2 2 4 0 4s-5-2-5-4l2-2c1-2 1-2-5-1h-12c-5 0-5 0-3 2l9 8c3 2 4 3 5 2 1-2 8 1 7 3-2 4 0 13 3 16 2 2 3 0 2-3-1-2-1-2 2-5s5-3 5-1l2 3h1l2-1v1c-1 1-1 1 1 1s2 0-1 1l-5 4c-3 3-3 3-2 5l3 1-1-2c-2-1-1-3 2-3 2-1 3 2 0 4-1 2-1 2 1 3s3 1 2-3h2l2-1 1-1c2 0 3 1 4 3s1 2 3 0l2-1-2-2c-4-3-4-4 0-3 4 0 5 1 5 4l-1 2-1 2c0 2 0 3 3 0 1-2 2-2 3-1 2 2 2 4-2 8-3 3-3 3-10 1l-2 1-3 5-2 3c1 0-3 4-5 4l-1 1c1 1-3 4-4 4l-1 1-3 2-2 2c0 2 0 3-3 4l-3 2-4 5a235 235 0 0 0-15 13l-9 8a642 642 0 0 1-65 56l-3 3h23l1-3 37-34c41-36 81-69 87-73 3-2 5-6 5-9 1-3-1-2-5 2-6 6-9 7-9 6-1-1 4-11 7-12l3-2-4-2-6-2c-3 0-6-3-5-3l-1-1h-1l1-1c2 0 0-2-6-6-13-11-13-11-12-13 0-3 2-2 5 0 2 2 2 2 3 1l3-1c1 1 2 0 3-1 2-2 2-2 6 1s4 3 6 2c1-1 2-3 1-4 0-2-6-8-6-7l-4-3c-3-3-5-4-7-4-2 1-7-2-46-30-19-14-21-16-21-18s3-1 9 3l7 5 1 1s1 2 3 2l3 1c0-3 0-4 2-4v5l1 1c-1 0 0 2 2 3a130 130 0 0 1 13 10l3 3 3 2 7 4c5 4 6 5 6 3 1-2 4-1 3 2 0 2 3 4 7 5 3 0 13 7 14 10 2 3 3 4 3 2l2-2 45-5h4v-9c0-10-1-14-2-12h-2c-2-1 0-4 3-4v-6l1-23V0h-46c-48 1-52 1-56 4-2 2-2 2-3 0l-2-3-16-1c-16 0-16 0-15 2 2 2 0 5-2 3-5-3-7-4-12-4l-5-1-2 3c-2 5-2 5 0 7 2 3 3 2 5-1 2-1 3-2 4-1 3 1 2 4-1 6-5 4-5 5-1 4 6-1 8 3 8 12-1 8 1 10 4 8s4-2 10 2c7 5 12 9 12 11 0 3-4 5-7 3l-12-8c-3-3-6-3-4 0 2 2-1 1-4-3-5-4-5-6-5-13 1-8-4-14-8-9l-2 1-3-4-4-4c0-2-3-4-9-8-9-7-15-8-18-4m-99 7c-4 4-4 11 0 14 2 2 9 3 14 1 10-3 10-18 0-18h-3l3 2c3 2 6 6 5 7l-6-4c-7-6-9-6-13-2m244-2v3c1 1-2 4-4 5h-2l1-1v-2c-1-2-4 2-2 4 1 2 5 2 16 0 5-1 11-4 7-4l-2-1c-1-1-5-2-7-1-1 1-2 0-2-1-1-3-4-4-5-2M87 23c-6 4-7 11-2 16 3 3 8 4 15 1 9-4 7-18-2-18h-3l3 2c2 0 4 2 5 4s1 3-3 0c-6-4-10-6-13-5m89 13l-7 5c-9 7-15 23-11 27l3-2 5-2 7-4 12-10c2 0 0 3-7 8l-8 8h2a505 505 0 0 1 21-17c4-4 8-3 17 4l9 7 2 1c2-2 6 1 21 12 16 13 17 13 16 17l1 2c2-1 22 15 24 18s2 3-6 10c-18 16-17 14-15 17 1 1 2 3 1 5 0 2 2 3 4 1l8-3c8-2 9-3 16-10 6-5 6-6 2-16-2-5-3-6-5-7l-3-2-10-10-12-11a333 333 0 0 0-59-42l-14-5c-11-2-11-2-14-1M62 43c-4 3-4 9 0 13 3 4 13 3 19-1 5-5 2-16-5-16-1 0-1 1 1 2 3 1 5 6 4 7l-6-4c-6-6-8-6-13-1m88 33c-7 6-7 6-12 5-4 0-5 0-8 3-1 2-3 3-3 2l-2 2-1 2c-1-1-3 1-24 18-19 16-20 17-18 21 2 3 7 8 8 6h1v1c0 2 4 6 7 6l2-2 1-1 1 1 1 2 1 1 1 1h1l1 1 4 2v2c-3 0-4 3-2 4h3c0-3 2-3 4-1l3 2-4 1c-4 0-4 1 4 7l20 16c13 11 13 11 15 9 2-3 5-1 3 2-1 2 0 4 2 3 1-1 3 1 5 2l6 5v2c-2 1 4 7 9 8s6 1 18-10l24-20c4 0 4-2 0-5l-4-2-19 17c-3 4-8 6-11 5-2 0-13-9-22-18-4-4-4-5 0-5 2 1 3 0 3-1 0-2 0-2-7-1l-6-4a336 336 0 0 0-40-31c-12-10-13-11-7-16a534 534 0 0 1 20-20c-2-3-1-5 5-9 5-4 7-5 9-3l3-1 4-2 2-1v-1c1 2 2 1 1-1h3v-2h1l3-2v-1l-1-1c2-4-1-4-8 2m40 13l2 1 2 1 6 1c8 1 9 2 4 4l-48 16c-12 3-12 3-9 4 1 2 1 2-1 3s-2 1 3 1l5-1h3c1 1 1 1-1 1-6 0 17 7 27 8 21 2 28 1 30-7v-3l6 1c20 2 26-13 9-23-9-5-17-7-29-7h-9m176 3c-3 2-3 3-2 4v1h-3c-1 1 0 2 1 4 1 1 3 4 3 7l2 3 1-2 31 21c1 1 1 0 1-6v-7l-6-5c-8-5-8-6-4-6 8 0 10-1 10-5s0-4-3-4l-25 3v-8c1-5-1-5-6 0m-156 9l-14 6 7 3c8 2 24 3 26 0 3-2-6-11-11-11l-8 2m-39 12l-9 4c1 3 30 7 37 6 7-2 4-6-6-10-9-3-10-3-22 0m192 0l-11 9a554 554 0 0 0-56 49 401 401 0 0 1-33 30 308 308 0 0 0-14 12c-2 0-1 2 1 2l2 1c0 2-2 2-3 1-2-2-2-2-7 2-6 5-6 6-2 6l2-1v-1h2c0 2 2 2 6 2 6 0 7 0 6-2 0-2 1-3 6-6 5-4 7-4 20-6l15-2 2-2c2-4 5-7 9-8 3 0 4 0 8 4l7 5 4 3c2 3 2 3 1 6l-5 6-3 2h14c13 0 14 0 15-2 1-1 2-3 1-4h1c3 0 2 4 0 5-1 1 1 1 9 1 11 0 11 0 15-3 4-4 4-4 7 0 3 3 3 3 10 3 9 0 9 1 9-14l-1-8-2 2-2-1c-1 0 0-4 2-5 3 0 3-2 3-33 0-16 0-27-1-24 0 4 0 4-5 4-4 1-5 0-18-10l-13-12c1-6 0-15-1-11m-94 5a1971 1971 0 0 1-10 12c13-10 15-13 15-14 0-2 0-3-5 2m-222 5l1 2v1c-2-1-2 0-2 1l1 2h1l-2 2-1-1-1-1-1-2v-1c-2 0-2 3 0 4l2 3-3-2-2-1-1 1c-2-1-1 0 1 2 1 2 1 2-5 2-3 0-3 2 0 5l1 2h-2c1 0 0 2-2 3l-3 3-2-2-2-2c-1 1 0 2 1 3l1 2c-1 1-3 0-4-1l-2-2v8c-2 2-3 2-4 0l-3-2c-2 0 0-2 7-8 6-5 9-6 9-5l1 2v-4l1-1-16 2-15 1v25l1 26v1c-2 0-1 6 2 9l3 2 1 1v5H6l-3 1c-3-1-3 2 1 5 3 3 3 3 4 2 0-2 1-2 1-1h3v-2c-2-1-2-1 0-3s3-3 2-4c-2-3-1-8 1-10 3-4 3-4-1-7l-3-2 3-3c3-2 4-3 4 0l1 1c3 0 3 3 1 4l-1 2 3-2 2-1c0 2 12 12 13 11l-4-6-1-1-1-2v-1c3 0 8 3 10 8 1 4 1 5-1 10h1c2-2 3-1 3 1l2 7c2 4 2 10 0 9h-1c-1 1 8 1 25 1l26-1 1-3h-2l-9 2c-9 0-14-5-14-12 0-3 0-4-2-4-3 0-8-5-8-8v-13l-1-17-1-6 6 5a147 147 0 0 0 16 14c4 4 6 5 8 5 3-2 2-3-5-10-17-15-21-18-23-17-3 1-4-3-4-11l1-8-3-3-7-3c-2 0-5-2-2-2 2 0 7-6 6-7l-1-1-3-1c0-2-1-2-2-1m304 14a193 193 0 0 1-15 14l7 1 26-3-5-5c-10-7-11-8-13-7m41 32l-18 2-16 2-4 4-5 6c0 3-1 2-6 0-9-7-24-1-23 9 0 6 4 12 8 13 5 1 11 1 14-1l5-2v7c-3 6-3 7-1 9 1 1 1 1 2-1h3l2 1c1-1 5-2 16-3 6 0 8-1 10-2 1-2 1-2 4 1l3 5c0 2 4 1 6-2s3-4 2-5c-1-2 0-4 2-1 2 2 4-1 2-4-3-4-12 0-9 5 2 4 0 3-2-1l-3-3 4-4 3-4c-1-1-23 1-29 2l-13 1 6-8 11-12c3-4 6-5 27-7h7v-4c0-4 0-4-3-4l-5 1M91 194c-2 2-2 2 4 5 5 3 7 5 7 11-1 6 0 6 5 1l4-5 2 2a510 510 0 0 0 23 17h5l-5-4a191 191 0 0 0-27-22c-2-2-4-3-4-1l2 2 2 2c0 1-5-1-6-3l-2-2-4-3c-2-3-3-3-6 0m-54 16l-8 3-5 2 2 3c1 4 1 7-2 6l-5-7c1-3-4-6-6-4l1 1c3-1 3 0 1 3-1 3-1 3 1 5 1 3 2 3 12 3l13-1v-7l-1-1v-5c0-4 0-4-3-1&#x27; fill=&#x27;%2364ffda&#x27; fill-rule=&#x27;evenodd&#x27;/%3e%3c/svg%3e" alt="Writing My First Babel Plugin" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/2876ea1893fe2d51012a49e6707de1a8/d7587/babel.webp 250w,
/static/2876ea1893fe2d51012a49e6707de1a8/28bb6/babel.webp 500w,
/static/2876ea1893fe2d51012a49e6707de1a8/cf71d/babel.webp 934w" sizes="(max-width: 934px) 100vw, 934px" /><img loading="lazy" sizes="(max-width: 934px) 100vw, 934px" srcset="/static/2876ea1893fe2d51012a49e6707de1a8/de333/babel.jpg 250w,
/static/2876ea1893fe2d51012a49e6707de1a8/c7d03/babel.jpg 500w,
/static/2876ea1893fe2d51012a49e6707de1a8/8844a/babel.jpg 934w" src="/static/2876ea1893fe2d51012a49e6707de1a8/8844a/babel.jpg" alt="Writing My First Babel Plugin" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="blog-post__PostBody-rmcqdm-7 exyBQP"><div><p>Before digging into Babel plugin, Let’s understand Babel and How It Works? Babel is a transpiler which converts your ES20XX, JSX and such code to ES2015 for better browser compatibility. As new APIs are introduced frequently and the language standards keeps updating, Browsers doesn’t updates itself at such pace. Here Babel comes to the rescue. It allows developers to use modern language features without worrying about the browser compatibility.</p>
<p>You have been using Babel , If you ever built a React app. React uses JSX which is not a standard Javascript syntax. It is Babel which converts all your wonderful JSX to something which browsers can understand. Babel is not limited to only JSX or React. It supports all modern APIs like async/await.</p>
<h2>How It Works?</h2>
<p>Babel goes through 3 major stages in order to perform this magic:</p>
<ol>
<li>Parse</li>
<li>Transform</li>
<li>Generate</li>
</ol>
<h4>Parse</h4>
<p>The parse stage, takes code and outputs an Abstract Syntax Tree or AST.</p>
<blockquote>
<p>“an <strong>abstract syntax tree (AST)</strong>, or just <strong>syntax tree</strong>, is a tree representation of the abstract syntactic structure of source code” - Wikipedia</p>
</blockquote>
<p>For example:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">square</span><span class="mtk1">(</span><span class="mtk12">n</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">n</span><span class="mtk1"> * </span><span class="mtk12">n</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>The AST representation of the above program looks like this:</p>
<pre class="default-dark vscode-highlight" data-language="md"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk16">-</span><span class="mtk1"> FunctionDeclaration:</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk16">-</span><span class="mtk1"> id:</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk16">-</span><span class="mtk1"> Identifier:</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk16">-</span><span class="mtk1"> name: square</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk16">-</span><span class="mtk1"> params </span><span class="mtk1">[</span><span class="mtk8">1</span><span class="mtk1">]</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk16">-</span><span class="mtk1"> Identifier</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk16">-</span><span class="mtk1"> name: n</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk16">-</span><span class="mtk1"> body:</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk16">-</span><span class="mtk1"> BlockStatement</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk16">-</span><span class="mtk1"> body </span><span class="mtk1">[</span><span class="mtk8">1</span><span class="mtk1">]</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk16">-</span><span class="mtk1"> ReturnStatement</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk16">-</span><span class="mtk1"> argument</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk16">-</span><span class="mtk1"> BinaryExpression</span></span>
<span class="vscode-highlight-line"><span class="mtk1">              </span><span class="mtk16">-</span><span class="mtk1"> operator: *</span></span>
<span class="vscode-highlight-line"><span class="mtk1">              </span><span class="mtk16">-</span><span class="mtk1"> left</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                </span><span class="mtk16">-</span><span class="mtk1"> Identifier</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                  </span><span class="mtk16">-</span><span class="mtk1"> name: n</span></span>
<span class="vscode-highlight-line"><span class="mtk1">              </span><span class="mtk16">-</span><span class="mtk1"> right</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                </span><span class="mtk16">-</span><span class="mtk1"> Identifier</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                  </span><span class="mtk16">-</span><span class="mtk1"> name: n</span></span></code></pre>
<p>Or as a JavaScript Object like this:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk1">{</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  type: </span><span class="mtk8">&quot;FunctionDeclaration&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  id: {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    type: </span><span class="mtk8">&quot;Identifier&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    name: </span><span class="mtk8">&quot;square&quot;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  params: [{</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">type:</span><span class="mtk1"> </span><span class="mtk8">&quot;Identifier&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">name:</span><span class="mtk1"> </span><span class="mtk8">&quot;n&quot;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  }],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  body: {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    type: </span><span class="mtk8">&quot;BlockStatement&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    body: [{</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk12">type:</span><span class="mtk1"> </span><span class="mtk8">&quot;ReturnStatement&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk12">argument:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">type:</span><span class="mtk1"> </span><span class="mtk8">&quot;BinaryExpression&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">operator:</span><span class="mtk1"> </span><span class="mtk8">&quot;*&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">left:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">type:</span><span class="mtk1"> </span><span class="mtk8">&quot;Identifier&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">name:</span><span class="mtk1"> </span><span class="mtk8">&quot;n&quot;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">right:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">type:</span><span class="mtk1"> </span><span class="mtk8">&quot;Identifier&quot;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">name:</span><span class="mtk1"> </span><span class="mtk8">&quot;n&quot;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }]</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<blockquote>
<p>Note: Some properties have been removed for simplicity.</p>
</blockquote>
<h4>Transform</h4>
<p>The transform stage takes an AST and traverses through it, adding, updating, and removing nodes as it goes along. This is where Babel plugins operate. We’ll come back to this section later.</p>
<h4>Generate</h4>
<p>The code generation stage takes the final AST and turns it back into a string of code.</p>
<h2>Babel Plugin</h2>
<p>Now when we know how babel operates, let’s dig deep into babel plugins. Babel plugins allows the developers to transform their code anyhow they want. Babel abstracts the complex operations of parsing and generating the code and exposes a set of magical APIs to transform the code as we want. We’ll use these APIs to build our plugin.</p>
<p>As you already know now, that Babel plugins operates in the <strong>transform</strong> stage. In this stage, we get an object like representation of the code. So, we just need to manipulate that object to change the code.</p>
<p>Let’s start writing our babel plugin. So, there is a tiny css-in-js library called <a href="https://github.com/siddharthkp/use-css#readme" target="_blank" rel="nofollow noopener noreferrer">use-css</a> by <a href="https://twitter.com/siddharthkp" target="_blank" rel="nofollow noopener noreferrer">siddharthkp</a>. Here is a small demo of it:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">useCSS</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#x27;use-css&#x27;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">Oopsy</span><span class="mtk1">(</span><span class="mtk12">props</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1"> = </span><span class="mtk11">useCSS</span><span class="mtk1">(</span><span class="mtk8">`</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    font-size: 21px;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    font-style: italic;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    color: </span><span class="mtk4">${</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">color</span><span class="mtk4">}</span><span class="mtk8">;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    &amp;:hover {</span></span>
<span class="vscode-highlight-line"><span class="mtk8">      font-weight: bold;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk8">  `</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">className</span><span class="mtk4">}</span><span class="mtk17">&gt;</span><span class="mtk1">because why not?</span><span class="mtk17">&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk17">&lt;</span><span class="mtk10">Oopsy</span><span class="mtk1"> </span><span class="mtk12">color</span><span class="mtk1">=</span><span class="mtk8">&quot;green&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span><span class="mtk1">);</span></span></code></pre>
<p>We’ll create a babel plugin which extracts all the css and puts it in static file because why not :P
Now, comes the question how will you handle dynamic values like one in the above example. Well I’ve a magic spell for it as well XD.</p>
<p>Our plugins begins with a function which receives the current babel instance as an argument.</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk3">// plugin contents</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>Then we return an object with a property visitor</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk3">// visitor contents</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>Now, what is a <strong>visitor</strong>? In the transform stage(where our plugin operates), babel traverse through the tree means it will visit each node. <strong>Visitor</strong> is an object with some methods which will be invoked by babel once the particular type of node is found. You can see in the object representation of AST above, every node has certain type. We’ll be using this information to build our visitor.
It’ll be more clear by the following example:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">MyVisitor</span><span class="mtk1"> = {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk11">Identifier</span><span class="mtk1">() {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk10">console</span><span class="mtk1">.</span><span class="mtk11">log</span><span class="mtk1">(</span><span class="mtk8">&#x27;Called!&#x27;</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">};</span></span></code></pre>
<p>Now, the Identifier method will be called every time babel visits a node of type “Identifier”. These visitor methods receives path of the node as argument. To know about different types of node, you can use <a href="https://astexplorer.net/" target="_blank" rel="nofollow noopener noreferrer">AST explorer</a>. This is going to be your most used resource while building a babel plugin. To manipulate any object you should know the structure of the object. You can view the AST representation of any code with this tool which is very handy.</p>
<p>For our plugin we need to get all the “useCSS” call because then we’ll be able to get all the styles, and put it in a static style. Then, we will replace the function call with a class name and remove all imports. So the following code</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">useCSS</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#x27;use-css&#x27;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">Oopsy</span><span class="mtk1">(</span><span class="mtk12">props</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1"> = </span><span class="mtk11">useCSS</span><span class="mtk1">(</span><span class="mtk8">`</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    font-size: 21px;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    font-style: italic;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    &amp;:hover {</span></span>
<span class="vscode-highlight-line"><span class="mtk8">      font-weight: bold;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk8">  `</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">className</span><span class="mtk4">}</span><span class="mtk17">&gt;</span><span class="mtk1">because why not?</span><span class="mtk17">&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk17">&lt;</span><span class="mtk10">Oopsy</span><span class="mtk1"> </span><span class="mtk12">color</span><span class="mtk1">=</span><span class="mtk8">&quot;green&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span><span class="mtk1">);</span></span></code></pre>
<p>will be transformed to</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">Oopsy</span><span class="mtk1">(</span><span class="mtk12">props</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1"> = “4</span><span class="mtk12">vg68s</span><span class="mtk1">”</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">className</span><span class="mtk4">}</span><span class="mtk17">&gt;</span><span class="mtk1">because why not?</span><span class="mtk17">&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk17">&lt;</span><span class="mtk10">Oopsy</span><span class="mtk1"> </span><span class="mtk12">color</span><span class="mtk1">=</span><span class="mtk8">&quot;green&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span><span class="mtk1">)</span></span></code></pre>
<p>and all the styles will be moved to bundle.css. For the dynamic values, we’ll be using css variables(magic spell). For example:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">useCSS</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&#x27;use-css&#x27;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">Oopsy</span><span class="mtk1">(</span><span class="mtk12">props</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1"> = </span><span class="mtk11">useCSS</span><span class="mtk1">(</span><span class="mtk8">`</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    font-size: 21px;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    font-style: italic;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    color: </span><span class="mtk4">${</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">color</span><span class="mtk4">}</span><span class="mtk8">;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    &amp;:hover {</span></span>
<span class="vscode-highlight-line"><span class="mtk8">      font-weight: bold;</span></span>
<span class="vscode-highlight-line"><span class="mtk8">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk8">  `</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">className</span><span class="mtk4">}</span><span class="mtk17">&gt;</span><span class="mtk1">because why not?</span><span class="mtk17">&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk17">&lt;</span><span class="mtk10">Oopsy</span><span class="mtk1"> </span><span class="mtk12">color</span><span class="mtk1">=</span><span class="mtk8">&quot;green&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span><span class="mtk1">);</span></span></code></pre>
<p>will be transformed to:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk3">//js</span></span>
<span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">Oopsy</span><span class="mtk1">(</span><span class="mtk12">props</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1"> = “4</span><span class="mtk12">vg68s</span><span class="mtk1">”</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> (</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">div</span><span class="mtk1"> </span><span class="mtk12">className</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">className</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk12">style</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk1">{“--sj55zd”</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">color</span><span class="mtk1">}</span><span class="mtk4">}</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    because why not?</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">div</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  )</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk11">render</span><span class="mtk1">(</span><span class="mtk17">&lt;</span><span class="mtk10">Oopsy</span><span class="mtk1"> </span><span class="mtk12">color</span><span class="mtk1">=</span><span class="mtk8">&quot;green&quot;</span><span class="mtk1"> </span><span class="mtk17">/&gt;</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk3">//bundle.css</span></span>
<span class="vscode-highlight-line"><span class="mtk1">.4</span><span class="mtk12">vg68s</span><span class="mtk1">{</span></span>
<span class="vscode-highlight-line"><span class="mtk12">font</span><span class="mtk1">-size:21</span><span class="mtk12">px</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk12">font</span><span class="mtk1">-style:</span><span class="mtk12">italic</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">color:</span><span class="mtk4">var</span><span class="mtk1">(--</span><span class="mtk12">sj55zd</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1">.4vg68s:</span><span class="mtk12">hover</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk12">font</span><span class="mtk1">-weight:</span><span class="mtk12">bold</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>To get all the “useCSS” function call we will simply do this:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk11">CallExpression</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">callee</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1"> !== </span><span class="mtk8">&#x27;useCSS&#x27;</span><span class="mtk1">) </span><span class="mtk15">return</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk3">// do the thing</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p><strong>CallExpression</strong> is the node type which we need and the <strong>callee</strong> property of that node gives us the function name. Again, I used AST Explorer to find all the properties of the node.
Now, we need the template literal(styles) passed to the function. For that we are going to traverse its child nodes and get the styles.</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk11">CallExpression</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">callee</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1"> !== </span><span class="mtk8">&#x27;useCSS&#x27;</span><span class="mtk1">) </span><span class="mtk15">return</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk11">traverse</span><span class="mtk1">({</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk3">// nested visitor</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        });</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>“traverse” method is used to traverse child nodes of a node. It takes a “visitor” object. Now, In this visitor we only need the template literal. So,</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk11">CallExpression</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">callee</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1"> !== </span><span class="mtk8">&#x27;useCSS&#x27;</span><span class="mtk1">) </span><span class="mtk15">return</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk11">traverse</span><span class="mtk1">({</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk11">TemplateLiteral</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk3">// do the thing</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        });</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    },</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>Now, template literals have two main properties that we’ll be using, “quasis” and “expressions”. Both these properties are an array. “quasis” contains the string part of the string literal and “expressions” contains the variables used in the string literal. For example the following code:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk8">`I love </span><span class="mtk4">${</span><span class="mtk12">theThing</span><span class="mtk4">}</span><span class="mtk8"> and </span><span class="mtk4">${</span><span class="mtk12">anotherThing</span><span class="mtk4">}</span><span class="mtk8">`</span><span class="mtk1">;</span></span></code></pre>
<p>will be represented as:</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk1">{</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  “</span><span class="mtk12">type</span><span class="mtk1">”: “</span><span class="mtk12">TemplateLiteral</span><span class="mtk1">”,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  “</span><span class="mtk12">quasis</span><span class="mtk1">”: [“</span><span class="mtk12">I</span><span class="mtk1"> </span><span class="mtk12">love</span><span class="mtk1">”, “</span><span class="mtk12">and</span><span class="mtk1">”],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  “expressions: [“</span><span class="mtk12">theThing</span><span class="mtk1">”, “</span><span class="mtk12">anotherThing</span><span class="mtk1">”],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<blockquote>
<p>Note: The values are not stored as array of strings but array of nodes. But, we can get these values from the nodes.</p>
</blockquote>
<p>What if we don’t have any variable in the string literal. Then the “expressions” will be empty and “quasis” will only have one node(whole string).
Let’s write the code to merge these values to get the style</p>
<pre class="default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk11">TemplateLiteral</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">templateLiteral</span><span class="mtk1"> = </span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">; </span><span class="mtk3">//get the node</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">quasis</span><span class="mtk1"> = [...</span><span class="mtk12">templateLiteral</span><span class="mtk1">.</span><span class="mtk12">quasis</span><span class="mtk1">]; </span><span class="mtk3">//get the quasis</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">staticStyle</span><span class="mtk1"> = “”;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk3">// check whether it includes variables or not</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">quasis</span><span class="mtk1">.</span><span class="mtk12">length</span><span class="mtk1"> !== </span><span class="mtk7">1</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">   </span><span class="mtk12">quasis</span><span class="mtk1">.</span><span class="mtk11">map</span><span class="mtk1">((</span><span class="mtk12">el</span><span class="mtk1">, </span><span class="mtk12">i</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk3">// the last quasis is marked as tail in AST</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">tail</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">expr</span><span class="mtk1"> = </span><span class="mtk12">templateLiteral</span><span class="mtk1">.</span><span class="mtk12">expressions</span><span class="mtk1">[</span><span class="mtk12">i</span><span class="mtk1">];</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk3">// check whether the value is an object’s property</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk3">// or a normal variable(babel’s api, more on it later)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">isMemberExpression</span><span class="mtk1">(</span><span class="mtk12">expr</span><span class="mtk1">)) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">value</span><span class="mtk1"> = </span><span class="mtk8">`</span><span class="mtk4">${</span><span class="mtk12">expr</span><span class="mtk1">.</span><span class="mtk12">object</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk4">}</span><span class="mtk8">.</span><span class="mtk4">${</span><span class="mtk12">expr</span><span class="mtk1">.</span><span class="mtk12">property</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk4">}</span><span class="mtk8">`</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      } </span><span class="mtk15">else</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">value</span><span class="mtk1"> = </span><span class="mtk12">expr</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk3">// We are going to use this ‘value’ variable later on.</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk3">// It stores the name of the variable.</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">staticStyle</span><span class="mtk1"> += </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">cooked</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">   });</span></span>
<span class="vscode-highlight-line"><span class="mtk1"> } </span><span class="mtk15">else</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">staticStyle</span><span class="mtk1"> = </span><span class="mtk12">quasis</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">cooked</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<blockquote>
<p>Note: I am not going to describe all the properties of the nodes. <a href="http://astexplorer.net" target="_blank" rel="nofollow noopener noreferrer">AST Explorer</a> is the best 😄</p>
</blockquote>
<p>The above code gets all the string parts(quasis) and store it to the variable <strong>staticStyle</strong>. I’ve only showed how to get the variables but we are not using it yet. Now, if you notice, I am getting the value from <strong>expressions</strong> when the quasis tail(property of that node) is falsy. Because the tail quasis represents the end of the string(there is no variable after it).</p>
<p>Now, we need to do two things to handle dynamic values.</p>
<ol>
<li>Generate a random css variable(It must be unique)</li>
<li>Add that variable to the style attribute in the JSX</li>
</ol>
<p>We are going to use the same hash library used by use-css to create unique css variables. The second step is little complex. We need to add the css variable and its value to the JSX which needs that dynamic style. But, How to find that JSX?</p>
<p>The only way to find the required JSX is to find the variable which is defined in usercode. If you look at the demo of the use-css above. The <strong>useCSS</strong> function returns the class name and the user stores it in a variable and uses it in the JSX. We are going to trace this variable to get to the JSX.
Now, comes another issue. We are in the useCSS function call visitor in our plugin. So, how to reach the JSX which resides somewhere else, within the same visitor. Well it is not possible. So, we’ll store the required information somewhere and make a new visitor for JSX and will use the stored information to manipulate the JSX.</p>
<p>What is the information we are going to store. We need three values for this</p>
<ol>
<li>The variable in the usercode(to find the JSX)</li>
<li>The css variable which we generated</li>
<li>The value our css variable holds</li>
</ol>
<p>Let’s write the code for it</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">import</span><span class="mtk1"> </span><span class="mtk12">hash</span><span class="mtk1"> </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&quot;@emotion/hash&quot;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">styles</span><span class="mtk1"> = {};</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk11">TemplateLiteral</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">identifier</span><span class="mtk1"> = </span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">parentPath</span><span class="mtk1">.</span><span class="mtk12">parentPath</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">id</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk3">// generating unique css variable name</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">cssVarName</span><span class="mtk1"> = </span><span class="mtk11">hash</span><span class="mtk1">(</span><span class="mtk12">value</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk3">// adding it to the style</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">cooked</span><span class="mtk1"> += </span><span class="mtk8">`var(--</span><span class="mtk4">${</span><span class="mtk12">cssVarName</span><span class="mtk4">}</span><span class="mtk8">)`</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk3">// add the css variabe name with its value to</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk3">// the styles obj(dynamic styles)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">styles</span><span class="mtk1">[</span><span class="mtk12">identifier</span><span class="mtk1">] = [</span><span class="mtk12">cssVarName</span><span class="mtk1">, </span><span class="mtk12">value</span><span class="mtk1">];</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>Babel provides the parent path of the node so I used it to get to the user code variable. Also, I am storing the usercode variable as keys in the <strong>styles</strong> object because it will be used to find the JSX. Now, we can find the required JSX. Let’s jump into the code:</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">t</span><span class="mtk1"> = </span><span class="mtk12">babel</span><span class="mtk1">.</span><span class="mtk12">types</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      …,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk11">JSXAttribute</span><span class="mtk1">(</span><span class="mtk12">path</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">type</span><span class="mtk1"> !== </span><span class="mtk8">&quot;JSXExpressionContainer&quot;</span><span class="mtk1">) </span><span class="mtk15">return</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (!</span><span class="mtk12">styles</span><span class="mtk1">[</span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">expression</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1">]) </span><span class="mtk15">return</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">identifier</span><span class="mtk1"> = </span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">expression</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk3">// add style attribute to JSX for dynamic styles</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk12">parentPath</span><span class="mtk1">.</span><span class="mtk12">node</span><span class="mtk1">.</span><span class="mtk12">attributes</span><span class="mtk1">.</span><span class="mtk11">push</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">JSXAttribute</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">JSXIdentifier</span><span class="mtk1">(</span><span class="mtk8">&quot;style&quot;</span><span class="mtk1">),</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">JSXExpressionContainer</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">              </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">ObjectExpression</span><span class="mtk1">([</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">ObjectProperty</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                  </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">StringLiteral</span><span class="mtk1">(</span><span class="mtk8">`--</span><span class="mtk4">${</span><span class="mtk12">styles</span><span class="mtk1">[</span><span class="mtk12">identifier</span><span class="mtk1">][</span><span class="mtk7">0</span><span class="mtk1">]</span><span class="mtk4">}</span><span class="mtk8">`</span><span class="mtk1">),</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                  </span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">Identifier</span><span class="mtk1">(</span><span class="mtk12">styles</span><span class="mtk1">[</span><span class="mtk12">identifier</span><span class="mtk1">][</span><span class="mtk7">1</span><span class="mtk1">])</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                )</span></span>
<span class="vscode-highlight-line"><span class="mtk1">              ])</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            )</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          )</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        );</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>That’s a lot of code. Let’s break it down. So, I am searching for the <strong>JSXAttribute</strong> and the first “if” early exits the function if the attributes value is not a user defined variable. Now, the second “if” checks whether we have something to modify in that node. We do this by simply checking whether we have any entry for that user defined variable in our styles object. Because we don’t need to alter the JSX which is not using any dynamic styles.</p>
<p>Once we pass these tests, we start altering the node. Now, here we are doing something little different. Earlier, we get some information from the node but now we have to build a node i.e. the JSX style attribute.
As I said, Babel provides some magical APIs to make our life a lot easier. We can do this using the builder methods from “babel.types”. We also used one helper function before as well from “babel.types” when we are extracting styles from the string literal. The method name for a builder is simply the name of the node type you want to build except with the first letter lowercased. For example if you wanted to build a MemberExpression(node type) you would use</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk12">t</span><span class="mtk1"> = </span><span class="mtk12">babel</span><span class="mtk1">.</span><span class="mtk12">types</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">memberExpression</span><span class="mtk1">(...)</span></span></code></pre>
<p>The arguments of these builders are decided by the node definition, they can all be found here.
A node definition looks like the following:</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk11">defineType</span><span class="mtk1">(</span><span class="mtk8">&quot;MemberExpression&quot;</span><span class="mtk1">, {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk12">builder:</span><span class="mtk1"> [</span><span class="mtk8">&quot;object&quot;</span><span class="mtk1">, </span><span class="mtk8">&quot;property&quot;</span><span class="mtk1">, </span><span class="mtk8">&quot;computed&quot;</span><span class="mtk1">],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk12">visitor:</span><span class="mtk1"> [</span><span class="mtk8">&quot;object&quot;</span><span class="mtk1">, </span><span class="mtk8">&quot;property&quot;</span><span class="mtk1">],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk12">aliases:</span><span class="mtk1"> [</span><span class="mtk8">&quot;Expression&quot;</span><span class="mtk1">, </span><span class="mtk8">&quot;LVal&quot;</span><span class="mtk1">],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">});</span></span></code></pre>
<p>By looking at the <strong>builder</strong> property, you can see the 3 arguments that will be needed to call the builder method (t.memberExpression).
This looks pretty simple for <strong>MemberExpression</strong>. But, here we are building a JSX Attribute. I want you to explore how this attribute is built(Use <a href="https://github.com/babel/babel/tree/master/packages/babel-types/src/definitions" target="_blank" rel="nofollow noopener noreferrer">node definitions</a> and <a href="http://astexplorer.net" target="_blank" rel="nofollow noopener noreferrer">AST Explorer</a> for reference)</p>
<p>We forgot to save our styles to a css file. Let’s do it now.</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk15">import</span><span class="mtk1"> { </span><span class="mtk12">writeFile</span><span class="mtk1"> } </span><span class="mtk15">from</span><span class="mtk1"> </span><span class="mtk8">&quot;fs&quot;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        } </span><span class="mtk12">else</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">staticStyle</span><span class="mtk1"> = </span><span class="mtk12">quasis</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">cooked</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        }</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">writeFile</span><span class="mtk1">(</span><span class="mtk8">&quot;bundle.css&quot;</span><span class="mtk1">, </span><span class="mtk12">staticStyle</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">err</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">err</span><span class="mtk1">) </span><span class="mtk15">throw</span><span class="mtk1"> </span><span class="mtk12">err</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        });</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>This will generate put all the static styles to <strong>bundle.css</strong>. But, the library also accepts scss like syntax and the styles doesn’t includes any class name yet. So, we have to pre-process it as well. We are going to use the same pre-processor used by use-css and the same hashing library to generate classnames.</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">getClassName</span><span class="mtk1">(</span><span class="mtk12">styles</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk8">&quot;c&quot;</span><span class="mtk1"> + </span><span class="mtk11">hash</span><span class="mtk1">(</span><span class="mtk12">styles</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk15">export</span><span class="mtk1"> </span><span class="mtk15">default</span><span class="mtk1"> </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">babel</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk15">return</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">visitor:</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        } </span><span class="mtk12">else</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk12">staticStyle</span><span class="mtk1"> = </span><span class="mtk12">quasis</span><span class="mtk1">[</span><span class="mtk7">0</span><span class="mtk1">].</span><span class="mtk12">value</span><span class="mtk1">.</span><span class="mtk12">cooked</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk3">// convert string literal into string</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">const</span><span class="mtk1"> </span><span class="mtk12">finalStaticStyle</span><span class="mtk1"> = </span><span class="mtk12">staticStyle</span><span class="mtk1">.</span><span class="mtk11">replace</span><span class="mtk1">(</span><span class="mtk5">/\r</span><span class="mtk6">?</span><span class="mtk5">\n</span><span class="mtk11">|</span><span class="mtk5">\r</span><span class="mtk11">|</span><span class="mtk5">\s/</span><span class="mtk4">g</span><span class="mtk1">, </span><span class="mtk8">&quot;&quot;</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">className</span><span class="mtk1"> = </span><span class="mtk11">getClassName</span><span class="mtk1">(</span><span class="mtk12">finalStaticStyle</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk12">const</span><span class="mtk1"> </span><span class="mtk12">rawCSS</span><span class="mtk1"> = </span><span class="mtk11">stylis</span><span class="mtk1">(</span><span class="mtk8">&quot;.&quot;</span><span class="mtk1"> + </span><span class="mtk12">className</span><span class="mtk1">, </span><span class="mtk12">finalStaticStyle</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">writeFile</span><span class="mtk1">(</span><span class="mtk8">&quot;bundle.css&quot;</span><span class="mtk1">, </span><span class="mtk12">rawCSS</span><span class="mtk1">, </span><span class="mtk4">function</span><span class="mtk1">(</span><span class="mtk12">err</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">          </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk12">err</span><span class="mtk1">) </span><span class="mtk15">throw</span><span class="mtk1"> </span><span class="mtk12">err</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        });</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  };</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre>
<p>Now our babel plugins saves all the css to a static file while managing the dynamic styles as well. So, if we have done all this job during the build time. Why to repeat pre-processing, hashing etc. in the runtime. We need to remove all the useCSS calls and replace it with the classname which we’ve generated.
To do this I’ll simply use the helper method provided by babel. You can find all the babel helper functions <a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/plugin-handbook.md" target="_blank" rel="nofollow noopener noreferrer">here</a>.</p>
<pre class="default-dark vscode-highlight" data-language="js"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk12">path</span><span class="mtk1">.</span><span class="mtk11">replaceWith</span><span class="mtk1">(</span><span class="mtk12">t</span><span class="mtk1">.</span><span class="mtk11">StringLiteral</span><span class="mtk1">(</span><span class="mtk12">className</span><span class="mtk1">));</span></span></code></pre>
<p>We are done with 99.9% of the work. We’ve to remove the use-css imports as well. I got tired writing this blog post 😅. So, I handover this task to you ✌️.
The complete plugin can be found <a href="https://github.com/varunzxzx/babel-plugin-use-css" target="_blank" rel="nofollow noopener noreferrer">here</a>.</p>
<p>By building babel plugin, you feel like you’ve unlocked some new skills. The community has built various cool things like codemods and stuff. The only thing you need to do is to love ASTs 😉.</p>
<p>I used <a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/plugin-handbook.md" target="_blank" rel="nofollow noopener noreferrer">babel-plugin handbook</a> and <a href="https://astexplorer.net" target="_blank" rel="nofollow noopener noreferrer">AST Explorer</a> as a reference while building this plugin. You can’t get better resources than these two. I highly suggest you to read the handbook, it includes all the APIs which you need to build the plugin.</p>
<p>Kindly ping me <a href="https://twitter.com/varunzxzx" target="_blank" rel="nofollow noopener noreferrer">@varunzxzx</a> if you build something amazing. I’ll be super happy if my post inspires someone.</p>
<style class="vscode-highlight-styles">:root {
  --vscode-highlight-padding-v: 1rem;
  --vscode-highlight-padding-h: 1.5rem;
  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);
  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);
  --vscode-highlight-border-radius: 8px;

  --vscode-highlight-line-highlighted-background-color: transparent;
  --vscode-highlight-line-highlighted-border-width: 4px;
  --vscode-highlight-line-highlighted-border-color: transparent;
}

.vscode-highlight {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-top: 1rem;
  padding-top: var(--vscode-highlight-padding-top);
  padding-bottom: 1rem;
  padding-bottom: var(--vscode-highlight-padding-bottom);
  border-radius: 8px;
  border-radius: var(--vscode-highlight-border-radius);
  font-feature-settings: normal;
}

.vscode-highlight-code {
  display: inline-block;
  min-width: 100%;
}

.vscode-highlight-line {
  display: inline-block;
  box-sizing: border-box;
  width: 100%;
  padding-left: 1.5rem;
  padding-left: var(--vscode-highlight-padding-left);
  padding-right: 1.5rem;
  padding-right: var(--vscode-highlight-padding-right);
}

.vscode-highlight-line-highlighted {
  background-color: var(--vscode-highlight-line-highlighted-background-color);
  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);
}
.default-dark {
background-color: #1E1E1E;
color: #D4D4D4;
}

.default-dark .mtk1 { color: #D4D4D4; }
.default-dark .mtk2 { color: #1E1E1E; }
.default-dark .mtk3 { color: #6A9955; }
.default-dark .mtk4 { color: #569CD6; }
.default-dark .mtk5 { color: #D16969; }
.default-dark .mtk6 { color: #D7BA7D; }
.default-dark .mtk7 { color: #B5CEA8; }
.default-dark .mtk8 { color: #CE9178; }
.default-dark .mtk9 { color: #646695; }
.default-dark .mtk10 { color: #4EC9B0; }
.default-dark .mtk11 { color: #DCDCAA; }
.default-dark .mtk12 { color: #9CDCFE; }
.default-dark .mtk13 { color: #000080; }
.default-dark .mtk14 { color: #F44747; }
.default-dark .mtk15 { color: #C586C0; }
.default-dark .mtk16 { color: #6796E6; }
.default-dark .mtk17 { color: #808080; }
.default-dark .mtki { font-style: italic; }
.default-dark .mtkb { font-weight: bold; }
.default-dark .mtku { text-decoration: underline; text-underline-position: under; }</style></div></div><div class="blog-post__Credits-rmcqdm-9 jywVQU"><div class="blog-post__Avatar-rmcqdm-5 cvvcml gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:100%"></div><img src="data:image/svg+xml,%3csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; width=&#x27;400&#x27; height=&#x27;400&#x27;%3e%3cpath d=&#x27;M168 2a115 115 0 0 0-25 5c-6 1-8 2-14 7-4 3-6 6-5 6 1 1 0 2-2 4-5 4-7 12-6 21a245 245 0 0 0 14 46l4 12c3 9 3 15 1 18l-1 3h-1c-1-1-2 0-6 4l-4 4 3 2c2 1 2 1 1 2l-3-1c-1-1-3-1-2 1l-3 4-1-2c0-1-1-1-2 1-2 1-3 3-2 3 2 3 2 5 1 5-2-1-4 2-3 3l-4 4c-2 0-4 4-3 5l-1 1h-1c2 2 0 4-1 2h-1v2h-1c-1 2-5 2-6 1h-1l-1 2-2 2-1 1c0-1-1-1-3 1l-6 3-5 3-2 1-1 1-1 2c-3 3-5 7-5 13l-1 5 2-4c1-2 2-3 3-2l2-1 1-1h1v-3c0-2 0-2-1 0h-2c0-2 9-11 13-13l2-1 1 1h1l-1 1c-2 0-5 5-4 6l-1 1v1l-1 1c-2 0-2 3 0 5l2 3 1 2 1-2c0-2 0-2 2-2 1 1 1 0 1-3-1-3 0-4 1-4 2 0 2-1 2-3l1-2 1-2h4l1-1-1 3v6l-1 2-1 3-1 1c-2 0-1 2 1 2v3c1 1 1 1-1 1-2-1-2-1-1 2v5l-1 1-1 2c1 1 0 2-1 2v5l-1 2-2 2-1 1v2c-1 1 0 1 1 1s2 0 1 1v10c1 1 1 1-1 1h-2l3 1c2 1-3 1-10 1H62l-3 40c-2 30-2 32-4 31-2 0-3 0-4 4a349 349 0 0 0 0 62v2l2 1 5 4 5 4 1 1 2 3c1 1 0 4-2 3l-2 1-2 1-3-1-4-2-2-1c0 1 1 5 2 4l2 2v2l-1 2h5a9070 9070 0 0 0 244-1c-3-3-2-6 0-6 3 0 5 2 5 4v2l2 1h5l6-1c2 0 2-1 2-3 0-4 5-4 7 0 1 2 2 2 4 2 4-1 5-2 3-4-2-1-2-2-2-3l9-1c4-1 4-1 4-3s-5-4-6-3h-13c-2-3 2-8 4-6 3 2 3 0 1-3s-4-5-4-2l-5 1c-4-1-5-1-5 1l-1 1c-2 0-2-3 0-6l2-6c1-3 5-4 5-2s3 4 4 3l1-5c-2 0-3-7-2-9 2-2 2-2 0-4s-2-2-3 0c-2 5-4 6-15 5-3 0 0-3 3-5 4-1 5-2 5-6s0-5 3-6c5-1 7 0 7 4 0 2 1 2 3 1s2-4 1-5c-2-1-1-6 1-7s2-2-2-3c-2-1-4 0-5 1l-3 2-1-2-3-3c-2 0-2 1-2 5 0 7-1 8-2 4l-4-5-4-3-4-2c-2 0-4-3-3-5l-1-2-1 1-2 2-4 3-1 3h3c5-1 6 0 6 2v4c1 2 2 4 1 5-1 3-3 4-3 1 0-2 0-2-5-2-8 1-12 3-12 7l-1 6-1-1-1-1c-1 0-2-1-1-2l-3-4c-2 0-10 8-12 11l-1 2-3-3c-3-3-7-3-5 1l-1 2-4 4-3 3v-15c0-2 0-2-2-2l-2 2-2 2c-2 0-2-2-1-3v-2c-1-2-2-8 0-9s1-3-1-2l-2 3c0 3 0 3-3 3l-5 2c-4 1-7 1-5-2v-8c0-3 0-4-2-6s-2-2-1-3c2-1 3-3 1-5-4-3-2-67 3-79 3-10 3-14-2-26-5-15-15-38-18-42s-12-10-13-9l-1-1-1-2-3-4c-2-4-2-4-1-10 2-8 5-16 8-18l21-6c4-1 8-5 8-7l-2-5-2-7-1-4-1-7 1-6c2-2 1-7-1-9-2-1-2-2-1-2v-1c-2 0-2 0-1-2v-3l1-1c2 0 0-6-4-12l-6-10-2-4 2-4c3-4 3-14-1-19-2-3-11-8-16-9l-4-1c-2-1-6-2-16-1m121 336c1 1 0 3-4 18-2 7-1 8 5 7 5 0 7-1 7-5l1-9c2-7-1-13-6-13-2 0-3 1-3 2m-22 25l-7 3h-4c0-3-2-2-3 1l-4 2c-2 0-2 0 1 5 2 3 4 4 3 0 0-2 0-2 2-1s2 1 4-1c1-2 3-1 1 2-1 2 0 2 3 2 6 1 7 4 4 7l-2 3 4-2c1-1 5-1 9 1 3 1 2-2 0-4s-2-2-1-3c2-1 2-2 2-3v-3c0-2 3-3 3-1l1 2v-6c2-1 2-2 1-2l-5-2h-12m47 0l-3 1c-1-2-7 0-8 2 0 2 0 2-1 0h-3l-6 2c-4 1-5 2-3 4 1 1 2 1 5-1h4c1 1 1 1-1 2l-2 2-1 1c-2 1 0 4 2 4v5l2-2c1-2 3 0 3 2s1 2 3 2l5-2c2 0 3-3 1-5v-5h1c1 1 2-2 1-5s-1-4 3-3c2 0 3 0 3-2 1-3-1-4-5-2&#x27; fill=&#x27;%2364ffda&#x27; fill-rule=&#x27;evenodd&#x27;/%3e%3c/svg%3e" alt="Avatar" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/92b6f14c78faeca823577de6069e4edd/a8891/me.webp 8w,
/static/92b6f14c78faeca823577de6069e4edd/8ce52/me.webp 15w,
/static/92b6f14c78faeca823577de6069e4edd/e7d42/me.webp 30w,
/static/92b6f14c78faeca823577de6069e4edd/1050f/me.webp 45w,
/static/92b6f14c78faeca823577de6069e4edd/4642e/me.webp 60w,
/static/92b6f14c78faeca823577de6069e4edd/cf49e/me.webp 2896w" sizes="(max-width: 30px) 100vw, 30px" /><img loading="lazy" sizes="(max-width: 30px) 100vw, 30px" srcset="/static/92b6f14c78faeca823577de6069e4edd/aff4f/me.jpg 8w,
/static/92b6f14c78faeca823577de6069e4edd/39951/me.jpg 15w,
/static/92b6f14c78faeca823577de6069e4edd/d0c79/me.jpg 30w,
/static/92b6f14c78faeca823577de6069e4edd/064ab/me.jpg 45w,
/static/92b6f14c78faeca823577de6069e4edd/c22e0/me.jpg 60w,
/static/92b6f14c78faeca823577de6069e4edd/77599/me.jpg 2896w" src="/static/92b6f14c78faeca823577de6069e4edd/d0c79/me.jpg" alt="Avatar" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><h3 class="blog-post__Author-rmcqdm-4 dnnRdL">By <!-- -->Varun<!-- --> on <!-- -->2019-06-11</h3></div><div class="blog-post__PostLinks-rmcqdm-10 gFsUYO"><div class="previous first"><p class="empty">This is the first post.</p></div><div class="next latest"><p class="empty">This is the latest post</p></div></div><div class="blog-post__CommentsContainer-rmcqdm-1 iaDXLM"><div id="disqus_thread"></div></div></section></main><footer class="footer__FooterContainer-sc-1etwpkp-0 bcdAJo"><div class="footer__SocialContainer-sc-1etwpkp-1 hsCRme"><ul class="footer__SocialItemList-sc-1etwpkp-2 cVsnps"><li><a href="https://github.com/varunzxzx/" target="_blank" rel="nofollow noopener noreferrer" aria-label="Github" class="footer__SocialLink-sc-1etwpkp-3 dgqFOL"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 438.549 438.549"><title>Github</title><path d="M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365 c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63 c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996 c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136 c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559 c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559 c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997 c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851 c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136 c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41 c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126 c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817 c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994 c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849 c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24 c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979 c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146 c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995 c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906 C438.536,184.851,428.728,148.168,409.132,114.573z"></path></svg></a></li><li><a href="https://www.linkedin.com/in/varunzxzx/" target="_blank" rel="nofollow noopener noreferrer" aria-label="Linkedin" class="footer__SocialLink-sc-1etwpkp-3 dgqFOL"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 430.117 430.117"><title>LinkedIn</title><path d="M430.117,261.543V420.56h-92.188V272.193c0-37.271-13.334-62.707-46.703-62.707 c-25.473,0-40.632,17.142-47.301,33.724c-2.432,5.928-3.058,14.179-3.058,22.477V420.56h-92.219c0,0,1.242-251.285,0-277.32h92.21 v39.309c-0.187,0.294-0.43,0.611-0.606,0.896h0.606v-0.896c12.251-18.869,34.13-45.824,83.102-45.824 C384.633,136.724,430.117,176.361,430.117,261.543z M52.183,9.558C20.635,9.558,0,30.251,0,57.463 c0,26.619,20.038,47.94,50.959,47.94h0.616c32.159,0,52.159-21.317,52.159-47.94C103.128,30.251,83.734,9.558,52.183,9.558z M5.477,420.56h92.184v-277.32H5.477V420.56z"></path></svg></a></li><li><a href="https://twitter.com/varunzxzx" target="_blank" rel="nofollow noopener noreferrer" aria-label="Twitter" class="footer__SocialLink-sc-1etwpkp-3 dgqFOL"><svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 612 612"><title>Twitter</title><path d="M612,116.258c-22.525,9.981-46.694,16.75-72.088,19.772c25.929-15.527,45.777-40.155,55.184-69.411 c-24.322,14.379-51.169,24.82-79.775,30.48c-22.907-24.437-55.49-39.658-91.63-39.658c-69.334,0-125.551,56.217-125.551,125.513 c0,9.828,1.109,19.427,3.251,28.606C197.065,206.32,104.556,156.337,42.641,80.386c-10.823,18.51-16.98,40.078-16.98,63.101 c0,43.559,22.181,81.993,55.835,104.479c-20.575-0.688-39.926-6.348-56.867-15.756v1.568c0,60.806,43.291,111.554,100.693,123.104 c-10.517,2.83-21.607,4.398-33.08,4.398c-8.107,0-15.947-0.803-23.634-2.333c15.985,49.907,62.336,86.199,117.253,87.194 c-42.947,33.654-97.099,53.655-155.916,53.655c-10.134,0-20.116-0.612-29.944-1.721c55.567,35.681,121.536,56.485,192.438,56.485 c230.948,0,357.188-191.291,357.188-357.188l-0.421-16.253C573.872,163.526,595.211,141.422,612,116.258z"></path></svg></a></li></ul></div><div class="footer__Copy-sc-1etwpkp-4 cKMxCm">Made with ❤ using Gatsby.</div></footer></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-76555433-2', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"blog-writing-babel-plugin-0b9","path":"/blog/writing-babel-plugin"};window.dataPath="183/path---blog-writing-babel-plugin-0-b-9-904-feuoyp9Bnezpva6Ro5JbfG5n2cY";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-8ed13ad64a7f1681f28a.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-67cd2e025d3bcb8224d2.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-d2c2308498fcd5d31037.js"],"component---src-pages-404-js":["/component---src-pages-404-js-97e09804e79b3afd97c9.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-81ce2dafdfeb9b2d7c93.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c0acb186cc4c632923ff.js"],"pages-manifest":["/pages-manifest-661e56d904dfa91365d8.js"]};/*]]>*/</script><script src="/webpack-runtime-4a82440b8a11d5219a2e.js" async=""></script><script src="/1-7767e0a7214bd61f90c8.js" async=""></script><script src="/10-fa532db9d7b70ac10c5f.js" async=""></script><script src="/0-29e2257518e490b0a03e.js" async=""></script><script src="/app-8ed13ad64a7f1681f28a.js" async=""></script><script src="/component---src-templates-blog-post-js-d2c2308498fcd5d31037.js" async=""></script></body></html>