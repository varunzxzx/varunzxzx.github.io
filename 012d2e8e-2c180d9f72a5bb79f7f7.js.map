{"version":3,"sources":["webpack:///./node_modules/brace/index.js"],"names":["global","this","window","define","module","deps","payload","arguments","length","modules","payloads","original","apply","console","error","trace","ns","root","_acequire","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","acequire","push","packagedModule","moduleName","normalizeModule","indexOf","chunks","split","charAt","slice","join","previous","replace","exports","mod","id","uri","packaged","ace","x","real","exec","RegExp","test","match","String","compliantExecNpcg","compliantLastIndexIncrement","lastIndex","getNativeFlags","regex","ignoreCase","multiline","extended","sticky","array","item","from","Array","str","name","r2","source","index","_xregexp","captureNames","Empty","Function","bind","that","target","TypeError","args","bound","result","concat","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","hasOwnProperty","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","splice","makeArray","a","lengthBefore","array_splice","start","deleteCount","pos","removeCount","Math","max","removed","insert","add","remove","min","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","isArray","obj","createEmpty","freezeObject","boxedString","splitString","forEach","fun","object","toObject","self","thisp","map","filter","value","every","some","reduce","reduceRight","sought","toInteger","lastIndexOf","abs","getPrototypeOf","__proto__","constructor","getOwnPropertyDescriptor","property","descriptor","enumerable","configurable","getter","setter","get","set","getOwnPropertyNames","keys","create","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","doesDefinePropertyWork","defineProperty","exception","definePropertyWorksOnObject","definePropertyWorksOnDom","document","createElement","definePropertyFallback","seal","freeze","preventExtensions","isSealed","isFrozen","isExtensible","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","key","ii","dontEnum","Date","now","getTime","ws","trim","trimBeginRegexp","trimEndRegexp","n","floor","o","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","hasCssClass","el","className","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","node","include","hasCssString","sheets","createStyleSheet","styleSheets","owningElement","importCssString","cssText","style","appendChild","createTextNode","importCssStylsheet","link","rel","href","getInnerWidth","element","parseInt","computedStyle","clientWidth","getInnerHeight","clientHeight","scrollbarWidth","inner","width","minWidth","height","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","removeChild","pageYOffset","getPageScrollTop","getPageScrollLeft","pageXOffset","scrollTop","scrollLeft","getComputedStyle","currentStyle","setInnerHtml","innerHtml","cloneNode","innerHTML","parentNode","replaceChild","setInnerText","innerText","textContent","getInnerText","getParentWindow","defaultView","parentWindow","inherits","ctor","superCtor","super_","writable","mixin","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","KEY_MODS","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","toLowerCase","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","navigator","os","platform","ua","userAgent","isWin","isIE","appName","parseFloat","isOldIE","isGecko","isMozilla","Controllers","controllers","product","isOldGecko","isOpera","opera","isWebKit","isChrome","isAIR","isIPad","isChromeOS","isIOS","MSStream","useragent","pressedKeys","ts","addListener","elem","type","addEventListener","attachEvent","wrapper","event","_wrapper","removeListener","removeEventListener","detachEvent","stopEvent","e","stopPropagation","preventDefault","cancelBubble","getButton","ctrlKey","altKey","shiftKey","button","1","2","4","capture","eventHandler","releaseCaptureHandler","onMouseUp","addTouchMoveListener","startx","starty","touchObj","touches","clientX","clientY","wheelX","wheelY","addMouseWheelListener","wheelDeltaX","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","3","onMousedown","isNewClick","clearTimeout","setTimeout","_clicks","onDblclick","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","nextTick","win","listener","data","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","last","stringReverse","string","reverse","stringRepeat","count","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","arrayToMap","arr","createMap","props","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","timeout","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","delay","dom","lang","KEYS","MODS","BROKEN_SETDATA","USE_IE_MIME_TYPE","TextInput","host","text","isTouchPad","setAttribute","opacity","insertBefore","firstChild","copied","cut","pasted","inComposition","tempStyle","isSelectionEmpty","isFocused","activeElement","onBlur","onFocus","resetSelection","focus","blur","syncSelection","syncValue","isEmpty","inputHandler","selectionStart","selectionEnd","setSelectionRange","resetValue","selection","setInputHandler","cb","getInputHandler","afterContextMenu","sendText","onPaste","substr","execCommand","substring","onTextInput","onInput","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","closeTimeout","onCompositionUpdate","$readOnly","val","lastValue","undo","canUndo","r","getRange","session","markUndoGroup","range","setRange","clearSelection","onCompositionEnd","c","syncComposition","onContextMenuClose","renderer","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","$undoManager","on","getElement","setReadOnly","readOnly","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","rect","container","getBoundingClientRect","top","borderTopWidth","borderLeftWidth","maxTop","bottom","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","up","home","option","right","end","down","shift","TextInputIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","onTouchMove","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","cursor","row","cmp","column","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","selectionEmpty","getSelectionRange","$blockScrolling","moveToPosition","time","$focusTimout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","setStyle","comparePoint","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","isMultiLine","contains","getLineRange","getAccelKey","$lastScroll","t","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","destroy","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","_signal","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","isMousePressed","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","characterWidth","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","getReadOnly","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","types","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","off","removeAllListeners","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","getOption","opt","warn","forwardTo","handlesSet","message","reportError","msg","Error","AppConfig","$defaultOptions","defineOptions","options","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","ownerDocument","script","getAttribute","attributes","j","attr","m","m1","toUpperCase","base","all","moduleUrl","component","parts","sep","re","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","DefaultGutterHandler","config","MouseHandler","focusEditor","hasFocus","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","insideStart","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onCaptureInterval","$onCaptureMouseMove","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","getLine","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","commands","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","h","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","command","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","rtlCandidate","_getCharacterType","ch","uc","charCodeAt","L","R","EN","ON_R","AN","R_H","B","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","action","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","line","wrapIndent","isLastRow","EOF","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","$useWrapMode","splits","$wrapData","indent","size","isFullWidth","getScreenTabSize","endOfLine","markAsDirty","updateCharacterWidths","fontMetrics","$characterSize","bidiCharWidth","$measureCharWidth","getShowInvisibles","setShowInvisibles","setEolChar","eolChar","setTextDir","getPosLeft","col","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","logicalIdx","charWidth","Range","startRow","startColumn","endRow","endColumn","isEqual","compare","compareRange","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideEnd","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","clone","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","Selection","getDocument","lead","selectionLead","createAnchor","selectionAnchor","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","getCursor","getPosition","getSelectionAnchor","getSelectionLead","shiftSelection","columns","moveCursorTo","isBackwards","$moveSelection","mover","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectWord","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","$bidiHandler","round","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","splitChar","keywords","list","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","mode","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","rowCount","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","context","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","selected","opening","closing","rowDiff","CstyleBehaviour","getCursorPosition","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","iterator","$matchTokenType","iterator2","bracket","packages","pack","codePoint","addUnicodePackage","Ll","Lu","Lt","Lm","Lo","M","Mn","Mc","Me","N","Nd","Nl","No","P","Pd","Ps","Pe","Pi","Pf","Pc","Po","S","Sm","Sc","Sk","So","Z","Zs","Zl","Zp","C","Cc","Cf","Co","Cs","Cn","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","removeInLine","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$modes","delegations","scope","functionName","$delegator","method","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","meta","$id","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","pointIndex","excludeEdges","startIndex","endIndex","addList","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","ignore","$deltasDoc","$deltasFold","$informUndoManager","$deltas","setUndoManager","getUndoManager","reset","getSelection","undoManager","$syncInformUndoManager","group","execute","mergeUndoDeltas","$defaultUndoManager","redo","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","getOverwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","markers","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","getScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","w","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","lastUndoRange","$getUndoSelection","foldDelta","redoChanges","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","Number","MAX_VALUE","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","getUseWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","displayed","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","modifier","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","findKeyCommand","$keyChain","CommandManager","byName","isAvailable","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","prompt","gotoLine","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","$mouseHandler","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","startOperation","endOperation","$opResetTimer","curOp","docChanged","selectionChanged","prevOp","commadEvent","previousCommand","scrollSelectionIntoView","animateScrolling","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","handler","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","cursorPos","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$bracketHighlight","$highlightPending","getMatching","$highlightTags","$highlightTagPending","$tagHighlight","prevToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","updateLines","$updateHighlightActiveLine","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","startOuter","endOuter","lineCols","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","inVirtualSelectionMode","getBehavioursEnabled","transform","$mergeNextCommand","d","lineState","shouldOutdent","lineIndent","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","sel","endPoint","moved","totalDiff","rangeIndex","subRows","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","preventScroll","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$resetCursorStyle","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","keybindingId","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","showLineNumbers","showGutter","displayIndentGuides","fontSize","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","foldStyle","UndoManager","$serializeDelta","$deserializeDelta","cloneDeltaSetsObj","deltaSets_old","fnGetModifiedDelta","deltaSets_new","deltaSet_old","deltaSet_new","delta_old","deltaSets","$doc","hasUndo","dirtyCounter","$undoStack","$redoStack","NaN","undoSelectionRange","redoSelectionRange","$deserializeDeltas","hasRedo","markClean","isClean","$serializeDeltas","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","$cells","rowInfo","annoText","gutterOffset","breakpoints","decorations","$firstLineNumber","lastLineNumber","gutterRenderer","$renderer","cell","textNode","foldWidget","getText","minHeight","$fixedWidth","padding","$padding","$computePadding","ceil","$showLineNumbers","setShowLineNumbers","getShowLineNumbers","paddingLeft","paddingRight","Marker","setPadding","setMarkers","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","drawBidiSingleLineMarker","firstRowScreen","stringBuilder","extraStyle","curr","clazzModified","lineRange","range1","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","$indentGuideRe","spaceClass","tabClass","spaceContent","tabContent","scrollLines","lineElements","childNodes","lineElementsIdx","lineElement","$renderLine","$useLineGroups","oldConfig","lastChild","fragment","$renderLinesFragment","createDocumentFragment","$textToken","$renderToken","output","tabIdx","idx4","classToUse","space","renderIndentGuide","cols","$renderWrappedLine","onlyContents","splitChars","$renderSimpleLine","$getFoldLineTokens","renderTokens","addTokens","$measureNode","isIE8","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateVisibility","$updateOpacity","visibility","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","getPixelPosition","onScreen","$selectionMarkers","cursorIndex","pixelPos","drawCursor","$setOverwrite","ScrollBar","parent","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","change","CHAR_COUNT","FontMetrics","$setMeasureNodeStyles","$main","$testFractionalRect","isRoot","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","setPolling","GutterLayer","MarkerLayer","TextLayer","CursorLayer","VirtualRenderer","content","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","maxHeight","v","$loop","$renderChanges","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_GUTTER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$updateGutterLineHighlight","$gutterLineHighlight","$printMarginEl","containerEl","posTop","posLeft","$composition","setScrollMargin","sm","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","unfreeze","st","marginTop","marginLeft","$highlightGutterLine","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","textToScreenCoordinates","pageX","pageY","keepTextAreaAtCursor","$themeId","cssClass","$theme","isDark","setMouseCursor","maxPixelHeight","workerUrl","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","Worker","WorkerClient","topLevelNamespaces","classname","importScripts","$sendDeltaQueue","changeListener","onMessage","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","callbackId","callbacks","onmessage","err","deltaQueue","cmd","emit","ex","attachToDocument","q","UIWorkerClient","messageBuffer","main","emitSync","sender","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","selectionBefore","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","onSelectionInterval","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","selectMoreLines","selectMore","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","yBackwards","docEnd","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","forEachSelection","keepOrder","$byLines","reg","cmdResult","anim","buf","nl","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","hidden","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","createEditSession","version"],"mappings":"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","file":"012d2e8e-2c180d9f72a5bb79f7f7.js","sourcesContent":["require(\"core-js/modules/es.array.reduce.js\");\n\nrequire(\"core-js/modules/es.array.reduce-right.js\");\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\nrequire(\"core-js/modules/esnext.string.replace-all.js\");\n\n/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (acequire, exports, module) params\n */\n(function () {\n  var ACE_NAMESPACE = \"ace\";\n\n  var global = function () {\n    return this;\n  }();\n\n  if (!global && typeof window != \"undefined\") global = window; // strict mode\n\n  if (!ACE_NAMESPACE && typeof acequirejs !== \"undefined\") return;\n\n  var define = function define(module, deps, payload) {\n    if (typeof module !== \"string\") {\n      if (define.original) define.original.apply(this, arguments);else {\n        console.error(\"dropping module because define wasn\\'t a string.\");\n        console.trace();\n      }\n      return;\n    }\n\n    if (arguments.length == 2) payload = deps;\n\n    if (!define.modules[module]) {\n      define.payloads[module] = payload;\n      define.modules[module] = null;\n    }\n  };\n\n  define.modules = {};\n  define.payloads = {};\n  /**\n   * Get at functionality define()ed using the function above\n   */\n\n  var _acequire = function _acequire(parentId, module, callback) {\n    if (typeof module === \"string\") {\n      var payload = lookup(parentId, module);\n\n      if (payload != undefined) {\n        callback && callback();\n        return payload;\n      }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n      var params = [];\n\n      for (var i = 0, l = module.length; i < l; ++i) {\n        var dep = lookup(parentId, module[i]);\n        if (dep == undefined && acequire.original) return;\n        params.push(dep);\n      }\n\n      return callback && callback.apply(null, params) || true;\n    }\n  };\n\n  var acequire = function acequire(module, callback) {\n    var packagedModule = _acequire(\"\", module, callback);\n\n    if (packagedModule == undefined && acequire.original) return acequire.original.apply(this, arguments);\n    return packagedModule;\n  };\n\n  var normalizeModule = function normalizeModule(parentId, moduleName) {\n    // normalize plugin acequires\n    if (moduleName.indexOf(\"!\") !== -1) {\n      var chunks = moduleName.split(\"!\");\n      return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    } // normalize relative acequires\n\n\n    if (moduleName.charAt(0) == \".\") {\n      var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n      moduleName = base + \"/\" + moduleName;\n\n      while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n        var previous = moduleName;\n        moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n      }\n    }\n\n    return moduleName;\n  };\n  /**\n   * Internal function to lookup moduleNames and resolve them by calling the\n   * definition function if needed.\n   */\n\n\n  var lookup = function lookup(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n    var module = define.modules[moduleName];\n\n    if (!module) {\n      module = define.payloads[moduleName];\n\n      if (typeof module === 'function') {\n        var exports = {};\n        var mod = {\n          id: moduleName,\n          uri: '',\n          exports: exports,\n          packaged: true\n        };\n\n        var req = function req(module, callback) {\n          return _acequire(moduleName, module, callback);\n        };\n\n        var returnValue = module(req, exports, mod);\n        exports = returnValue || mod.exports;\n        define.modules[moduleName] = exports;\n        delete define.payloads[moduleName];\n      }\n\n      module = define.modules[moduleName] = exports || module;\n    }\n\n    return module;\n  };\n\n  function exportAce(ns) {\n    var root = global;\n\n    if (ns) {\n      if (!global[ns]) global[ns] = {};\n      root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n      define.original = root.define;\n      root.define = define;\n      root.define.packaged = true;\n    }\n\n    if (!root.acequire || !root.acequire.packaged) {\n      acequire.original = root.acequire;\n      root.acequire = acequire;\n      root.acequire.packaged = true;\n    }\n  }\n\n  exportAce(ACE_NAMESPACE);\n})();\n\nace.define(\"ace/lib/regexp\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var real = {\n    exec: RegExp.prototype.exec,\n    test: RegExp.prototype.test,\n    match: String.prototype.match,\n    replace: String.prototype.replace,\n    split: String.prototype.split\n  },\n      compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined,\n      // check `exec` handling of nonparticipating capturing groups\n  compliantLastIndexIncrement = function () {\n    var x = /^/g;\n    real.test.call(x, \"\");\n    return !x.lastIndex;\n  }();\n\n  if (compliantLastIndexIncrement && compliantExecNpcg) return;\n\n  RegExp.prototype.exec = function (str) {\n    var match = real.exec.apply(this, arguments),\n        name,\n        r2;\n\n    if (typeof str == 'string' && match) {\n      if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n        r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n        real.replace.call(str.slice(match.index), r2, function () {\n          for (var i = 1; i < arguments.length - 2; i++) {\n            if (arguments[i] === undefined) match[i] = undefined;\n          }\n        });\n      }\n\n      if (this._xregexp && this._xregexp.captureNames) {\n        for (var i = 1; i < match.length; i++) {\n          name = this._xregexp.captureNames[i - 1];\n          if (name) match[name] = match[i];\n        }\n      }\n\n      if (!compliantLastIndexIncrement && this.global && !match[0].length && this.lastIndex > match.index) this.lastIndex--;\n    }\n\n    return match;\n  };\n\n  if (!compliantLastIndexIncrement) {\n    RegExp.prototype.test = function (str) {\n      var match = real.exec.call(this, str);\n      if (match && this.global && !match[0].length && this.lastIndex > match.index) this.lastIndex--;\n      return !!match;\n    };\n  }\n\n  function getNativeFlags(regex) {\n    return (regex.global ? \"g\" : \"\") + (regex.ignoreCase ? \"i\" : \"\") + (regex.multiline ? \"m\" : \"\") + (regex.extended ? \"x\" : \"\") + ( // Proposed for ES4; included in AS3\n    regex.sticky ? \"y\" : \"\");\n  }\n\n  function indexOf(array, item, from) {\n    if (Array.prototype.indexOf) // Use the native array method if available\n      return array.indexOf(item, from);\n\n    for (var i = from || 0; i < array.length; i++) {\n      if (array[i] === item) return i;\n    }\n\n    return -1;\n  }\n});\nace.define(\"ace/lib/es5-shim\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  function Empty() {}\n\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) {\n      // .length is 1\n      var target = this;\n\n      if (typeof target != \"function\") {\n        throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n      }\n\n      var args = slice.call(arguments, 1); // for normal call\n\n      var bound = function bound() {\n        if (this instanceof bound) {\n          var result = target.apply(this, args.concat(slice.call(arguments)));\n\n          if (Object(result) === result) {\n            return result;\n          }\n\n          return this;\n        } else {\n          return target.apply(that, args.concat(slice.call(arguments)));\n        }\n      };\n\n      if (target.prototype) {\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n      }\n\n      return bound;\n    };\n  }\n\n  var call = Function.prototype.call;\n  var prototypeOfArray = Array.prototype;\n  var prototypeOfObject = Object.prototype;\n  var slice = prototypeOfArray.slice;\n\n  var _toString = call.bind(prototypeOfObject.toString);\n\n  var owns = call.bind(prototypeOfObject.hasOwnProperty);\n  var defineGetter;\n  var defineSetter;\n  var lookupGetter;\n  var lookupSetter;\n  var supportsAccessors;\n\n  if (supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\")) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n  }\n\n  if ([1, 2].splice(0).length != 2) {\n    if (function () {\n      // test IE < 9 to splice bug - see issue #138\n      function makeArray(l) {\n        var a = new Array(l + 2);\n        a[0] = a[1] = 0;\n        return a;\n      }\n\n      var array = [],\n          lengthBefore;\n      array.splice.apply(array, makeArray(20));\n      array.splice.apply(array, makeArray(26));\n      lengthBefore = array.length; //46\n\n      array.splice(5, 0, \"XXX\"); // add one element\n\n      lengthBefore + 1 == array.length;\n\n      if (lengthBefore + 1 == array.length) {\n        return true; // has right splice implementation without bugs\n      }\n    }()) {\n      //IE 6/7\n      var array_splice = Array.prototype.splice;\n\n      Array.prototype.splice = function (start, deleteCount) {\n        if (!arguments.length) {\n          return [];\n        } else {\n          return array_splice.apply(this, [start === void 0 ? 0 : start, deleteCount === void 0 ? this.length - start : deleteCount].concat(slice.call(arguments, 2)));\n        }\n      };\n    } else {\n      //IE8\n      Array.prototype.splice = function (pos, removeCount) {\n        var length = this.length;\n\n        if (pos > 0) {\n          if (pos > length) pos = length;\n        } else if (pos == void 0) {\n          pos = 0;\n        } else if (pos < 0) {\n          pos = Math.max(length + pos, 0);\n        }\n\n        if (!(pos + removeCount < length)) removeCount = length - pos;\n        var removed = this.slice(pos, pos + removeCount);\n        var insert = slice.call(arguments, 2);\n        var add = insert.length;\n\n        if (pos === length) {\n          if (add) {\n            this.push.apply(this, insert);\n          }\n        } else {\n          var remove = Math.min(removeCount, length - pos);\n          var tailOldPos = pos + remove;\n          var tailNewPos = tailOldPos + add - remove;\n          var tailCount = length - tailOldPos;\n          var lengthAfterRemove = length - remove;\n\n          if (tailNewPos < tailOldPos) {\n            // case A\n            for (var i = 0; i < tailCount; ++i) {\n              this[tailNewPos + i] = this[tailOldPos + i];\n            }\n          } else if (tailNewPos > tailOldPos) {\n            // case B\n            for (i = tailCount; i--;) {\n              this[tailNewPos + i] = this[tailOldPos + i];\n            }\n          } // else, add == remove (nothing to do)\n\n\n          if (add && pos === lengthAfterRemove) {\n            this.length = lengthAfterRemove; // truncate array\n\n            this.push.apply(this, insert);\n          } else {\n            this.length = lengthAfterRemove + add; // reserves space\n\n            for (i = 0; i < add; ++i) {\n              this[pos + i] = insert[i];\n            }\n          }\n        }\n\n        return removed;\n      };\n    }\n  }\n\n  if (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n      return _toString(obj) == \"[object Array]\";\n    };\n  }\n\n  var boxedString = Object(\"a\"),\n      splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\n  if (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun\n    /*, thisp*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          thisp = arguments[1],\n          i = -1,\n          length = self.length >>> 0;\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(); // TODO message\n      }\n\n      while (++i < length) {\n        if (i in self) {\n          fun.call(thisp, self[i], i, object);\n        }\n      }\n    };\n  }\n\n  if (!Array.prototype.map) {\n    Array.prototype.map = function map(fun\n    /*, thisp*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          result = Array(length),\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) result[i] = fun.call(thisp, self[i], i, object);\n      }\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun\n    /*, thisp */\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          result = [],\n          value,\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self) {\n          value = self[i];\n\n          if (fun.call(thisp, value, i, object)) {\n            result.push(value);\n          }\n        }\n      }\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.every) {\n    Array.prototype.every = function every(fun\n    /*, thisp */\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && !fun.call(thisp, self[i], i, object)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n  }\n\n  if (!Array.prototype.some) {\n    Array.prototype.some = function some(fun\n    /*, thisp */\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0,\n          thisp = arguments[1];\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      for (var i = 0; i < length; i++) {\n        if (i in self && fun.call(thisp, self[i], i, object)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  }\n\n  if (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun\n    /*, initial*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0;\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      if (!length && arguments.length == 1) {\n        throw new TypeError(\"reduce of empty array with no initial value\");\n      }\n\n      var i = 0;\n      var result;\n\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i++];\n            break;\n          }\n\n          if (++i >= length) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n          }\n        } while (true);\n      }\n\n      for (; i < length; i++) {\n        if (i in self) {\n          result = fun.call(void 0, result, self[i], i, object);\n        }\n      }\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun\n    /*, initial*/\n    ) {\n      var object = toObject(this),\n          self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n          length = self.length >>> 0;\n\n      if (_toString(fun) != \"[object Function]\") {\n        throw new TypeError(fun + \" is not a function\");\n      }\n\n      if (!length && arguments.length == 1) {\n        throw new TypeError(\"reduceRight of empty array with no initial value\");\n      }\n\n      var result,\n          i = length - 1;\n\n      if (arguments.length >= 2) {\n        result = arguments[1];\n      } else {\n        do {\n          if (i in self) {\n            result = self[i--];\n            break;\n          }\n\n          if (--i < 0) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n          }\n        } while (true);\n      }\n\n      do {\n        if (i in this) {\n          result = fun.call(void 0, result, self[i], i, object);\n        }\n      } while (i--);\n\n      return result;\n    };\n  }\n\n  if (!Array.prototype.indexOf || [0, 1].indexOf(1, 2) != -1) {\n    Array.prototype.indexOf = function indexOf(sought\n    /*, fromIndex */\n    ) {\n      var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n          length = self.length >>> 0;\n\n      if (!length) {\n        return -1;\n      }\n\n      var i = 0;\n\n      if (arguments.length > 1) {\n        i = toInteger(arguments[1]);\n      }\n\n      i = i >= 0 ? i : Math.max(0, length + i);\n\n      for (; i < length; i++) {\n        if (i in self && self[i] === sought) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n  }\n\n  if (!Array.prototype.lastIndexOf || [0, 1].lastIndexOf(0, -3) != -1) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought\n    /*, fromIndex */\n    ) {\n      var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n          length = self.length >>> 0;\n\n      if (!length) {\n        return -1;\n      }\n\n      var i = length - 1;\n\n      if (arguments.length > 1) {\n        i = Math.min(i, toInteger(arguments[1]));\n      }\n\n      i = i >= 0 ? i : length - Math.abs(i);\n\n      for (; i >= 0; i--) {\n        if (i in self && sought === self[i]) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n  }\n\n  if (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n      return object.__proto__ || (object.constructor ? object.constructor.prototype : prototypeOfObject);\n    };\n  }\n\n  if (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" + \"non-object: \";\n\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n      if (typeof object != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT + object);\n      if (!owns(object, property)) return;\n      var descriptor, getter, setter;\n      descriptor = {\n        enumerable: true,\n        configurable: true\n      };\n\n      if (supportsAccessors) {\n        var prototype = object.__proto__;\n        object.__proto__ = prototypeOfObject;\n        var getter = lookupGetter(object, property);\n        var setter = lookupSetter(object, property);\n        object.__proto__ = prototype;\n\n        if (getter || setter) {\n          if (getter) descriptor.get = getter;\n          if (setter) descriptor.set = setter;\n          return descriptor;\n        }\n      }\n\n      descriptor.value = object[property];\n      return descriptor;\n    };\n  }\n\n  if (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n      return Object.keys(object);\n    };\n  }\n\n  if (!Object.create) {\n    var createEmpty;\n\n    if (Object.prototype.__proto__ === null) {\n      createEmpty = function createEmpty() {\n        return {\n          \"__proto__\": null\n        };\n      };\n    } else {\n      createEmpty = function createEmpty() {\n        var empty = {};\n\n        for (var i in empty) {\n          empty[i] = null;\n        }\n\n        empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null;\n        return empty;\n      };\n    }\n\n    Object.create = function create(prototype, properties) {\n      var object;\n\n      if (prototype === null) {\n        object = createEmpty();\n      } else {\n        if (typeof prototype != \"object\") throw new TypeError(\"typeof prototype[\" + typeof prototype + \"] != 'object'\");\n\n        var Type = function Type() {};\n\n        Type.prototype = prototype;\n        object = new Type();\n        object.__proto__ = prototype;\n      }\n\n      if (properties !== void 0) Object.defineProperties(object, properties);\n      return object;\n    };\n  }\n\n  function doesDefinePropertyWork(object) {\n    try {\n      Object.defineProperty(object, \"sentinel\", {});\n      return \"sentinel\" in object;\n    } catch (exception) {}\n  }\n\n  if (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" || doesDefinePropertyWork(document.createElement(\"div\"));\n\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n      var definePropertyFallback = Object.defineProperty;\n    }\n  }\n\n  if (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \";\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" + \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n      if (typeof object != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n      if (typeof descriptor != \"object\" && typeof descriptor != \"function\" || descriptor === null) throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n\n      if (definePropertyFallback) {\n        try {\n          return definePropertyFallback.call(Object, object, property, descriptor);\n        } catch (exception) {}\n      }\n\n      if (owns(descriptor, \"value\")) {\n        if (supportsAccessors && (lookupGetter(object, property) || lookupSetter(object, property))) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          delete object[property];\n          object[property] = descriptor.value;\n          object.__proto__ = prototype;\n        } else {\n          object[property] = descriptor.value;\n        }\n      } else {\n        if (!supportsAccessors) throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n        if (owns(descriptor, \"get\")) defineGetter(object, property, descriptor.get);\n        if (owns(descriptor, \"set\")) defineSetter(object, property, descriptor.set);\n      }\n\n      return object;\n    };\n  }\n\n  if (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n      for (var property in properties) {\n        if (owns(properties, property)) Object.defineProperty(object, property, properties[property]);\n      }\n\n      return object;\n    };\n  }\n\n  if (!Object.seal) {\n    Object.seal = function seal(object) {\n      return object;\n    };\n  }\n\n  if (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n      return object;\n    };\n  }\n\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = function freeze(freezeObject) {\n      return function freeze(object) {\n        if (typeof object == \"function\") {\n          return object;\n        } else {\n          return freezeObject(object);\n        }\n      };\n    }(Object.freeze);\n  }\n\n  if (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n      return object;\n    };\n  }\n\n  if (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n      return false;\n    };\n  }\n\n  if (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n      return false;\n    };\n  }\n\n  if (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n      if (Object(object) === object) {\n        throw new TypeError(); // TODO message\n      }\n\n      var name = '';\n\n      while (owns(object, name)) {\n        name += '?';\n      }\n\n      object[name] = true;\n      var returnValue = owns(object, name);\n      delete object[name];\n      return returnValue;\n    };\n  }\n\n  if (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\"toString\", \"toLocaleString\", \"valueOf\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"constructor\"],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\n      \"toString\": null\n    }) {\n      hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n      if (typeof object != \"object\" && typeof object != \"function\" || object === null) {\n        throw new TypeError(\"Object.keys called on a non-object\");\n      }\n\n      var keys = [];\n\n      for (var name in object) {\n        if (owns(object, name)) {\n          keys.push(name);\n        }\n      }\n\n      if (hasDontEnumBug) {\n        for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n          var dontEnum = dontEnums[i];\n\n          if (owns(object, dontEnum)) {\n            keys.push(dontEnum);\n          }\n        }\n      }\n\n      return keys;\n    };\n  }\n\n  if (!Date.now) {\n    Date.now = function now() {\n      return new Date().getTime();\n    };\n  }\n\n  var ws = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" + \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" + \"\\u2029\\uFEFF\";\n\n  if (!String.prototype.trim || ws.trim()) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n\n    String.prototype.trim = function trim() {\n      return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n  }\n\n  function toInteger(n) {\n    n = +n;\n\n    if (n !== n) {\n      // isNaN\n      n = 0;\n    } else if (n !== 0 && n !== 1 / 0 && n !== -(1 / 0)) {\n      n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n\n    return n;\n  }\n\n  function isPrimitive(input) {\n    var type = typeof input;\n    return input === null || type === \"undefined\" || type === \"boolean\" || type === \"number\" || type === \"string\";\n  }\n\n  function toPrimitive(input) {\n    var val, valueOf, toString;\n\n    if (isPrimitive(input)) {\n      return input;\n    }\n\n    valueOf = input.valueOf;\n\n    if (typeof valueOf === \"function\") {\n      val = valueOf.call(input);\n\n      if (isPrimitive(val)) {\n        return val;\n      }\n    }\n\n    toString = input.toString;\n\n    if (typeof toString === \"function\") {\n      val = toString.call(input);\n\n      if (isPrimitive(val)) {\n        return val;\n      }\n    }\n\n    throw new TypeError();\n  }\n\n  var toObject = function toObject(o) {\n    if (o == null) {\n      // this matches both null and undefined\n      throw new TypeError(\"can't convert \" + o + \" to object\");\n    }\n\n    return Object(o);\n  };\n});\nace.define(\"ace/lib/fixoldbrowsers\", [\"require\", \"exports\", \"module\", \"ace/lib/regexp\", \"ace/lib/es5-shim\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  acequire(\"./regexp\");\n  acequire(\"./es5-shim\");\n});\nace.define(\"ace/lib/dom\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\n  exports.getDocumentHead = function (doc) {\n    if (!doc) doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n  };\n\n  exports.createElement = function (tag, ns) {\n    return document.createElementNS ? document.createElementNS(ns || XHTML_NS, tag) : document.createElement(tag);\n  };\n\n  exports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n  };\n\n  exports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n      el.className += \" \" + name;\n    }\n  };\n\n  exports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n\n    while (true) {\n      var index = classes.indexOf(name);\n\n      if (index == -1) {\n        break;\n      }\n\n      classes.splice(index, 1);\n    }\n\n    el.className = classes.join(\" \");\n  };\n\n  exports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g),\n        add = true;\n\n    while (true) {\n      var index = classes.indexOf(name);\n\n      if (index == -1) {\n        break;\n      }\n\n      add = false;\n      classes.splice(index, 1);\n    }\n\n    if (add) classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n  };\n\n  exports.setCssClass = function (node, className, include) {\n    if (include) {\n      exports.addCssClass(node, className);\n    } else {\n      exports.removeCssClass(node, className);\n    }\n  };\n\n  exports.hasCssString = function (id, doc) {\n    var index = 0,\n        sheets;\n    doc = doc || document;\n\n    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {\n      while (index < sheets.length) {\n        if (sheets[index++].owningElement.id === id) return true;\n      }\n    } else if (sheets = doc.getElementsByTagName(\"style\")) {\n      while (index < sheets.length) {\n        if (sheets[index++].id === id) return true;\n      }\n    }\n\n    return false;\n  };\n\n  exports.importCssString = function importCssString(cssText, id, doc) {\n    doc = doc || document;\n    if (id && exports.hasCssString(id, doc)) return null;\n    var style;\n    if (id) cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n\n    if (doc.createStyleSheet) {\n      style = doc.createStyleSheet();\n      style.cssText = cssText;\n      if (id) style.owningElement.id = id;\n    } else {\n      style = exports.createElement(\"style\");\n      style.appendChild(doc.createTextNode(cssText));\n      if (id) style.id = id;\n      exports.getDocumentHead(doc).appendChild(style);\n    }\n  };\n\n  exports.importCssStylsheet = function (uri, doc) {\n    if (doc.createStyleSheet) {\n      doc.createStyleSheet(uri);\n    } else {\n      var link = exports.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = uri;\n      exports.getDocumentHead(doc).appendChild(link);\n    }\n  };\n\n  exports.getInnerWidth = function (element) {\n    return parseInt(exports.computedStyle(element, \"paddingLeft\"), 10) + parseInt(exports.computedStyle(element, \"paddingRight\"), 10) + element.clientWidth;\n  };\n\n  exports.getInnerHeight = function (element) {\n    return parseInt(exports.computedStyle(element, \"paddingTop\"), 10) + parseInt(exports.computedStyle(element, \"paddingBottom\"), 10) + element.clientHeight;\n  };\n\n  exports.scrollbarWidth = function (document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = document.documentElement;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n      withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n  };\n\n  if (typeof document == \"undefined\") {\n    exports.importCssString = function () {};\n\n    return;\n  }\n\n  if (window.pageYOffset !== undefined) {\n    exports.getPageScrollTop = function () {\n      return window.pageYOffset;\n    };\n\n    exports.getPageScrollLeft = function () {\n      return window.pageXOffset;\n    };\n  } else {\n    exports.getPageScrollTop = function () {\n      return document.body.scrollTop;\n    };\n\n    exports.getPageScrollLeft = function () {\n      return document.body.scrollLeft;\n    };\n  }\n\n  if (window.getComputedStyle) exports.computedStyle = function (element, style) {\n    if (style) return (window.getComputedStyle(element, \"\") || {})[style] || \"\";\n    return window.getComputedStyle(element, \"\") || {};\n  };else exports.computedStyle = function (element, style) {\n    if (style) return element.currentStyle[style];\n    return element.currentStyle;\n  };\n\n  exports.setInnerHtml = function (el, innerHtml) {\n    var element = el.cloneNode(false); //document.createElement(\"div\");\n\n    element.innerHTML = innerHtml;\n    el.parentNode.replaceChild(element, el);\n    return element;\n  };\n\n  if (\"textContent\" in document.documentElement) {\n    exports.setInnerText = function (el, innerText) {\n      el.textContent = innerText;\n    };\n\n    exports.getInnerText = function (el) {\n      return el.textContent;\n    };\n  } else {\n    exports.setInnerText = function (el, innerText) {\n      el.innerText = innerText;\n    };\n\n    exports.getInnerText = function (el) {\n      return el.innerText;\n    };\n  }\n\n  exports.getParentWindow = function (document) {\n    return document.defaultView || document.parentWindow;\n  };\n});\nace.define(\"ace/lib/oop\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  exports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n\n  exports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n      obj[key] = mixin[key];\n    }\n\n    return obj;\n  };\n\n  exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  };\n});\nace.define(\"ace/lib/keys\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  acequire(\"./fixoldbrowsers\");\n  var oop = acequire(\"./oop\");\n\n  var Keys = function () {\n    var ret = {\n      MODIFIER_KEYS: {\n        16: 'Shift',\n        17: 'Ctrl',\n        18: 'Alt',\n        224: 'Meta'\n      },\n      KEY_MODS: {\n        \"ctrl\": 1,\n        \"alt\": 2,\n        \"option\": 2,\n        \"shift\": 4,\n        \"super\": 8,\n        \"meta\": 8,\n        \"command\": 8,\n        \"cmd\": 8\n      },\n      FUNCTION_KEYS: {\n        8: \"Backspace\",\n        9: \"Tab\",\n        13: \"Return\",\n        19: \"Pause\",\n        27: \"Esc\",\n        32: \"Space\",\n        33: \"PageUp\",\n        34: \"PageDown\",\n        35: \"End\",\n        36: \"Home\",\n        37: \"Left\",\n        38: \"Up\",\n        39: \"Right\",\n        40: \"Down\",\n        44: \"Print\",\n        45: \"Insert\",\n        46: \"Delete\",\n        96: \"Numpad0\",\n        97: \"Numpad1\",\n        98: \"Numpad2\",\n        99: \"Numpad3\",\n        100: \"Numpad4\",\n        101: \"Numpad5\",\n        102: \"Numpad6\",\n        103: \"Numpad7\",\n        104: \"Numpad8\",\n        105: \"Numpad9\",\n        '-13': \"NumpadEnter\",\n        112: \"F1\",\n        113: \"F2\",\n        114: \"F3\",\n        115: \"F4\",\n        116: \"F5\",\n        117: \"F6\",\n        118: \"F7\",\n        119: \"F8\",\n        120: \"F9\",\n        121: \"F10\",\n        122: \"F11\",\n        123: \"F12\",\n        144: \"Numlock\",\n        145: \"Scrolllock\"\n      },\n      PRINTABLE_KEYS: {\n        32: ' ',\n        48: '0',\n        49: '1',\n        50: '2',\n        51: '3',\n        52: '4',\n        53: '5',\n        54: '6',\n        55: '7',\n        56: '8',\n        57: '9',\n        59: ';',\n        61: '=',\n        65: 'a',\n        66: 'b',\n        67: 'c',\n        68: 'd',\n        69: 'e',\n        70: 'f',\n        71: 'g',\n        72: 'h',\n        73: 'i',\n        74: 'j',\n        75: 'k',\n        76: 'l',\n        77: 'm',\n        78: 'n',\n        79: 'o',\n        80: 'p',\n        81: 'q',\n        82: 'r',\n        83: 's',\n        84: 't',\n        85: 'u',\n        86: 'v',\n        87: 'w',\n        88: 'x',\n        89: 'y',\n        90: 'z',\n        107: '+',\n        109: '-',\n        110: '.',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: \"'\",\n        111: '/',\n        106: '*'\n      }\n    };\n    var name, i;\n\n    for (i in ret.FUNCTION_KEYS) {\n      name = ret.FUNCTION_KEYS[i].toLowerCase();\n      ret[name] = parseInt(i, 10);\n    }\n\n    for (i in ret.PRINTABLE_KEYS) {\n      name = ret.PRINTABLE_KEYS[i].toLowerCase();\n      ret[name] = parseInt(i, 10);\n    }\n\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n\n    (function () {\n      var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n\n      for (var i = Math.pow(2, mods.length); i--;) {\n        ret.KEY_MODS[i] = mods.filter(function (x) {\n          return i & ret.KEY_MODS[x];\n        }).join(\"-\") + \"-\";\n      }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n    return ret;\n  }();\n\n  oop.mixin(exports, Keys);\n\n  exports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\") keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n  };\n});\nace.define(\"ace/lib/useragent\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  exports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n  };\n\n  exports.getOS = function () {\n    if (exports.isMac) {\n      return exports.OS.MAC;\n    } else if (exports.isLinux) {\n      return exports.OS.LINUX;\n    } else {\n      return exports.OS.WINDOWS;\n    }\n  };\n\n  if (typeof navigator != \"object\") return;\n  var os = (navigator.platform.match(/mac|win|linux/i) || [\"other\"])[0].toLowerCase();\n  var ua = navigator.userAgent;\n  exports.isWin = os == \"win\";\n  exports.isMac = os == \"mac\";\n  exports.isLinux = os == \"linux\";\n  exports.isIE = navigator.appName == \"Microsoft Internet Explorer\" || navigator.appName.indexOf(\"MSAppHost\") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\n\n  exports.isOldIE = exports.isIE && exports.isIE < 9;\n  exports.isGecko = exports.isMozilla = (window.Controllers || window.controllers) && window.navigator.product === \"Gecko\";\n  exports.isOldGecko = exports.isGecko && parseInt((ua.match(/rv:(\\d+)/) || [])[1], 10) < 4;\n  exports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\n  exports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n  exports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n  exports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n  exports.isIPad = ua.indexOf(\"iPad\") >= 0;\n  exports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n  exports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n  if (exports.isIOS) exports.isMac = true;\n});\nace.define(\"ace/lib/event\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var keys = acequire(\"./keys\");\n  var useragent = acequire(\"./useragent\");\n  var pressedKeys = null;\n  var ts = 0;\n\n  exports.addListener = function (elem, type, callback) {\n    if (elem.addEventListener) {\n      return elem.addEventListener(type, callback, false);\n    }\n\n    if (elem.attachEvent) {\n      var wrapper = function wrapper() {\n        callback.call(elem, window.event);\n      };\n\n      callback._wrapper = wrapper;\n      elem.attachEvent(\"on\" + type, wrapper);\n    }\n  };\n\n  exports.removeListener = function (elem, type, callback) {\n    if (elem.removeEventListener) {\n      return elem.removeEventListener(type, callback, false);\n    }\n\n    if (elem.detachEvent) {\n      elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n    }\n  };\n\n  exports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n  };\n\n  exports.stopPropagation = function (e) {\n    if (e.stopPropagation) e.stopPropagation();else e.cancelBubble = true;\n  };\n\n  exports.preventDefault = function (e) {\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n  };\n\n  exports.getButton = function (e) {\n    if (e.type == \"dblclick\") return 0;\n    if (e.type == \"contextmenu\" || useragent.isMac && e.ctrlKey && !e.altKey && !e.shiftKey) return 2;\n\n    if (e.preventDefault) {\n      return e.button;\n    } else {\n      return {\n        1: 0,\n        2: 2,\n        4: 1\n      }[e.button];\n    }\n  };\n\n  exports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    function onMouseUp(e) {\n      eventHandler && eventHandler(e);\n      releaseCaptureHandler && releaseCaptureHandler(e);\n      exports.removeListener(document, \"mousemove\", eventHandler, true);\n      exports.removeListener(document, \"mouseup\", onMouseUp, true);\n      exports.removeListener(document, \"dragstart\", onMouseUp, true);\n    }\n\n    exports.addListener(document, \"mousemove\", eventHandler, true);\n    exports.addListener(document, \"mouseup\", onMouseUp, true);\n    exports.addListener(document, \"dragstart\", onMouseUp, true);\n    return onMouseUp;\n  };\n\n  exports.addTouchMoveListener = function (el, callback) {\n    var startx, starty;\n    exports.addListener(el, \"touchstart\", function (e) {\n      var touches = e.touches;\n      var touchObj = touches[0];\n      startx = touchObj.clientX;\n      starty = touchObj.clientY;\n    });\n    exports.addListener(el, \"touchmove\", function (e) {\n      var touches = e.touches;\n      if (touches.length > 1) return;\n      var touchObj = touches[0];\n      e.wheelX = startx - touchObj.clientX;\n      e.wheelY = starty - touchObj.clientY;\n      startx = touchObj.clientX;\n      starty = touchObj.clientY;\n      callback(e);\n    });\n  };\n\n  exports.addMouseWheelListener = function (el, callback) {\n    if (\"onmousewheel\" in el) {\n      exports.addListener(el, \"mousewheel\", function (e) {\n        var factor = 8;\n\n        if (e.wheelDeltaX !== undefined) {\n          e.wheelX = -e.wheelDeltaX / factor;\n          e.wheelY = -e.wheelDeltaY / factor;\n        } else {\n          e.wheelX = 0;\n          e.wheelY = -e.wheelDelta / factor;\n        }\n\n        callback(e);\n      });\n    } else if (\"onwheel\" in el) {\n      exports.addListener(el, \"wheel\", function (e) {\n        var factor = 0.35;\n\n        switch (e.deltaMode) {\n          case e.DOM_DELTA_PIXEL:\n            e.wheelX = e.deltaX * factor || 0;\n            e.wheelY = e.deltaY * factor || 0;\n            break;\n\n          case e.DOM_DELTA_LINE:\n          case e.DOM_DELTA_PAGE:\n            e.wheelX = (e.deltaX || 0) * 5;\n            e.wheelY = (e.deltaY || 0) * 5;\n            break;\n        }\n\n        callback(e);\n      });\n    } else {\n      exports.addListener(el, \"DOMMouseScroll\", function (e) {\n        if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n          e.wheelX = (e.detail || 0) * 5;\n          e.wheelY = 0;\n        } else {\n          e.wheelX = 0;\n          e.wheelY = (e.detail || 0) * 5;\n        }\n\n        callback(e);\n      });\n    }\n  };\n\n  exports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n      2: \"dblclick\",\n      3: \"tripleclick\",\n      4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n      if (exports.getButton(e) !== 0) {\n        clicks = 0;\n      } else if (e.detail > 1) {\n        clicks++;\n        if (clicks > 4) clicks = 1;\n      } else {\n        clicks = 1;\n      }\n\n      if (useragent.isIE) {\n        var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n        if (!timer || isNewClick) clicks = 1;\n        if (timer) clearTimeout(timer);\n        timer = setTimeout(function () {\n          timer = null;\n        }, timeouts[clicks - 1] || 600);\n\n        if (clicks == 1) {\n          startX = e.clientX;\n          startY = e.clientY;\n        }\n      }\n\n      e._clicks = clicks;\n      eventHandler[callbackName](\"mousedown\", e);\n      if (clicks > 4) clicks = 0;else if (clicks > 1) return eventHandler[callbackName](eventNames[clicks], e);\n    }\n\n    function onDblclick(e) {\n      clicks = 2;\n      if (timer) clearTimeout(timer);\n      timer = setTimeout(function () {\n        timer = null;\n      }, timeouts[clicks - 1] || 600);\n      eventHandler[callbackName](\"mousedown\", e);\n      eventHandler[callbackName](eventNames[clicks], e);\n    }\n\n    if (!Array.isArray(elements)) elements = [elements];\n    elements.forEach(function (el) {\n      exports.addListener(el, \"mousedown\", onMousedown);\n      if (useragent.isOldIE) exports.addListener(el, \"dblclick\", onDblclick);\n    });\n  };\n\n  var getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window) ? function (e) {\n    return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n  } : function (e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n  };\n\n  exports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n  };\n\n  function normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n      if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\"))) hashId |= 8;\n\n      if (pressedKeys.altGr) {\n        if ((3 & hashId) != 3) pressedKeys.altGr = 0;else return;\n      }\n\n      if (keyCode === 18 || keyCode === 17) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n\n        if (keyCode === 17 && location === 1) {\n          if (pressedKeys[keyCode] == 1) ts = e.timeStamp;\n        } else if (keyCode === 18 && hashId === 3 && location === 2) {\n          var dt = e.timeStamp - ts;\n          if (dt < 50) pressedKeys.altGr = true;\n        }\n      }\n    }\n\n    if (keyCode in keys.MODIFIER_KEYS) {\n      keyCode = -1;\n    }\n\n    if (hashId & 8 && keyCode >= 91 && keyCode <= 93) {\n      keyCode = -1;\n    }\n\n    if (!hashId && keyCode === 13) {\n      var location = \"location\" in e ? e.location : e.keyLocation;\n\n      if (location === 3) {\n        callback(e, hashId, -keyCode);\n        if (e.defaultPrevented) return;\n      }\n    }\n\n    if (useragent.isChromeOS && hashId & 8) {\n      callback(e, hashId, keyCode);\n      if (e.defaultPrevented) return;else hashId &= ~8;\n    }\n\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n      return false;\n    }\n\n    return callback(e, hashId, keyCode);\n  }\n\n  exports.addCommandKeyListener = function (el, callback) {\n    var addListener = exports.addListener;\n\n    if (useragent.isOldGecko || useragent.isOpera && !(\"KeyboardEvent\" in window)) {\n      var lastKeyDownKeyCode = null;\n      addListener(el, \"keydown\", function (e) {\n        lastKeyDownKeyCode = e.keyCode;\n      });\n      addListener(el, \"keypress\", function (e) {\n        return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n      });\n    } else {\n      var lastDefaultPrevented = null;\n      addListener(el, \"keydown\", function (e) {\n        pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n        var result = normalizeCommandKeys(callback, e, e.keyCode);\n        lastDefaultPrevented = e.defaultPrevented;\n        return result;\n      });\n      addListener(el, \"keypress\", function (e) {\n        if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n          exports.stopEvent(e);\n          lastDefaultPrevented = null;\n        }\n      });\n      addListener(el, \"keyup\", function (e) {\n        pressedKeys[e.keyCode] = null;\n      });\n\n      if (!pressedKeys) {\n        resetPressedKeys();\n        addListener(window, \"focus\", resetPressedKeys);\n      }\n    }\n  };\n\n  function resetPressedKeys() {\n    pressedKeys = Object.create(null);\n  }\n\n  if (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n\n    exports.nextTick = function (callback, win) {\n      win = win || window;\n      var messageName = \"zero-timeout-message-\" + postMessageId;\n      exports.addListener(win, \"message\", function listener(e) {\n        if (e.data == messageName) {\n          exports.stopPropagation(e);\n          exports.removeListener(win, \"message\", listener);\n          callback();\n        }\n      });\n      win.postMessage(messageName, \"*\");\n    };\n  }\n\n  exports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame);\n  if (exports.nextFrame) exports.nextFrame = exports.nextFrame.bind(window);else exports.nextFrame = function (callback) {\n    setTimeout(callback, 17);\n  };\n});\nace.define(\"ace/lib/lang\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  exports.last = function (a) {\n    return a[a.length - 1];\n  };\n\n  exports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n  };\n\n  exports.stringRepeat = function (string, count) {\n    var result = '';\n\n    while (count > 0) {\n      if (count & 1) result += string;\n      if (count >>= 1) string += string;\n    }\n\n    return result;\n  };\n\n  var trimBeginRegexp = /^\\s\\s*/;\n  var trimEndRegexp = /\\s\\s*$/;\n\n  exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  };\n\n  exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  };\n\n  exports.copyObject = function (obj) {\n    var copy = {};\n\n    for (var key in obj) {\n      copy[key] = obj[key];\n    }\n\n    return copy;\n  };\n\n  exports.copyArray = function (array) {\n    var copy = [];\n\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] && typeof array[i] == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n    }\n\n    return copy;\n  };\n\n  exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj) return obj;\n    var copy;\n\n    if (Array.isArray(obj)) {\n      copy = [];\n\n      for (var key = 0; key < obj.length; key++) {\n        copy[key] = deepCopy(obj[key]);\n      }\n\n      return copy;\n    }\n\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n    copy = {};\n\n    for (var key in obj) {\n      copy[key] = deepCopy(obj[key]);\n    }\n\n    return copy;\n  };\n\n  exports.arrayToMap = function (arr) {\n    var map = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      map[arr[i]] = 1;\n    }\n\n    return map;\n  };\n\n  exports.createMap = function (props) {\n    var map = Object.create(null);\n\n    for (var i in props) {\n      map[i] = props[i];\n    }\n\n    return map;\n  };\n\n  exports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n      if (value === array[i]) {\n        array.splice(i, 1);\n      }\n    }\n  };\n\n  exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  };\n\n  exports.escapeHTML = function (str) {\n    return str.replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n  };\n\n  exports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      });\n    });\n    return matches;\n  };\n\n  exports.deferredCall = function (fcn) {\n    var timer = null;\n\n    var callback = function callback() {\n      timer = null;\n      fcn();\n    };\n\n    var deferred = function deferred(timeout) {\n      deferred.cancel();\n      timer = setTimeout(callback, timeout || 0);\n      return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function () {\n      this.cancel();\n      fcn();\n      return deferred;\n    };\n\n    deferred.cancel = function () {\n      clearTimeout(timer);\n      timer = null;\n      return deferred;\n    };\n\n    deferred.isPending = function () {\n      return timer;\n    };\n\n    return deferred;\n  };\n\n  exports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n\n    var callback = function callback() {\n      timer = null;\n      fcn();\n    };\n\n    var _self = function _self(timeout) {\n      if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function (timeout) {\n      timer && clearTimeout(timer);\n      timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.schedule = _self;\n\n    _self.call = function () {\n      this.cancel();\n      fcn();\n    };\n\n    _self.cancel = function () {\n      timer && clearTimeout(timer);\n      timer = null;\n    };\n\n    _self.isPending = function () {\n      return timer;\n    };\n\n    return _self;\n  };\n});\nace.define(\"ace/keyboard/textinput_ios\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/keys\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n  var dom = acequire(\"../lib/dom\");\n  var lang = acequire(\"../lib/lang\");\n  var KEYS = acequire(\"../lib/keys\");\n  var MODS = KEYS.KEY_MODS;\n  var BROKEN_SETDATA = useragent.isChrome < 18;\n  var USE_IE_MIME_TYPE = useragent.isIE;\n\n  var TextInput = function TextInput(parentNode, host) {\n    var self = this;\n    var text = dom.createElement(\"textarea\");\n    text.className = useragent.isIOS ? \"ace_text-input ace_text-input-ios\" : \"ace_text-input\";\n    if (useragent.isTouchPad) text.setAttribute(\"x-palm-disable-auto-cap\", true);\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var PLACEHOLDER = \"\\n aaaa a\\n\";\n    var copied = false;\n    var cut = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n\n    try {\n      var isFocused = document.activeElement === text;\n    } catch (e) {}\n\n    event.addListener(text, \"blur\", function (e) {\n      host.onBlur(e);\n      isFocused = false;\n    });\n    event.addListener(text, \"focus\", function (e) {\n      isFocused = true;\n      host.onFocus(e);\n      resetSelection();\n    });\n\n    this.focus = function () {\n      if (tempStyle) return text.focus();\n      text.style.position = \"fixed\";\n      text.focus();\n    };\n\n    this.blur = function () {\n      text.blur();\n    };\n\n    this.isFocused = function () {\n      return isFocused;\n    };\n\n    var syncSelection = lang.delayedCall(function () {\n      isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function () {\n      if (!inComposition) {\n        text.value = PLACEHOLDER;\n        isFocused && resetSelection();\n      }\n    });\n\n    function resetSelection(isEmpty) {\n      if (inComposition) return;\n      inComposition = true;\n\n      if (inputHandler) {\n        selectionStart = 0;\n        selectionEnd = isEmpty ? 0 : text.value.length - 1;\n      } else {\n        var selectionStart = 4;\n        var selectionEnd = 5;\n      }\n\n      try {\n        text.setSelectionRange(selectionStart, selectionEnd);\n      } catch (e) {}\n\n      inComposition = false;\n    }\n\n    function resetValue() {\n      if (inComposition) return;\n      text.value = PLACEHOLDER;\n      if (useragent.isWebKit) syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function () {\n      if (host.selection.isEmpty() != isSelectionEmpty) {\n        isSelectionEmpty = !isSelectionEmpty;\n        syncSelection.schedule();\n      }\n    });\n    resetValue();\n    if (isFocused) host.onFocus();\n\n    var isAllSelected = function isAllSelected(text) {\n      return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n\n    var onSelect = function onSelect(e) {\n      if (isAllSelected(text)) {\n        host.selectAll();\n        resetSelection();\n      } else if (inputHandler) {\n        resetSelection(host.selection.isEmpty());\n      }\n    };\n\n    var inputHandler = null;\n\n    this.setInputHandler = function (cb) {\n      inputHandler = cb;\n    };\n\n    this.getInputHandler = function () {\n      return inputHandler;\n    };\n\n    var afterContextMenu = false;\n\n    var sendText = function sendText(data) {\n      if (text.selectionStart === 4 && text.selectionEnd === 5) {\n        return;\n      }\n\n      if (inputHandler) {\n        data = inputHandler(data);\n        inputHandler = null;\n      }\n\n      if (pasted) {\n        resetSelection();\n        if (data) host.onPaste(data);\n        pasted = false;\n      } else if (data == PLACEHOLDER.substr(0) && text.selectionStart === 4) {\n        if (afterContextMenu) host.execCommand(\"del\", {\n          source: \"ace\"\n        });else // some versions of android do not fire keydown when pressing backspace\n          host.execCommand(\"backspace\", {\n            source: \"ace\"\n          });\n      } else if (!copied) {\n        if (data.substring(0, 9) == PLACEHOLDER && data.length > PLACEHOLDER.length) data = data.substr(9);else if (data.substr(0, 4) == PLACEHOLDER.substr(0, 4)) data = data.substr(4, data.length - PLACEHOLDER.length + 1);else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n\n        if (data == PLACEHOLDER.charAt(0)) {} else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n\n        if (data) host.onTextInput(data);\n      }\n\n      if (copied) {\n        copied = false;\n      }\n\n      if (afterContextMenu) afterContextMenu = false;\n    };\n\n    var onInput = function onInput(e) {\n      if (inComposition) return;\n      var data = text.value;\n      sendText(data);\n      resetValue();\n    };\n\n    var handleClipboardData = function handleClipboardData(e, data, forceIEMime) {\n      var clipboardData = e.clipboardData || window.clipboardData;\n      if (!clipboardData || BROKEN_SETDATA) return;\n      var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n\n      try {\n        if (data) {\n          return clipboardData.setData(mime, data) !== false;\n        } else {\n          return clipboardData.getData(mime);\n        }\n      } catch (e) {\n        if (!forceIEMime) return handleClipboardData(e, data, true);\n      }\n    };\n\n    var doCopy = function doCopy(e, isCut) {\n      var data = host.getCopyText();\n      if (!data) return event.preventDefault(e);\n\n      if (handleClipboardData(e, data)) {\n        if (useragent.isIOS) {\n          cut = isCut;\n          text.value = \"\\n aa\" + data + \"a a\\n\";\n          text.setSelectionRange(4, 4 + data.length);\n          copied = {\n            value: data\n          };\n        }\n\n        isCut ? host.onCut() : host.onCopy();\n        if (!useragent.isIOS) event.preventDefault(e);\n      } else {\n        copied = true;\n        text.value = data;\n        text.select();\n        setTimeout(function () {\n          copied = false;\n          resetValue();\n          resetSelection();\n          isCut ? host.onCut() : host.onCopy();\n        });\n      }\n    };\n\n    var onCut = function onCut(e) {\n      doCopy(e, true);\n    };\n\n    var onCopy = function onCopy(e) {\n      doCopy(e, false);\n    };\n\n    var onPaste = function onPaste(e) {\n      var data = handleClipboardData(e);\n\n      if (typeof data == \"string\") {\n        if (data) host.onPaste(data, e);\n        if (useragent.isIE) setTimeout(resetSelection);\n        event.preventDefault(e);\n      } else {\n        text.value = \"\";\n        pasted = true;\n      }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n    event.addListener(text, \"select\", onSelect);\n    event.addListener(text, \"input\", onInput);\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n\n    var onCompositionStart = function onCompositionStart(e) {\n      if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n      inComposition = {};\n      inComposition.canUndo = host.session.$undoManager;\n      host.onCompositionStart();\n      setTimeout(onCompositionUpdate, 0);\n      host.on(\"mousedown\", onCompositionEnd);\n\n      if (inComposition.canUndo && !host.selection.isEmpty()) {\n        host.insert(\"\");\n        host.session.markUndoGroup();\n        host.selection.clearSelection();\n      }\n\n      host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function onCompositionUpdate() {\n      if (!inComposition || !host.onCompositionUpdate || host.$readOnly) return;\n      var val = text.value.replace(/\\x01/g, \"\");\n      if (inComposition.lastValue === val) return;\n      host.onCompositionUpdate(val);\n      if (inComposition.lastValue) host.undo();\n      if (inComposition.canUndo) inComposition.lastValue = val;\n\n      if (inComposition.lastValue) {\n        var r = host.selection.getRange();\n        host.insert(inComposition.lastValue);\n        host.session.markUndoGroup();\n        inComposition.range = host.selection.getRange();\n        host.selection.setRange(r);\n        host.selection.clearSelection();\n      }\n    };\n\n    var onCompositionEnd = function onCompositionEnd(e) {\n      if (!host.onCompositionEnd || host.$readOnly) return;\n      var c = inComposition;\n      inComposition = false;\n      var timer = setTimeout(function () {\n        timer = null;\n        var str = text.value.replace(/\\x01/g, \"\");\n        if (inComposition) return;else if (str == c.lastValue) resetValue();else if (!c.lastValue && str) {\n          resetValue();\n          sendText(str);\n        }\n      });\n\n      inputHandler = function compositionInputHandler(str) {\n        if (timer) clearTimeout(timer);\n        str = str.replace(/\\x01/g, \"\");\n        if (str == c.lastValue) return \"\";\n        if (c.lastValue && timer) host.undo();\n        return str;\n      };\n\n      host.onCompositionEnd();\n      host.removeListener(\"mousedown\", onCompositionEnd);\n\n      if (e.type == \"compositionend\" && c.range) {\n        host.selection.setRange(c.range);\n      }\n\n      var needsOnInput = !!useragent.isChrome && useragent.isChrome >= 53 || !!useragent.isWebKit && useragent.isWebKit >= 603;\n\n      if (needsOnInput) {\n        onInput();\n      }\n    };\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n\n    if (useragent.isGecko) {\n      event.addListener(text, \"text\", function () {\n        syncComposition.schedule();\n      });\n    } else {\n      event.addListener(text, \"keyup\", function () {\n        syncComposition.schedule();\n      });\n      event.addListener(text, \"keydown\", function () {\n        syncComposition.schedule();\n      });\n    }\n\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function () {\n      return text;\n    };\n\n    this.setReadOnly = function (readOnly) {\n      text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function (e) {\n      afterContextMenu = true;\n      resetSelection(host.selection.isEmpty());\n\n      host._emit(\"nativecontextmenu\", {\n        target: host,\n        domEvent: e\n      });\n\n      this.moveToMouse(e, true);\n    };\n\n    this.moveToMouse = function (e, bringToFront) {\n      if (!tempStyle) tempStyle = text.style.cssText;\n      text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\") + \"height:\" + text.style.height + \";\" + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n      var rect = host.container.getBoundingClientRect();\n      var style = dom.computedStyle(host.container);\n      var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n      var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n      var maxTop = rect.bottom - top - text.clientHeight - 2;\n\n      var move = function move(e) {\n        text.style.left = e.clientX - left - 2 + \"px\";\n        text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n      };\n\n      move(e);\n      if (e.type != \"mousedown\") return;\n      if (host.renderer.$keepTextAreaAtCursor) host.renderer.$keepTextAreaAtCursor = null;\n      clearTimeout(closeTimeout);\n      if (useragent.isWin) event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n\n    function onContextMenuClose() {\n      clearTimeout(closeTimeout);\n      closeTimeout = setTimeout(function () {\n        if (tempStyle) {\n          text.style.cssText = tempStyle;\n          tempStyle = '';\n        }\n\n        if (host.renderer.$keepTextAreaAtCursor == null) {\n          host.renderer.$keepTextAreaAtCursor = true;\n          host.renderer.$moveTextAreaToCursor();\n        }\n      }, 0);\n    }\n\n    var onContextMenu = function onContextMenu(e) {\n      host.textInput.onContextMenu(e);\n      onContextMenuClose();\n    };\n\n    event.addListener(text, \"mouseup\", onContextMenu);\n    event.addListener(text, \"mousedown\", function (e) {\n      e.preventDefault();\n      onContextMenuClose();\n    });\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n    event.addListener(text, \"contextmenu\", onContextMenu);\n\n    if (useragent.isIOS) {\n      var typingResetTimeout = null;\n      var typing = false;\n      parentNode.addEventListener(\"keydown\", function (e) {\n        if (typingResetTimeout) clearTimeout(typingResetTimeout);\n        typing = true;\n      });\n      parentNode.addEventListener(\"keyup\", function (e) {\n        typingResetTimeout = setTimeout(function () {\n          typing = false;\n        }, 100);\n      });\n\n      var detectArrowKeys = function detectArrowKeys(e) {\n        if (document.activeElement !== text) return;\n        if (typing) return;\n\n        if (cut) {\n          return setTimeout(function () {\n            cut = false;\n          }, 100);\n        }\n\n        var selectionStart = text.selectionStart;\n        var selectionEnd = text.selectionEnd;\n        text.setSelectionRange(4, 5);\n\n        if (selectionStart == selectionEnd) {\n          switch (selectionStart) {\n            case 0:\n              host.onCommandKey(null, 0, KEYS.up);\n              break;\n\n            case 1:\n              host.onCommandKey(null, 0, KEYS.home);\n              break;\n\n            case 2:\n              host.onCommandKey(null, MODS.option, KEYS.left);\n              break;\n\n            case 4:\n              host.onCommandKey(null, 0, KEYS.left);\n              break;\n\n            case 5:\n              host.onCommandKey(null, 0, KEYS.right);\n              break;\n\n            case 7:\n              host.onCommandKey(null, MODS.option, KEYS.right);\n              break;\n\n            case 8:\n              host.onCommandKey(null, 0, KEYS.end);\n              break;\n\n            case 9:\n              host.onCommandKey(null, 0, KEYS.down);\n              break;\n          }\n        } else {\n          switch (selectionEnd) {\n            case 6:\n              host.onCommandKey(null, MODS.shift, KEYS.right);\n              break;\n\n            case 7:\n              host.onCommandKey(null, MODS.shift | MODS.option, KEYS.right);\n              break;\n\n            case 8:\n              host.onCommandKey(null, MODS.shift, KEYS.end);\n              break;\n\n            case 9:\n              host.onCommandKey(null, MODS.shift, KEYS.down);\n              break;\n          }\n\n          switch (selectionStart) {\n            case 0:\n              host.onCommandKey(null, MODS.shift, KEYS.up);\n              break;\n\n            case 1:\n              host.onCommandKey(null, MODS.shift, KEYS.home);\n              break;\n\n            case 2:\n              host.onCommandKey(null, MODS.shift | MODS.option, KEYS.left);\n              break;\n\n            case 3:\n              host.onCommandKey(null, MODS.shift, KEYS.left);\n              break;\n          }\n        }\n      };\n\n      document.addEventListener(\"selectionchange\", detectArrowKeys);\n      host.on(\"destroy\", function () {\n        document.removeEventListener(\"selectionchange\", detectArrowKeys);\n      });\n    }\n  };\n\n  exports.TextInput = TextInput;\n});\nace.define(\"ace/keyboard/textinput\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/keyboard/textinput_ios\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n  var dom = acequire(\"../lib/dom\");\n  var lang = acequire(\"../lib/lang\");\n  var BROKEN_SETDATA = useragent.isChrome < 18;\n  var USE_IE_MIME_TYPE = useragent.isIE;\n  var TextInputIOS = acequire(\"./textinput_ios\").TextInput;\n\n  var TextInput = function TextInput(parentNode, host) {\n    if (useragent.isIOS) return TextInputIOS.call(this, parentNode, host);\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var PLACEHOLDER = \"\\u2028\\u2028\";\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n\n    try {\n      var isFocused = document.activeElement === text;\n    } catch (e) {}\n\n    event.addListener(text, \"blur\", function (e) {\n      host.onBlur(e);\n      isFocused = false;\n    });\n    event.addListener(text, \"focus\", function (e) {\n      isFocused = true;\n      host.onFocus(e);\n      resetSelection();\n    });\n\n    this.focus = function () {\n      if (tempStyle) return text.focus();\n      var top = text.style.top;\n      text.style.position = \"fixed\";\n      text.style.top = \"0px\";\n      text.focus();\n      setTimeout(function () {\n        text.style.position = \"\";\n        if (text.style.top == \"0px\") text.style.top = top;\n      }, 0);\n    };\n\n    this.blur = function () {\n      text.blur();\n    };\n\n    this.isFocused = function () {\n      return isFocused;\n    };\n\n    var syncSelection = lang.delayedCall(function () {\n      isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function () {\n      if (!inComposition) {\n        text.value = PLACEHOLDER;\n        isFocused && resetSelection();\n      }\n    });\n\n    function resetSelection(isEmpty) {\n      if (inComposition) return;\n      inComposition = true;\n\n      if (inputHandler) {\n        var selectionStart = 0;\n        var selectionEnd = isEmpty ? 0 : text.value.length - 1;\n      } else {\n        var selectionStart = isEmpty ? 2 : 1;\n        var selectionEnd = 2;\n      }\n\n      try {\n        text.setSelectionRange(selectionStart, selectionEnd);\n      } catch (e) {}\n\n      inComposition = false;\n    }\n\n    function resetValue() {\n      if (inComposition) return;\n      text.value = PLACEHOLDER;\n      if (useragent.isWebKit) syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function () {\n      if (host.selection.isEmpty() != isSelectionEmpty) {\n        isSelectionEmpty = !isSelectionEmpty;\n        syncSelection.schedule();\n      }\n    });\n    resetValue();\n    if (isFocused) host.onFocus();\n\n    var isAllSelected = function isAllSelected(text) {\n      return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n\n    var onSelect = function onSelect(e) {\n      if (copied) {\n        copied = false;\n      } else if (isAllSelected(text)) {\n        host.selectAll();\n        resetSelection();\n      } else if (inputHandler) {\n        resetSelection(host.selection.isEmpty());\n      }\n    };\n\n    var inputHandler = null;\n\n    this.setInputHandler = function (cb) {\n      inputHandler = cb;\n    };\n\n    this.getInputHandler = function () {\n      return inputHandler;\n    };\n\n    var afterContextMenu = false;\n\n    var sendText = function sendText(data) {\n      if (inputHandler) {\n        data = inputHandler(data);\n        inputHandler = null;\n      }\n\n      if (pasted) {\n        resetSelection();\n        if (data) host.onPaste(data);\n        pasted = false;\n      } else if (data == PLACEHOLDER.charAt(0)) {\n        if (afterContextMenu) host.execCommand(\"del\", {\n          source: \"ace\"\n        });else // some versions of android do not fire keydown when pressing backspace\n          host.execCommand(\"backspace\", {\n            source: \"ace\"\n          });\n      } else {\n        if (data.substring(0, 2) == PLACEHOLDER) data = data.substr(2);else if (data.charAt(0) == PLACEHOLDER.charAt(0)) data = data.substr(1);else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n        if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n        if (data) host.onTextInput(data);\n      }\n\n      if (afterContextMenu) afterContextMenu = false;\n    };\n\n    var onInput = function onInput(e) {\n      if (inComposition) return;\n      var data = text.value;\n      sendText(data);\n      resetValue();\n    };\n\n    var handleClipboardData = function handleClipboardData(e, data, forceIEMime) {\n      var clipboardData = e.clipboardData || window.clipboardData;\n      if (!clipboardData || BROKEN_SETDATA) return;\n      var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n\n      try {\n        if (data) {\n          return clipboardData.setData(mime, data) !== false;\n        } else {\n          return clipboardData.getData(mime);\n        }\n      } catch (e) {\n        if (!forceIEMime) return handleClipboardData(e, data, true);\n      }\n    };\n\n    var doCopy = function doCopy(e, isCut) {\n      var data = host.getCopyText();\n      if (!data) return event.preventDefault(e);\n\n      if (handleClipboardData(e, data)) {\n        isCut ? host.onCut() : host.onCopy();\n        event.preventDefault(e);\n      } else {\n        copied = true;\n        text.value = data;\n        text.select();\n        setTimeout(function () {\n          copied = false;\n          resetValue();\n          resetSelection();\n          isCut ? host.onCut() : host.onCopy();\n        });\n      }\n    };\n\n    var onCut = function onCut(e) {\n      doCopy(e, true);\n    };\n\n    var onCopy = function onCopy(e) {\n      doCopy(e, false);\n    };\n\n    var onPaste = function onPaste(e) {\n      var data = handleClipboardData(e);\n\n      if (typeof data == \"string\") {\n        if (data) host.onPaste(data, e);\n        if (useragent.isIE) setTimeout(resetSelection);\n        event.preventDefault(e);\n      } else {\n        text.value = \"\";\n        pasted = true;\n      }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n    event.addListener(text, \"select\", onSelect);\n    event.addListener(text, \"input\", onInput);\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n      event.addListener(parentNode, \"keydown\", function (e) {\n        if (useragent.isMac && !e.metaKey || !e.ctrlKey) return;\n\n        switch (e.keyCode) {\n          case 67:\n            onCopy(e);\n            break;\n\n          case 86:\n            onPaste(e);\n            break;\n\n          case 88:\n            onCut(e);\n            break;\n        }\n      });\n    }\n\n    var onCompositionStart = function onCompositionStart(e) {\n      if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n      inComposition = {};\n      inComposition.canUndo = host.session.$undoManager;\n      host.onCompositionStart();\n      setTimeout(onCompositionUpdate, 0);\n      host.on(\"mousedown\", onCompositionEnd);\n\n      if (inComposition.canUndo && !host.selection.isEmpty()) {\n        host.insert(\"\");\n        host.session.markUndoGroup();\n        host.selection.clearSelection();\n      }\n\n      host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function onCompositionUpdate() {\n      if (!inComposition || !host.onCompositionUpdate || host.$readOnly) return;\n      var val = text.value.replace(/\\u2028/g, \"\");\n      if (inComposition.lastValue === val) return;\n      host.onCompositionUpdate(val);\n      if (inComposition.lastValue) host.undo();\n      if (inComposition.canUndo) inComposition.lastValue = val;\n\n      if (inComposition.lastValue) {\n        var r = host.selection.getRange();\n        host.insert(inComposition.lastValue);\n        host.session.markUndoGroup();\n        inComposition.range = host.selection.getRange();\n        host.selection.setRange(r);\n        host.selection.clearSelection();\n      }\n    };\n\n    var onCompositionEnd = function onCompositionEnd(e) {\n      if (!host.onCompositionEnd || host.$readOnly) return;\n      var c = inComposition;\n      inComposition = false;\n      var timer = setTimeout(function () {\n        timer = null;\n        var str = text.value.replace(/\\u2028/g, \"\");\n        if (inComposition) return;else if (str == c.lastValue) resetValue();else if (!c.lastValue && str) {\n          resetValue();\n          sendText(str);\n        }\n      });\n\n      inputHandler = function compositionInputHandler(str) {\n        if (timer) clearTimeout(timer);\n        str = str.replace(/\\u2028/g, \"\");\n        if (str == c.lastValue) return \"\";\n        if (c.lastValue && timer) host.undo();\n        return str;\n      };\n\n      host.onCompositionEnd();\n      host.removeListener(\"mousedown\", onCompositionEnd);\n\n      if (e.type == \"compositionend\" && c.range) {\n        host.selection.setRange(c.range);\n      }\n\n      var needsOnInput = !!useragent.isChrome && useragent.isChrome >= 53 || !!useragent.isWebKit && useragent.isWebKit >= 603;\n\n      if (needsOnInput) {\n        onInput();\n      }\n    };\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n\n    if (useragent.isGecko) {\n      event.addListener(text, \"text\", function () {\n        syncComposition.schedule();\n      });\n    } else {\n      event.addListener(text, \"keyup\", function () {\n        syncComposition.schedule();\n      });\n      event.addListener(text, \"keydown\", function () {\n        syncComposition.schedule();\n      });\n    }\n\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function () {\n      return text;\n    };\n\n    this.setReadOnly = function (readOnly) {\n      text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function (e) {\n      afterContextMenu = true;\n      resetSelection(host.selection.isEmpty());\n\n      host._emit(\"nativecontextmenu\", {\n        target: host,\n        domEvent: e\n      });\n\n      this.moveToMouse(e, true);\n    };\n\n    this.moveToMouse = function (e, bringToFront) {\n      if (!tempStyle) tempStyle = text.style.cssText;\n      text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\") + \"height:\" + text.style.height + \";\" + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n      var rect = host.container.getBoundingClientRect();\n      var style = dom.computedStyle(host.container);\n      var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n      var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n      var maxTop = rect.bottom - top - text.clientHeight - 2;\n\n      var move = function move(e) {\n        text.style.left = e.clientX - left - 2 + \"px\";\n        text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n      };\n\n      move(e);\n      if (e.type != \"mousedown\") return;\n      if (host.renderer.$keepTextAreaAtCursor) host.renderer.$keepTextAreaAtCursor = null;\n      clearTimeout(closeTimeout);\n      if (useragent.isWin) event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n\n    function onContextMenuClose() {\n      clearTimeout(closeTimeout);\n      closeTimeout = setTimeout(function () {\n        if (tempStyle) {\n          text.style.cssText = tempStyle;\n          tempStyle = '';\n        }\n\n        if (host.renderer.$keepTextAreaAtCursor == null) {\n          host.renderer.$keepTextAreaAtCursor = true;\n          host.renderer.$moveTextAreaToCursor();\n        }\n      }, 0);\n    }\n\n    var onContextMenu = function onContextMenu(e) {\n      host.textInput.onContextMenu(e);\n      onContextMenuClose();\n    };\n\n    event.addListener(text, \"mouseup\", onContextMenu);\n    event.addListener(text, \"mousedown\", function (e) {\n      e.preventDefault();\n      onContextMenuClose();\n    });\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n    event.addListener(text, \"contextmenu\", onContextMenu);\n  };\n\n  exports.TextInput = TextInput;\n});\nace.define(\"ace/mouse/default_handlers\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var dom = acequire(\"../lib/dom\");\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n  var DRAG_OFFSET = 0; // pixels\n\n  var SCROLL_COOLDOWN_T = 250; // milliseconds\n\n  function DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    editor.setDefaultHandler(\"touchmove\", this.onTouchMove.bind(mouseHandler));\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\", \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n    exports.forEach(function (x) {\n      mouseHandler[x] = this[x];\n    }, this);\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n  }\n\n  (function () {\n    this.onMouseDown = function (ev) {\n      var inSelection = ev.inSelection();\n      var pos = ev.getDocumentPosition();\n      this.mousedownEvent = ev;\n      var editor = this.editor;\n      var button = ev.getButton();\n\n      if (button !== 0) {\n        var selectionRange = editor.getSelectionRange();\n        var selectionEmpty = selectionRange.isEmpty();\n        editor.$blockScrolling++;\n        if (selectionEmpty || button == 1) editor.selection.moveToPosition(pos);\n        editor.$blockScrolling--;\n\n        if (button == 2) {\n          editor.textInput.onContextMenu(ev.domEvent);\n          if (!useragent.isMozilla) ev.preventDefault();\n        }\n\n        return;\n      }\n\n      this.mousedownEvent.time = Date.now();\n\n      if (inSelection && !editor.isFocused()) {\n        editor.focus();\n\n        if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {\n          this.setState(\"focusWait\");\n          this.captureMouse(ev);\n          return;\n        }\n      }\n\n      this.captureMouse(ev);\n      this.startSelect(pos, ev.domEvent._clicks > 1);\n      return ev.preventDefault();\n    };\n\n    this.startSelect = function (pos, waitForClickSelection) {\n      pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n      var editor = this.editor;\n      editor.$blockScrolling++;\n      if (this.mousedownEvent.getShiftKey()) editor.selection.selectToPosition(pos);else if (!waitForClickSelection) editor.selection.moveToPosition(pos);\n      if (!waitForClickSelection) this.select();\n\n      if (editor.renderer.scroller.setCapture) {\n        editor.renderer.scroller.setCapture();\n      }\n\n      editor.setStyle(\"ace_selecting\");\n      this.setState(\"select\");\n      editor.$blockScrolling--;\n    };\n\n    this.select = function () {\n      var anchor,\n          editor = this.editor;\n      var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n      editor.$blockScrolling++;\n\n      if (this.$clickSelection) {\n        var cmp = this.$clickSelection.comparePoint(cursor);\n\n        if (cmp == -1) {\n          anchor = this.$clickSelection.end;\n        } else if (cmp == 1) {\n          anchor = this.$clickSelection.start;\n        } else {\n          var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n          cursor = orientedRange.cursor;\n          anchor = orientedRange.anchor;\n        }\n\n        editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n      }\n\n      editor.selection.selectToPosition(cursor);\n      editor.$blockScrolling--;\n      editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function (unitName) {\n      var anchor,\n          editor = this.editor;\n      var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n      var range = editor.selection[unitName](cursor.row, cursor.column);\n      editor.$blockScrolling++;\n\n      if (this.$clickSelection) {\n        var cmpStart = this.$clickSelection.comparePoint(range.start);\n        var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n        if (cmpStart == -1 && cmpEnd <= 0) {\n          anchor = this.$clickSelection.end;\n          if (range.end.row != cursor.row || range.end.column != cursor.column) cursor = range.start;\n        } else if (cmpEnd == 1 && cmpStart >= 0) {\n          anchor = this.$clickSelection.start;\n          if (range.start.row != cursor.row || range.start.column != cursor.column) cursor = range.end;\n        } else if (cmpStart == -1 && cmpEnd == 1) {\n          cursor = range.end;\n          anchor = range.start;\n        } else {\n          var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n          cursor = orientedRange.cursor;\n          anchor = orientedRange.anchor;\n        }\n\n        editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n      }\n\n      editor.selection.selectToPosition(cursor);\n      editor.$blockScrolling--;\n      editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function () {\n      this.$clickSelection = null;\n      this.editor.unsetStyle(\"ace_selecting\");\n\n      if (this.editor.renderer.scroller.releaseCapture) {\n        this.editor.renderer.scroller.releaseCapture();\n      }\n    };\n\n    this.focusWait = function () {\n      var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n      var time = Date.now();\n      if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout) this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function (ev) {\n      var pos = ev.getDocumentPosition();\n      var editor = this.editor;\n      var session = editor.session;\n      var range = session.getBracketRange(pos);\n\n      if (range) {\n        if (range.isEmpty()) {\n          range.start.column--;\n          range.end.column++;\n        }\n\n        this.setState(\"select\");\n      } else {\n        range = editor.selection.getWordRange(pos.row, pos.column);\n        this.setState(\"selectByWords\");\n      }\n\n      this.$clickSelection = range;\n      this.select();\n    };\n\n    this.onTripleClick = function (ev) {\n      var pos = ev.getDocumentPosition();\n      var editor = this.editor;\n      this.setState(\"selectByLines\");\n      var range = editor.getSelectionRange();\n\n      if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n        this.$clickSelection = editor.selection.getLineRange(range.start.row);\n        this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n      } else {\n        this.$clickSelection = editor.selection.getLineRange(pos.row);\n      }\n\n      this.select();\n    };\n\n    this.onQuadClick = function (ev) {\n      var editor = this.editor;\n      editor.selectAll();\n      this.$clickSelection = editor.getSelectionRange();\n      this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function (ev) {\n      if (ev.getAccelKey()) return;\n\n      if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n        ev.wheelX = ev.wheelY;\n        ev.wheelY = 0;\n      }\n\n      var editor = this.editor;\n      if (!this.$lastScroll) this.$lastScroll = {\n        t: 0,\n        vx: 0,\n        vy: 0,\n        allowed: 0\n      };\n      var prevScroll = this.$lastScroll;\n      var t = ev.domEvent.timeStamp;\n      var dt = t - prevScroll.t;\n      var vx = ev.wheelX / dt;\n      var vy = ev.wheelY / dt;\n\n      if (dt < SCROLL_COOLDOWN_T) {\n        vx = (vx + prevScroll.vx) / 2;\n        vy = (vy + prevScroll.vy) / 2;\n      }\n\n      var direction = Math.abs(vx / vy);\n      var canScroll = false;\n      if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0)) canScroll = true;\n      if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed)) canScroll = true;\n\n      if (canScroll) {\n        prevScroll.allowed = t;\n      } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n        var isSlower = Math.abs(vx) <= 1.1 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.1 * Math.abs(prevScroll.vy);\n\n        if (isSlower) {\n          canScroll = true;\n          prevScroll.allowed = t;\n        } else {\n          prevScroll.allowed = 0;\n        }\n      }\n\n      prevScroll.t = t;\n      prevScroll.vx = vx;\n      prevScroll.vy = vy;\n\n      if (canScroll) {\n        editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n        return ev.stop();\n      }\n    };\n\n    this.onTouchMove = function (ev) {\n      this.editor._emit(\"mousewheel\", ev);\n    };\n  }).call(DefaultHandlers.prototype);\n  exports.DefaultHandlers = DefaultHandlers;\n\n  function calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n  }\n\n  function calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row) var cmp = 2 * cursor.column - range.start.column - range.end.column;else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column) var cmp = cursor.column - 4;else var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0) return {\n      cursor: range.start,\n      anchor: range.end\n    };else return {\n      cursor: range.end,\n      anchor: range.start\n    };\n  }\n});\nace.define(\"ace/tooltip\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var dom = acequire(\"./lib/dom\");\n\n  function Tooltip(parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n  }\n\n  (function () {\n    this.$init = function () {\n      this.$element = dom.createElement(\"div\");\n      this.$element.className = \"ace_tooltip\";\n      this.$element.style.display = \"none\";\n      this.$parentNode.appendChild(this.$element);\n      return this.$element;\n    };\n\n    this.getElement = function () {\n      return this.$element || this.$init();\n    };\n\n    this.setText = function (text) {\n      dom.setInnerText(this.getElement(), text);\n    };\n\n    this.setHtml = function (html) {\n      this.getElement().innerHTML = html;\n    };\n\n    this.setPosition = function (x, y) {\n      this.getElement().style.left = x + \"px\";\n      this.getElement().style.top = y + \"px\";\n    };\n\n    this.setClassName = function (className) {\n      dom.addCssClass(this.getElement(), className);\n    };\n\n    this.show = function (text, x, y) {\n      if (text != null) this.setText(text);\n      if (x != null && y != null) this.setPosition(x, y);\n\n      if (!this.isOpen) {\n        this.getElement().style.display = \"block\";\n        this.isOpen = true;\n      }\n    };\n\n    this.hide = function () {\n      if (this.isOpen) {\n        this.getElement().style.display = \"none\";\n        this.isOpen = false;\n      }\n    };\n\n    this.getHeight = function () {\n      return this.getElement().offsetHeight;\n    };\n\n    this.getWidth = function () {\n      return this.getElement().offsetWidth;\n    };\n\n    this.destroy = function () {\n      this.isOpen = false;\n\n      if (this.$element && this.$element.parentNode) {\n        this.$element.parentNode.removeChild(this.$element);\n      }\n    };\n  }).call(Tooltip.prototype);\n  exports.Tooltip = Tooltip;\n});\nace.define(\"ace/mouse/default_gutter_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event\", \"ace/tooltip\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var dom = acequire(\"../lib/dom\");\n  var oop = acequire(\"../lib/oop\");\n  var event = acequire(\"../lib/event\");\n  var Tooltip = acequire(\"../tooltip\").Tooltip;\n\n  function GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n      if (!editor.isFocused() || e.getButton() != 0) return;\n      var gutterRegion = gutter.getRegion(e);\n      if (gutterRegion == \"foldWidgets\") return;\n      var row = e.getDocumentPosition().row;\n      var selection = editor.session.selection;\n      if (e.getShiftKey()) selection.selectTo(row, 0);else {\n        if (e.domEvent.detail == 2) {\n          editor.selectAll();\n          return e.preventDefault();\n        }\n\n        mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n      }\n      mouseHandler.setState(\"selectByLines\");\n      mouseHandler.captureMouse(e);\n      return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n      var row = mouseEvent.getDocumentPosition().row;\n      var annotation = gutter.$annotations[row];\n      if (!annotation) return hideTooltip();\n      var maxRow = editor.session.getLength();\n\n      if (row == maxRow) {\n        var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n        var pos = mouseEvent.$pos;\n        if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column)) return hideTooltip();\n      }\n\n      if (tooltipAnnotation == annotation) return;\n      tooltipAnnotation = annotation.text.join(\"<br/>\");\n      tooltip.setHtml(tooltipAnnotation);\n      tooltip.show();\n\n      editor._signal(\"showGutterTooltip\", tooltip);\n\n      editor.on(\"mousewheel\", hideTooltip);\n\n      if (mouseHandler.$tooltipFollowsMouse) {\n        moveTooltip(mouseEvent);\n      } else {\n        var gutterElement = mouseEvent.domEvent.target;\n        var rect = gutterElement.getBoundingClientRect();\n        var style = tooltip.getElement().style;\n        style.left = rect.right + \"px\";\n        style.top = rect.bottom + \"px\";\n      }\n    }\n\n    function hideTooltip() {\n      if (tooltipTimeout) tooltipTimeout = clearTimeout(tooltipTimeout);\n\n      if (tooltipAnnotation) {\n        tooltip.hide();\n        tooltipAnnotation = null;\n\n        editor._signal(\"hideGutterTooltip\", tooltip);\n\n        editor.removeEventListener(\"mousewheel\", hideTooltip);\n      }\n    }\n\n    function moveTooltip(e) {\n      tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n      var target = e.domEvent.target || e.domEvent.srcElement;\n      if (dom.hasCssClass(target, \"ace_fold-widget\")) return hideTooltip();\n      if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse) moveTooltip(e);\n      mouseEvent = e;\n      if (tooltipTimeout) return;\n      tooltipTimeout = setTimeout(function () {\n        tooltipTimeout = null;\n        if (mouseEvent && !mouseHandler.isMousePressed) showTooltip();else hideTooltip();\n      }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n      mouseEvent = null;\n      if (!tooltipAnnotation || tooltipTimeout) return;\n      tooltipTimeout = setTimeout(function () {\n        tooltipTimeout = null;\n        hideTooltip();\n      }, 50);\n    });\n    editor.on(\"changeSession\", hideTooltip);\n  }\n\n  function GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n  }\n\n  oop.inherits(GutterTooltip, Tooltip);\n  (function () {\n    this.setPosition = function (x, y) {\n      var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n      var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n      var width = this.getWidth();\n      var height = this.getHeight();\n      x += 15;\n      y += 15;\n\n      if (x + width > windowWidth) {\n        x -= x + width - windowWidth;\n      }\n\n      if (y + height > windowHeight) {\n        y -= 20 + height;\n      }\n\n      Tooltip.prototype.setPosition.call(this, x, y);\n    };\n  }).call(GutterTooltip.prototype);\n  exports.GutterHandler = GutterHandler;\n});\nace.define(\"ace/mouse/mouse_event\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n\n  var MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n    this.$pos = null;\n    this.$inSelection = null;\n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n  };\n\n  (function () {\n    this.stopPropagation = function () {\n      event.stopPropagation(this.domEvent);\n      this.propagationStopped = true;\n    };\n\n    this.preventDefault = function () {\n      event.preventDefault(this.domEvent);\n      this.defaultPrevented = true;\n    };\n\n    this.stop = function () {\n      this.stopPropagation();\n      this.preventDefault();\n    };\n\n    this.getDocumentPosition = function () {\n      if (this.$pos) return this.$pos;\n      this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n      return this.$pos;\n    };\n\n    this.inSelection = function () {\n      if (this.$inSelection !== null) return this.$inSelection;\n      var editor = this.editor;\n      var selectionRange = editor.getSelectionRange();\n      if (selectionRange.isEmpty()) this.$inSelection = false;else {\n        var pos = this.getDocumentPosition();\n        this.$inSelection = selectionRange.contains(pos.row, pos.column);\n      }\n      return this.$inSelection;\n    };\n\n    this.getButton = function () {\n      return event.getButton(this.domEvent);\n    };\n\n    this.getShiftKey = function () {\n      return this.domEvent.shiftKey;\n    };\n\n    this.getAccelKey = useragent.isMac ? function () {\n      return this.domEvent.metaKey;\n    } : function () {\n      return this.domEvent.ctrlKey;\n    };\n  }).call(MouseEvent.prototype);\n});\nace.define(\"ace/mouse/dragdrop_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var dom = acequire(\"../lib/dom\");\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n  var AUTOSCROLL_DELAY = 200;\n  var SCROLL_CURSOR_DELAY = 200;\n  var SCROLL_CURSOR_HYSTERESIS = 5;\n\n  function DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera) blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n      mouseHandler[x] = this[x];\n    }, this);\n    editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor,\n        counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function (e) {\n      if (this.cancelDrag || !mouseTarget.draggable) {\n        var self = this;\n        setTimeout(function () {\n          self.startSelect();\n          self.captureMouse(e);\n        }, 0);\n        return e.preventDefault();\n      }\n\n      range = editor.getSelectionRange();\n      var dataTransfer = e.dataTransfer;\n      dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n\n      if (useragent.isOpera) {\n        editor.container.appendChild(blankImage);\n        blankImage.scrollTop = 0;\n      }\n\n      dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n\n      if (useragent.isOpera) {\n        editor.container.removeChild(blankImage);\n      }\n\n      dataTransfer.clearData();\n      dataTransfer.setData(\"Text\", editor.session.getTextRange());\n      isInternal = true;\n      this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function (e) {\n      mouseTarget.draggable = false;\n      isInternal = false;\n      this.setState(null);\n\n      if (!editor.getReadOnly()) {\n        var dropEffect = e.dataTransfer.dropEffect;\n        if (!dragOperation && dropEffect == \"move\") editor.session.remove(editor.getSelectionRange());\n        editor.renderer.$cursorLayer.setBlinking(true);\n      }\n\n      this.editor.unsetStyle(\"ace_dragging\");\n      this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function (e) {\n      if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n      x = e.clientX;\n      y = e.clientY;\n      if (!dragSelectionMarker) addDragMarker();\n      counter++;\n      e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n      return event.preventDefault(e);\n    };\n\n    this.onDragOver = function (e) {\n      if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n      x = e.clientX;\n      y = e.clientY;\n\n      if (!dragSelectionMarker) {\n        addDragMarker();\n        counter++;\n      }\n\n      if (onMouseMoveTimer !== null) onMouseMoveTimer = null;\n      e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n      return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function (e) {\n      counter--;\n\n      if (counter <= 0 && dragSelectionMarker) {\n        clearDragMarker();\n        dragOperation = null;\n        return event.preventDefault(e);\n      }\n    };\n\n    this.onDrop = function (e) {\n      if (!dragCursor) return;\n      var dataTransfer = e.dataTransfer;\n\n      if (isInternal) {\n        switch (dragOperation) {\n          case \"move\":\n            if (range.contains(dragCursor.row, dragCursor.column)) {\n              range = {\n                start: dragCursor,\n                end: dragCursor\n              };\n            } else {\n              range = editor.moveText(range, dragCursor);\n            }\n\n            break;\n\n          case \"copy\":\n            range = editor.moveText(range, dragCursor, true);\n            break;\n        }\n      } else {\n        var dropData = dataTransfer.getData('Text');\n        range = {\n          start: dragCursor,\n          end: editor.session.insert(dragCursor, dropData)\n        };\n        editor.focus();\n        dragOperation = null;\n      }\n\n      clearDragMarker();\n      return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n      var now = Date.now();\n      var vMovement = !prevCursor || cursor.row != prevCursor.row;\n      var hMovement = !prevCursor || cursor.column != prevCursor.column;\n\n      if (!cursorMovedTime || vMovement || hMovement) {\n        editor.$blockScrolling += 1;\n        editor.moveCursorToPosition(cursor);\n        editor.$blockScrolling -= 1;\n        cursorMovedTime = now;\n        cursorPointOnCaretMoved = {\n          x: x,\n          y: y\n        };\n      } else {\n        var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n\n        if (distance > SCROLL_CURSOR_HYSTERESIS) {\n          cursorMovedTime = null;\n        } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n          editor.renderer.scrollCursorIntoView();\n          cursorMovedTime = null;\n        }\n      }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n      var now = Date.now();\n      var lineHeight = editor.renderer.layerConfig.lineHeight;\n      var characterWidth = editor.renderer.layerConfig.characterWidth;\n      var editorRect = editor.renderer.scroller.getBoundingClientRect();\n      var offsets = {\n        x: {\n          left: x - editorRect.left,\n          right: editorRect.right - x\n        },\n        y: {\n          top: y - editorRect.top,\n          bottom: editorRect.bottom - y\n        }\n      };\n      var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n      var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n      var scrollCursor = {\n        row: cursor.row,\n        column: cursor.column\n      };\n\n      if (nearestXOffset / characterWidth <= 2) {\n        scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : +2;\n      }\n\n      if (nearestYOffset / lineHeight <= 1) {\n        scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : +1;\n      }\n\n      var vScroll = cursor.row != scrollCursor.row;\n      var hScroll = cursor.column != scrollCursor.column;\n      var vMovement = !prevCursor || cursor.row != prevCursor.row;\n\n      if (vScroll || hScroll && !vMovement) {\n        if (!autoScrollStartTime) autoScrollStartTime = now;else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY) editor.renderer.scrollCursorIntoView(scrollCursor);\n      } else {\n        autoScrollStartTime = null;\n      }\n    }\n\n    function onDragInterval() {\n      var prevCursor = dragCursor;\n      dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n      scrollCursorIntoView(dragCursor, prevCursor);\n      autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n      range = editor.selection.toOrientedRange();\n      dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n      editor.clearSelection();\n      if (editor.isFocused()) editor.renderer.$cursorLayer.setBlinking(false);\n      clearInterval(timerId);\n      onDragInterval();\n      timerId = setInterval(onDragInterval, 20);\n      counter = 0;\n      event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n      clearInterval(timerId);\n      editor.session.removeMarker(dragSelectionMarker);\n      dragSelectionMarker = null;\n      editor.$blockScrolling += 1;\n      editor.selection.fromOrientedRange(range);\n      editor.$blockScrolling -= 1;\n      if (editor.isFocused() && !isInternal) editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n      range = null;\n      dragCursor = null;\n      counter = 0;\n      autoScrollStartTime = null;\n      cursorMovedTime = null;\n      event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n\n    var onMouseMoveTimer = null;\n\n    function onMouseMove() {\n      if (onMouseMoveTimer == null) {\n        onMouseMoveTimer = setTimeout(function () {\n          if (onMouseMoveTimer != null && dragSelectionMarker) clearDragMarker();\n        }, 20);\n      }\n    }\n\n    function canAccept(dataTransfer) {\n      var types = dataTransfer.types;\n      return !types || Array.prototype.some.call(types, function (type) {\n        return type == 'text/plain' || type == 'Text';\n      });\n    }\n\n    function getDropEffect(e) {\n      var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n      var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n      var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n      var effectAllowed = \"uninitialized\";\n\n      try {\n        effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n      } catch (e) {}\n\n      var dropEffect = \"none\";\n      if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";else if (moveAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"move\";else if (copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";\n      return dropEffect;\n    }\n  }\n\n  (function () {\n    this.dragWait = function () {\n      var interval = Date.now() - this.mousedownEvent.time;\n      if (interval > this.editor.getDragDelay()) this.startDrag();\n    };\n\n    this.dragWaitEnd = function () {\n      var target = this.editor.container;\n      target.draggable = false;\n      this.startSelect(this.mousedownEvent.getDocumentPosition());\n      this.selectEnd();\n    };\n\n    this.dragReadyEnd = function (e) {\n      this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());\n      this.editor.unsetStyle(\"ace_dragging\");\n      this.editor.renderer.setCursorStyle(\"\");\n      this.dragWaitEnd();\n    };\n\n    this.startDrag = function () {\n      this.cancelDrag = false;\n      var editor = this.editor;\n      var target = editor.container;\n      target.draggable = true;\n      editor.renderer.$cursorLayer.setBlinking(false);\n      editor.setStyle(\"ace_dragging\");\n      var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n      editor.renderer.setCursorStyle(cursorStyle);\n      this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function (e) {\n      var target = this.editor.container;\n\n      if (useragent.isIE && this.state == \"dragReady\") {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        if (distance > 3) target.dragDrop();\n      }\n\n      if (this.state === \"dragWait\") {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n\n        if (distance > 0) {\n          target.draggable = false;\n          this.startSelect(this.mousedownEvent.getDocumentPosition());\n        }\n      }\n    };\n\n    this.onMouseDown = function (e) {\n      if (!this.$dragEnabled) return;\n      this.mousedownEvent = e;\n      var editor = this.editor;\n      var inSelection = e.inSelection();\n      var button = e.getButton();\n      var clickCount = e.domEvent.detail || 1;\n\n      if (clickCount === 1 && button === 0 && inSelection) {\n        if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;\n        this.mousedownEvent.time = Date.now();\n        var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n        if (\"unselectable\" in eventTarget) eventTarget.unselectable = \"on\";\n\n        if (editor.getDragDelay()) {\n          if (useragent.isWebKit) {\n            this.cancelDrag = true;\n            var mouseTarget = editor.container;\n            mouseTarget.draggable = true;\n          }\n\n          this.setState(\"dragWait\");\n        } else {\n          this.startDrag();\n        }\n\n        this.captureMouse(e, this.onMouseDrag.bind(this));\n        e.defaultPrevented = true;\n      }\n    };\n  }).call(DragdropHandler.prototype);\n\n  function calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n  }\n\n  exports.DragdropHandler = DragdropHandler;\n});\nace.define(\"ace/lib/net\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var dom = acequire(\"./dom\");\n\n  exports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        callback(xhr.responseText);\n      }\n    };\n\n    xhr.send(null);\n  };\n\n  exports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n      if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n        s = s.onload = s.onreadystatechange = null;\n        if (!isAbort) callback();\n      }\n    };\n  };\n\n  exports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n  };\n});\nace.define(\"ace/lib/event_emitter\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var EventEmitter = {};\n\n  var stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n\n  var preventDefault = function preventDefault() {\n    this.defaultPrevented = true;\n  };\n\n  EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler) return;\n    if (typeof e != \"object\" || !e) e = {};\n    if (!e.type) e.type = eventName;\n    if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n    if (!e.preventDefault) e.preventDefault = preventDefault;\n    listeners = listeners.slice();\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n      if (e.propagationStopped) break;\n    }\n\n    if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n  };\n\n  EventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners) return;\n    listeners = listeners.slice();\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i](e, this);\n    }\n  };\n\n  EventEmitter.once = function (eventName, callback) {\n    var _self = this;\n\n    callback && this.addEventListener(eventName, function newCallback() {\n      _self.removeEventListener(eventName, newCallback);\n\n      callback.apply(null, arguments);\n    });\n  };\n\n  EventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) handlers = this._defaultHandlers = {\n      _disabled_: {}\n    };\n\n    if (handlers[eventName]) {\n      var old = handlers[eventName];\n      var disabled = handlers._disabled_[eventName];\n      if (!disabled) handlers._disabled_[eventName] = disabled = [];\n      disabled.push(old);\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n\n    handlers[eventName] = callback;\n  };\n\n  EventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers) return;\n    var disabled = handlers._disabled_[eventName];\n\n    if (handlers[eventName] == callback) {\n      var old = handlers[eventName];\n      if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n      var i = disabled.indexOf(callback);\n      if (i != -1) disabled.splice(i, 1);\n    }\n  };\n\n  EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) listeners = this._eventRegistry[eventName] = [];\n    if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n  };\n\n  EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners) return;\n    var index = listeners.indexOf(callback);\n    if (index !== -1) listeners.splice(index, 1);\n  };\n\n  EventEmitter.removeAllListeners = function (eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n  };\n\n  exports.EventEmitter = EventEmitter;\n});\nace.define(\"ace/lib/app_config\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"no use strict\";\n\n  var oop = acequire(\"./oop\");\n  var EventEmitter = acequire(\"./event_emitter\").EventEmitter;\n  var optionsProvider = {\n    setOptions: function setOptions(optList) {\n      Object.keys(optList).forEach(function (key) {\n        this.setOption(key, optList[key]);\n      }, this);\n    },\n    getOptions: function getOptions(optionNames) {\n      var result = {};\n\n      if (!optionNames) {\n        optionNames = Object.keys(this.$options);\n      } else if (!Array.isArray(optionNames)) {\n        result = optionNames;\n        optionNames = Object.keys(result);\n      }\n\n      optionNames.forEach(function (key) {\n        result[key] = this.getOption(key);\n      }, this);\n      return result;\n    },\n    setOption: function setOption(name, value) {\n      if (this[\"$\" + name] === value) return;\n      var opt = this.$options[name];\n\n      if (!opt) {\n        return warn('misspelled option \"' + name + '\"');\n      }\n\n      if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n      if (!opt.handlesSet) this[\"$\" + name] = value;\n      if (opt && opt.set) opt.set.call(this, value);\n    },\n    getOption: function getOption(name) {\n      var opt = this.$options[name];\n\n      if (!opt) {\n        return warn('misspelled option \"' + name + '\"');\n      }\n\n      if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n      return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n  };\n\n  function warn(message) {\n    if (typeof console != \"undefined\" && console.warn) console.warn.apply(console, arguments);\n  }\n\n  function reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error) console.error(e);\n    setTimeout(function () {\n      throw e;\n    });\n  }\n\n  var AppConfig = function AppConfig() {\n    this.$defaultOptions = {};\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.defineOptions = function (obj, path, options) {\n      if (!obj.$options) this.$defaultOptions[path] = obj.$options = {};\n      Object.keys(options).forEach(function (key) {\n        var opt = options[key];\n        if (typeof opt == \"string\") opt = {\n          forwardTo: opt\n        };\n        opt.name || (opt.name = key);\n        obj.$options[opt.name] = opt;\n        if (\"initialValue\" in opt) obj[\"$\" + opt.name] = opt.initialValue;\n      });\n      oop.implement(obj, optionsProvider);\n      return this;\n    };\n\n    this.resetOptions = function (obj) {\n      Object.keys(obj.$options).forEach(function (key) {\n        var opt = obj.$options[key];\n        if (\"value\" in opt) obj.setOption(key, opt.value);\n      });\n    };\n\n    this.setDefaultValue = function (path, name, value) {\n      var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n\n      if (opts[name]) {\n        if (opts.forwardTo) this.setDefaultValue(opts.forwardTo, name, value);else opts[name].value = value;\n      }\n    };\n\n    this.setDefaultValues = function (path, optionHash) {\n      Object.keys(optionHash).forEach(function (key) {\n        this.setDefaultValue(path, key, optionHash[key]);\n      }, this);\n    };\n\n    this.warn = warn;\n    this.reportError = reportError;\n  }).call(AppConfig.prototype);\n  exports.AppConfig = AppConfig;\n});\nace.define(\"ace/config\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/app_config\"], function (acequire, exports, module) {\n  \"no use strict\";\n\n  var lang = acequire(\"./lib/lang\");\n  var oop = acequire(\"./lib/oop\");\n  var net = acequire(\"./lib/net\");\n  var AppConfig = acequire(\"./lib/app_config\").AppConfig;\n  module.exports = exports = new AppConfig();\n\n  var global = function () {\n    return this || typeof window != \"undefined\" && window;\n  }();\n\n  var options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {}\n  };\n\n  exports.get = function (key) {\n    if (!options.hasOwnProperty(key)) throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n  };\n\n  exports.set = function (key, value) {\n    if (!options.hasOwnProperty(key)) throw new Error(\"Unknown config key: \" + key);\n    options[key] = value;\n  };\n\n  exports.all = function () {\n    return lang.copyObject(options);\n  };\n\n  exports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name]) return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n\n    if (component == \"worker\" && sep == \"-\") {\n      var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n      base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1) base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n\n    if (path == null) {\n      path = options.basePath;\n    } else if (sep == \"/\") {\n      component = sep = \"\";\n    }\n\n    if (path && path.slice(-1) != \"/\") path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n  };\n\n  exports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n  };\n\n  exports.$loading = {};\n\n  exports.loadModule = function (moduleName, onLoad) {\n    var module, moduleType;\n\n    if (Array.isArray(moduleName)) {\n      moduleType = moduleName[0];\n      moduleName = moduleName[1];\n    }\n\n    try {\n      module = acequire(moduleName);\n    } catch (e) {}\n\n    if (module && !exports.$loading[moduleName]) return onLoad && onLoad(module);\n    if (!exports.$loading[moduleName]) exports.$loading[moduleName] = [];\n    exports.$loading[moduleName].push(onLoad);\n    if (exports.$loading[moduleName].length > 1) return;\n\n    var afterLoad = function afterLoad() {\n      acequire([moduleName], function (module) {\n        exports._emit(\"load.module\", {\n          name: moduleName,\n          module: module\n        });\n\n        var listeners = exports.$loading[moduleName];\n        exports.$loading[moduleName] = null;\n        listeners.forEach(function (onLoad) {\n          onLoad && onLoad(module);\n        });\n      });\n    };\n\n    if (!exports.get(\"packaged\")) return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n  };\n\n  init(true);\n\n  function init(packaged) {\n    if (!global || !global.document) return;\n    options.packaged = packaged || acequire.packaged || module.packaged || global.define && define.packaged;\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = document.currentScript || document._currentScript; // native or polyfill\n\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    var scripts = currentDocument.getElementsByTagName(\"script\");\n\n    for (var i = 0; i < scripts.length; i++) {\n      var script = scripts[i];\n      var src = script.src || script.getAttribute(\"src\");\n      if (!src) continue;\n      var attributes = script.attributes;\n\n      for (var j = 0, l = attributes.length; j < l; j++) {\n        var attr = attributes[j];\n\n        if (attr.name.indexOf(\"data-ace-\") === 0) {\n          scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n        }\n      }\n\n      var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n      if (m) scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n      scriptOptions.base = scriptOptions.base || scriptUrl;\n      scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions) {\n      if (typeof scriptOptions[key] !== \"undefined\") exports.set(key, scriptOptions[key]);\n    }\n  }\n\n  exports.init = init;\n\n  function deHyphenate(str) {\n    return str.replace(/-(.)/g, function (m, m1) {\n      return m1.toUpperCase();\n    });\n  }\n});\nace.define(\"ace/mouse/mouse_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/mouse/default_handlers\", \"ace/mouse/default_gutter_handler\", \"ace/mouse/mouse_event\", \"ace/mouse/dragdrop_handler\", \"ace/config\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n  var DefaultHandlers = acequire(\"./default_handlers\").DefaultHandlers;\n  var DefaultGutterHandler = acequire(\"./default_gutter_handler\").GutterHandler;\n  var MouseEvent = acequire(\"./mouse_event\").MouseEvent;\n  var DragdropHandler = acequire(\"./dragdrop_handler\").DragdropHandler;\n  var config = acequire(\"../config\");\n\n  var MouseHandler = function MouseHandler(editor) {\n    var _self = this;\n\n    this.editor = editor;\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function focusEditor(e) {\n      var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n      if (windowBlurred) window.focus();\n      editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n    event.addMultiMouseDownListener([mouseTarget, editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner, editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner, editor.textInput && editor.textInput.getElement()].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\");\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n    event.addTouchMoveListener(editor.container, this.onTouchMove.bind(this, \"touchmove\"));\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n    event.addListener(mouseTarget, \"mousedown\", focusEditor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor);\n\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n      event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor);\n      event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor);\n    }\n\n    editor.on(\"mousemove\", function (e) {\n      if (_self.state || _self.$dragDelay || !_self.$dragEnabled) return;\n      var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n      var range = editor.session.selection.getRange();\n      var renderer = editor.renderer;\n\n      if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n        renderer.setCursorStyle(\"default\");\n      } else {\n        renderer.setCursorStyle(\"\");\n      }\n    });\n  };\n\n  (function () {\n    this.onMouseEvent = function (name, e) {\n      this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function (name, e) {\n      var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n      if (!listeners || !listeners.length) return;\n\n      this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function (name, e) {\n      var mouseEvent = new MouseEvent(e, this.editor);\n      mouseEvent.speed = this.$scrollSpeed * 2;\n      mouseEvent.wheelX = e.wheelX;\n      mouseEvent.wheelY = e.wheelY;\n\n      this.editor._emit(name, mouseEvent);\n    };\n\n    this.onTouchMove = function (name, e) {\n      var mouseEvent = new MouseEvent(e, this.editor);\n      mouseEvent.speed = 1; //this.$scrollSpeed * 2;\n\n      mouseEvent.wheelX = e.wheelX;\n      mouseEvent.wheelY = e.wheelY;\n\n      this.editor._emit(name, mouseEvent);\n    };\n\n    this.setState = function (state) {\n      this.state = state;\n    };\n\n    this.captureMouse = function (ev, mouseMoveHandler) {\n      this.x = ev.x;\n      this.y = ev.y;\n      this.isMousePressed = true;\n      var renderer = this.editor.renderer;\n      if (renderer.$keepTextAreaAtCursor) renderer.$keepTextAreaAtCursor = null;\n      var self = this;\n\n      var onMouseMove = function onMouseMove(e) {\n        if (!e) return;\n        if (useragent.isWebKit && !e.which && self.releaseMouse) return self.releaseMouse();\n        self.x = e.clientX;\n        self.y = e.clientY;\n        mouseMoveHandler && mouseMoveHandler(e);\n        self.mouseEvent = new MouseEvent(e, self.editor);\n        self.$mouseMoved = true;\n      };\n\n      var onCaptureEnd = function onCaptureEnd(e) {\n        clearInterval(timerId);\n        onCaptureInterval();\n        self[self.state + \"End\"] && self[self.state + \"End\"](e);\n        self.state = \"\";\n\n        if (renderer.$keepTextAreaAtCursor == null) {\n          renderer.$keepTextAreaAtCursor = true;\n          renderer.$moveTextAreaToCursor();\n        }\n\n        self.isMousePressed = false;\n        self.$onCaptureMouseMove = self.releaseMouse = null;\n        e && self.onMouseEvent(\"mouseup\", e);\n      };\n\n      var onCaptureInterval = function onCaptureInterval() {\n        self[self.state] && self[self.state]();\n        self.$mouseMoved = false;\n      };\n\n      if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n        return setTimeout(function () {\n          onCaptureEnd(ev);\n        });\n      }\n\n      self.$onCaptureMouseMove = onMouseMove;\n      self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n      var timerId = setInterval(onCaptureInterval, 20);\n    };\n\n    this.releaseMouse = null;\n\n    this.cancelContextMenu = function () {\n      var stop = function (e) {\n        if (e && e.domEvent && e.domEvent.type != \"contextmenu\") return;\n        this.editor.off(\"nativecontextmenu\", stop);\n        if (e && e.domEvent) event.stopEvent(e.domEvent);\n      }.bind(this);\n\n      setTimeout(stop, 10);\n      this.editor.on(\"nativecontextmenu\", stop);\n    };\n  }).call(MouseHandler.prototype);\n  config.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {\n      initialValue: 2\n    },\n    dragDelay: {\n      initialValue: useragent.isMac ? 150 : 0\n    },\n    dragEnabled: {\n      initialValue: true\n    },\n    focusTimout: {\n      initialValue: 0\n    },\n    tooltipFollowsMouse: {\n      initialValue: true\n    }\n  });\n  exports.MouseHandler = MouseHandler;\n});\nace.define(\"ace/mouse/fold_handler\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  function FoldHandler(editor) {\n    editor.on(\"click\", function (e) {\n      var position = e.getDocumentPosition();\n      var session = editor.session;\n      var fold = session.getFoldAt(position.row, position.column, 1);\n\n      if (fold) {\n        if (e.getAccelKey()) session.removeFold(fold);else session.expandFold(fold);\n        e.stop();\n      }\n    });\n    editor.on(\"gutterclick\", function (e) {\n      var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n      if (gutterRegion == \"foldWidgets\") {\n        var row = e.getDocumentPosition().row;\n        var session = editor.session;\n        if (session.foldWidgets && session.foldWidgets[row]) editor.session.onFoldWidgetClick(row, e);\n        if (!editor.isFocused()) editor.focus();\n        e.stop();\n      }\n    });\n    editor.on(\"gutterdblclick\", function (e) {\n      var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n      if (gutterRegion == \"foldWidgets\") {\n        var row = e.getDocumentPosition().row;\n        var session = editor.session;\n        var data = session.getParentFoldRangeData(row, true);\n        var range = data.range || data.firstRange;\n\n        if (range) {\n          row = range.start.row;\n          var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n          if (fold) {\n            session.removeFold(fold);\n          } else {\n            session.addFold(\"...\", range);\n            editor.renderer.scrollCursorIntoView({\n              row: range.start.row,\n              column: 0\n            });\n          }\n        }\n\n        e.stop();\n      }\n    });\n  }\n\n  exports.FoldHandler = FoldHandler;\n});\nace.define(\"ace/keyboard/keybinding\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/event\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var keyUtil = acequire(\"../lib/keys\");\n  var event = acequire(\"../lib/event\");\n\n  var KeyBinding = function KeyBinding(editor) {\n    this.$editor = editor;\n    this.$data = {\n      editor: editor\n    };\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n  };\n\n  (function () {\n    this.setDefaultHandler = function (kb) {\n      this.removeKeyboardHandler(this.$defaultHandler);\n      this.$defaultHandler = kb;\n      this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function (kb) {\n      var h = this.$handlers;\n      if (h[h.length - 1] == kb) return;\n\n      while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler) {\n        this.removeKeyboardHandler(h[h.length - 1]);\n      }\n\n      this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function (kb, pos) {\n      if (!kb) return;\n      if (typeof kb == \"function\" && !kb.handleKeyboard) kb.handleKeyboard = kb;\n      var i = this.$handlers.indexOf(kb);\n      if (i != -1) this.$handlers.splice(i, 1);\n      if (pos == undefined) this.$handlers.push(kb);else this.$handlers.splice(pos, 0, kb);\n      if (i == -1 && kb.attach) kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function (kb) {\n      var i = this.$handlers.indexOf(kb);\n      if (i == -1) return false;\n      this.$handlers.splice(i, 1);\n      kb.detach && kb.detach(this.$editor);\n      return true;\n    };\n\n    this.getKeyboardHandler = function () {\n      return this.$handlers[this.$handlers.length - 1];\n    };\n\n    this.getStatusText = function () {\n      var data = this.$data;\n      var editor = data.editor;\n      return this.$handlers.map(function (h) {\n        return h.getStatusText && h.getStatusText(editor, data) || \"\";\n      }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n      var toExecute;\n      var success = false;\n      var commands = this.$editor.commands;\n\n      for (var i = this.$handlers.length; i--;) {\n        toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n        if (!toExecute || !toExecute.command) continue;\n\n        if (toExecute.command == \"null\") {\n          success = true;\n        } else {\n          success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n        }\n\n        if (success && e && hashId != -1 && toExecute.passEvent != true && toExecute.command.passEvent != true) {\n          event.stopEvent(e);\n        }\n\n        if (success) break;\n      }\n\n      if (!success && hashId == -1) {\n        toExecute = {\n          command: \"insertstring\"\n        };\n        success = commands.exec(\"insertstring\", this.$editor, keyString);\n      }\n\n      if (success && this.$editor._signal) this.$editor._signal(\"keyboardActivity\", toExecute);\n      return success;\n    };\n\n    this.onCommandKey = function (e, hashId, keyCode) {\n      var keyString = keyUtil.keyCodeToString(keyCode);\n      this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function (text) {\n      this.$callKeyboardHandlers(-1, text);\n    };\n  }).call(KeyBinding.prototype);\n  exports.KeyBinding = KeyBinding;\n});\nace.define(\"ace/lib/bidiutil\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var ArabicAlefBetIntervalsBegine = [\"\\u0621\", \"\\u0641\"];\n  var ArabicAlefBetIntervalsEnd = [\"\\u063A\", \"\\u064A\"];\n  var dir = 0,\n      hiLevel = 0;\n  var lastArabic = false,\n      hasUBAT_AL = false,\n      hasUBAT_B = false,\n      hasUBAT_S = false,\n      hasBlockSep = false,\n      hasSegSep = false;\n  var impTab_LTR = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]];\n  var impTab_RTL = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]];\n  var LTR = 0,\n      RTL = 1;\n  var L = 0;\n  var R = 1;\n  var EN = 2;\n  var AN = 3;\n  var ON = 4;\n  var B = 5;\n  var S = 6;\n  var AL = 7;\n  var WS = 8;\n  var CS = 9;\n  var ES = 10;\n  var ET = 11;\n  var NSM = 12;\n  var LRE = 13;\n  var RLE = 14;\n  var PDF = 15;\n  var LRO = 16;\n  var RLO = 17;\n  var BN = 18;\n  var UnicodeTBL00 = [BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S, WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS, EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN, BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON, ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON];\n  var UnicodeTBL20 = [WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS, ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS];\n\n  function _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR,\n        prevState = null,\n        newClass = null,\n        newLevel = null,\n        newState = 0,\n        action = null,\n        cond = null,\n        condPos = -1,\n        i = null,\n        ix = null,\n        classes = [];\n\n    if (!charTypes) {\n      for (i = 0, charTypes = []; i < len; i++) {\n        charTypes[i] = _getCharacterType(chars[i]);\n      }\n    }\n\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n\n    for (ix = 0; ix < len; ix++) {\n      prevState = newState;\n      classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n      newState = impTab[prevState][newClass];\n      action = newState & 0xF0;\n      newState &= 0x0F;\n      levels[ix] = newLevel = impTab[newState][5];\n\n      if (action > 0) {\n        if (action == 0x10) {\n          for (i = condPos; i < ix; i++) {\n            levels[i] = 1;\n          }\n\n          condPos = -1;\n        } else {\n          condPos = -1;\n        }\n      }\n\n      cond = impTab[newState][6];\n\n      if (cond) {\n        if (condPos == -1) {\n          condPos = ix;\n        }\n      } else {\n        if (condPos > -1) {\n          for (i = condPos; i < ix; i++) {\n            levels[i] = newLevel;\n          }\n\n          condPos = -1;\n        }\n      }\n\n      if (charTypes[ix] == B) {\n        levels[ix] = 0;\n      }\n\n      hiLevel |= newLevel;\n    }\n\n    if (hasUBAT_S) {\n      for (i = 0; i < len; i++) {\n        if (charTypes[i] == S) {\n          levels[i] = dir;\n\n          for (var j = i - 1; j >= 0; j--) {\n            if (charTypes[j] == WS) {\n              levels[j] = dir;\n            } else {\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n      return;\n    }\n\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n      _array.reverse();\n\n      return;\n    }\n\n    var len = _array.length,\n        start = 0,\n        end,\n        lo,\n        hi,\n        tmp;\n\n    while (start < len) {\n      if (levels[start] >= lev) {\n        end = start + 1;\n\n        while (end < len && levels[end] >= lev) {\n          end++;\n        }\n\n        for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n          tmp = _array[lo];\n          _array[lo] = _array[hi];\n          _array[hi] = tmp;\n        }\n\n        start = end;\n      }\n\n      start++;\n    }\n  }\n\n  function _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix],\n        wType,\n        nType,\n        len,\n        i;\n\n    switch (cType) {\n      case L:\n      case R:\n        lastArabic = false;\n\n      case ON:\n      case AN:\n        return cType;\n\n      case EN:\n        return lastArabic ? AN : EN;\n\n      case AL:\n        lastArabic = true;\n        hasUBAT_AL = true;\n        return R;\n\n      case WS:\n        return ON;\n\n      case CS:\n        if (ix < 1 || ix + 1 >= types.length || (wType = classes[ix - 1]) != EN && wType != AN || (nType = types[ix + 1]) != EN && nType != AN) {\n          return ON;\n        }\n\n        if (lastArabic) {\n          nType = AN;\n        }\n\n        return nType == wType ? nType : ON;\n\n      case ES:\n        wType = ix > 0 ? classes[ix - 1] : B;\n\n        if (wType == EN && ix + 1 < types.length && types[ix + 1] == EN) {\n          return EN;\n        }\n\n        return ON;\n\n      case ET:\n        if (ix > 0 && classes[ix - 1] == EN) {\n          return EN;\n        }\n\n        if (lastArabic) {\n          return ON;\n        }\n\n        i = ix + 1;\n        len = types.length;\n\n        while (i < len && types[i] == ET) {\n          i++;\n        }\n\n        if (i < len && types[i] == EN) {\n          return EN;\n        }\n\n        return ON;\n\n      case NSM:\n        len = types.length;\n        i = ix + 1;\n\n        while (i < len && types[i] == NSM) {\n          i++;\n        }\n\n        if (i < len) {\n          var c = chars[ix],\n              rtlCandidate = c >= 0x0591 && c <= 0x08FF || c == 0xFB1E;\n          wType = types[i];\n\n          if (rtlCandidate && (wType == R || wType == AL)) {\n            return R;\n          }\n        }\n\n        if (ix < 1 || (wType = types[ix - 1]) == B) {\n          return ON;\n        }\n\n        return classes[ix - 1];\n\n      case B:\n        lastArabic = false;\n        hasUBAT_B = true;\n        return dir;\n\n      case S:\n        hasUBAT_S = true;\n        return ON;\n\n      case LRE:\n      case RLE:\n      case LRO:\n      case RLO:\n      case PDF:\n        lastArabic = false;\n\n      case BN:\n        return ON;\n    }\n  }\n\n  function _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0),\n        hi = uc >> 8;\n\n    if (hi == 0) {\n      return uc > 0x00BF ? L : UnicodeTBL00[uc];\n    } else if (hi == 5) {\n      return /[\\u0591-\\u05f4]/.test(ch) ? R : L;\n    } else if (hi == 6) {\n      if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch)) return NSM;else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch)) return AN;else if (uc == 0x066A) return ET;else if (/[\\u06f0-\\u06f9]/.test(ch)) return EN;else return AL;\n    } else if (hi == 0x20 && uc <= 0x205F) {\n      return UnicodeTBL20[uc & 0xFF];\n    } else if (hi == 0xFE) {\n      return uc >= 0xFE70 ? AL : ON;\n    }\n\n    return ON;\n  }\n\n  function _isArabicDiacritics(ch) {\n    return ch >= \"\\u064B\" && ch <= \"\\u0655\";\n  }\n\n  exports.L = L;\n  exports.R = R;\n  exports.EN = EN;\n  exports.ON_R = 3;\n  exports.AN = 4;\n  exports.R_H = 5;\n  exports.B = 6;\n  exports.DOT = \"\\xB7\";\n\n  exports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2) return {};\n    var chars = text.split(\"\"),\n        logicalFromVisual = new Array(chars.length),\n        bidiLevels = new Array(chars.length),\n        levels = [];\n    dir = isRtl ? RTL : LTR;\n\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++) {\n      ;\n    }\n\n    _invertLevel(2, levels, logicalFromVisual);\n\n    _invertLevel(1, levels, logicalFromVisual);\n\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) {\n      //fix levels to reflect character width\n      if (textCharTypes[i] === AN) {\n        levels[i] = exports.AN;\n      } else if (levels[i] === R && (textCharTypes[i] > AL && textCharTypes[i] < LRE || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n        levels[i] = exports.ON_R;\n      } else if (i > 0 && chars[i - 1] === \"\\u0644\" && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n        levels[i - 1] = levels[i] = exports.R_H;\n        i++;\n      }\n    }\n\n    if (chars[chars.length - 1] === exports.DOT) levels[chars.length - 1] = exports.B;\n\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n      bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n\n    return {\n      'logicalFromVisual': logicalFromVisual,\n      'bidiLevels': bidiLevels\n    };\n  };\n\n  exports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n\n    for (var i = 0; i < text.length; i++) {\n      textCharTypes[i] = _getCharacterType(text.charAt(i));\n      if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL)) ret = true;\n    }\n\n    return ret;\n  };\n\n  exports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n      if (rowMap.logicalFromVisual[i] == logIdx) return i;\n    }\n\n    return 0;\n  };\n});\nace.define(\"ace/bidihandler\", [\"require\", \"exports\", \"module\", \"ace/lib/bidiutil\", \"ace/lib/lang\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var bidiUtil = acequire(\"./lib/bidiutil\");\n  var lang = acequire(\"./lib/lang\");\n  var useragent = acequire(\"./lib/useragent\");\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n\n  var BidiHandler = function BidiHandler(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.isLastRow = false;\n    this.EOF = \"\\xB6\";\n    this.seenBidi = false;\n  };\n\n  (function () {\n    this.isBidiRow = function (screenRow, docRow, splitIndex) {\n      if (!this.seenBidi) return false;\n\n      if (screenRow !== this.currentRow) {\n        this.currentRow = screenRow;\n        this.updateRowLine(docRow, splitIndex);\n        this.updateBidiMap();\n      }\n\n      return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function (delta) {\n      if (!this.seenBidi) {\n        if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n          this.seenBidi = true;\n          this.currentRow = null;\n        }\n      } else {\n        this.currentRow = null;\n      }\n    };\n\n    this.getDocumentRow = function () {\n      var docRow = 0;\n      var rowCache = this.session.$screenRowCache;\n\n      if (rowCache.length) {\n        var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n        if (index >= 0) docRow = this.session.$docRowCache[index];\n      }\n\n      return docRow;\n    };\n\n    this.getSplitIndex = function () {\n      var splitIndex = 0;\n      var rowCache = this.session.$screenRowCache;\n\n      if (rowCache.length) {\n        var currentIndex,\n            prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n\n        while (this.currentRow - splitIndex > 0) {\n          currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n          if (currentIndex !== prevIndex) break;\n          prevIndex = currentIndex;\n          splitIndex++;\n        }\n      }\n\n      return splitIndex;\n    };\n\n    this.updateRowLine = function (docRow, splitIndex) {\n      if (docRow === undefined) docRow = this.getDocumentRow();\n      this.wrapIndent = 0;\n      this.isLastRow = docRow === this.session.getLength() - 1;\n      this.line = this.session.getLine(docRow);\n\n      if (this.session.$useWrapMode) {\n        var splits = this.session.$wrapData[docRow];\n\n        if (splits) {\n          if (splitIndex === undefined) splitIndex = this.getSplitIndex();\n\n          if (splitIndex > 0 && splits.length) {\n            this.wrapIndent = splits.indent;\n            this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splits.length - 1]) : this.line.substring(splits[splits.length - 1]);\n          } else {\n            this.line = this.line.substring(0, splits[splitIndex]);\n          }\n        }\n      }\n\n      var session = this.session,\n          shift = 0,\n          size;\n      this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n        if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n          size = ch === '\\t' ? session.getScreenTabSize(i + shift) : 2;\n          shift += size - 1;\n          return lang.stringRepeat(bidiUtil.DOT, size);\n        }\n\n        return ch;\n      });\n    };\n\n    this.updateBidiMap = function () {\n      var textCharTypes = [],\n          endOfLine = this.isLastRow ? this.EOF : this.EOL;\n      var line = this.line + (this.showInvisibles ? endOfLine : bidiUtil.DOT);\n\n      if (bidiUtil.hasBidiCharacters(line, textCharTypes)) {\n        this.bidiMap = bidiUtil.doBidiReorder(line, textCharTypes, this.isRtlDir);\n      } else {\n        this.bidiMap = {};\n      }\n    };\n\n    this.markAsDirty = function () {\n      this.currentRow = null;\n    };\n\n    this.updateCharacterWidths = function (fontMetrics) {\n      if (!this.seenBidi) return;\n      if (this.characterWidth === fontMetrics.$characterSize.width) return;\n      var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n      var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05D4\");\n      this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n      this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n      this.charWidths[bidiUtil.R_H] = useragent.isChrome ? bidiCharWidth : bidiCharWidth * 0.45;\n      this.charWidths[bidiUtil.B] = 0;\n      this.currentRow = null;\n    };\n\n    this.getShowInvisibles = function () {\n      return this.showInvisibles;\n    };\n\n    this.setShowInvisibles = function (showInvisibles) {\n      this.showInvisibles = showInvisibles;\n      this.currentRow = null;\n    };\n\n    this.setEolChar = function (eolChar) {\n      this.EOL = eolChar;\n    };\n\n    this.setTextDir = function (isRtlDir) {\n      this.isRtlDir = isRtlDir;\n    };\n\n    this.getPosLeft = function (col) {\n      col -= this.wrapIndent;\n      var visualIdx = bidiUtil.getVisualFromLogicalIdx(col > 0 ? col - 1 : 0, this.bidiMap),\n          levels = this.bidiMap.bidiLevels,\n          left = 0;\n      if (col === 0 && levels[visualIdx] % 2 !== 0) visualIdx++;\n\n      for (var i = 0; i < visualIdx; i++) {\n        left += this.charWidths[levels[i]];\n      }\n\n      if (col !== 0 && levels[visualIdx] % 2 === 0) left += this.charWidths[levels[visualIdx]];\n      if (this.wrapIndent) left += this.wrapIndent * this.charWidths[bidiUtil.L];\n      return left;\n    };\n\n    this.getSelections = function (startCol, endCol) {\n      var map = this.bidiMap,\n          levels = map.bidiLevels,\n          level,\n          offset = this.wrapIndent * this.charWidths[bidiUtil.L],\n          selections = [],\n          selColMin = Math.min(startCol, endCol) - this.wrapIndent,\n          selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n          isSelected = false,\n          isSelectedPrev = false,\n          selectionStart = 0;\n\n      for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n        logIdx = map.logicalFromVisual[visIdx];\n        level = levels[visIdx];\n        isSelected = logIdx >= selColMin && logIdx < selColMax;\n\n        if (isSelected && !isSelectedPrev) {\n          selectionStart = offset;\n        } else if (!isSelected && isSelectedPrev) {\n          selections.push({\n            left: selectionStart,\n            width: offset - selectionStart\n          });\n        }\n\n        offset += this.charWidths[level];\n        isSelectedPrev = isSelected;\n      }\n\n      if (isSelected && visIdx === levels.length) {\n        selections.push({\n          left: selectionStart,\n          width: offset - selectionStart\n        });\n      }\n\n      return selections;\n    };\n\n    this.offsetToCol = function (posX) {\n      var logicalIdx = 0,\n          posX = Math.max(posX, 0),\n          offset = 0,\n          visualIdx = 0,\n          levels = this.bidiMap.bidiLevels,\n          charWidth = this.charWidths[levels[visualIdx]];\n\n      if (this.wrapIndent) {\n        posX -= this.wrapIndent * this.charWidths[bidiUtil.L];\n      }\n\n      while (posX > offset + charWidth / 2) {\n        offset += charWidth;\n\n        if (visualIdx === levels.length - 1) {\n          charWidth = 0;\n          break;\n        }\n\n        charWidth = this.charWidths[levels[++visualIdx]];\n      }\n\n      if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && levels[visualIdx] % 2 === 0) {\n        if (posX < offset) visualIdx--;\n        logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n      } else if (visualIdx > 0 && levels[visualIdx - 1] % 2 === 0 && levels[visualIdx] % 2 !== 0) {\n        logicalIdx = 1 + (posX > offset ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n      } else if (this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && levels[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0) {\n        logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n      } else {\n        if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && charWidth !== 0) visualIdx--;\n        logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n      }\n\n      return logicalIdx + this.wrapIndent;\n    };\n  }).call(BidiHandler.prototype);\n  exports.BidiHandler = BidiHandler;\n});\nace.define(\"ace/range\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var comparePoints = function comparePoints(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  var Range = function Range(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n      row: startRow,\n      column: startColumn\n    };\n    this.end = {\n      row: endRow,\n      column: endColumn\n    };\n  };\n\n  (function () {\n    this.isEqual = function (range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n    };\n\n    this.toString = function () {\n      return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n    };\n\n    this.contains = function (row, column) {\n      return this.compare(row, column) == 0;\n    };\n\n    this.compareRange = function (range) {\n      var cmp,\n          end = range.end,\n          start = range.start;\n      cmp = this.compare(end.row, end.column);\n\n      if (cmp == 1) {\n        cmp = this.compare(start.row, start.column);\n\n        if (cmp == 1) {\n          return 2;\n        } else if (cmp == 0) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else if (cmp == -1) {\n        return -2;\n      } else {\n        cmp = this.compare(start.row, start.column);\n\n        if (cmp == -1) {\n          return -1;\n        } else if (cmp == 1) {\n          return 42;\n        } else {\n          return 0;\n        }\n      }\n    };\n\n    this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    };\n\n    this.containsRange = function (range) {\n      return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n\n    this.intersects = function (range) {\n      var cmp = this.compareRange(range);\n      return cmp == -1 || cmp == 0 || cmp == 1;\n    };\n\n    this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    };\n\n    this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    };\n\n    this.setStart = function (row, column) {\n      if (typeof row == \"object\") {\n        this.start.column = row.column;\n        this.start.row = row.row;\n      } else {\n        this.start.row = row;\n        this.start.column = column;\n      }\n    };\n\n    this.setEnd = function (row, column) {\n      if (typeof row == \"object\") {\n        this.end.column = row.column;\n        this.end.row = row.row;\n      } else {\n        this.end.row = row;\n        this.end.column = column;\n      }\n    };\n\n    this.inside = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column) || this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.insideStart = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isEnd(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.insideEnd = function (row, column) {\n      if (this.compare(row, column) == 0) {\n        if (this.isStart(row, column)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    this.compare = function (row, column) {\n      if (!this.isMultiLine()) {\n        if (row === this.start.row) {\n          return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n        }\n      }\n\n      if (row < this.start.row) return -1;\n      if (row > this.end.row) return 1;\n      if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n      if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n      return 0;\n    };\n\n    this.compareStart = function (row, column) {\n      if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.compareEnd = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.compareInside = function (row, column) {\n      if (this.end.row == row && this.end.column == column) {\n        return 1;\n      } else if (this.start.row == row && this.start.column == column) {\n        return -1;\n      } else {\n        return this.compare(row, column);\n      }\n    };\n\n    this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.end.row < firstRow) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };else if (this.start.row < firstRow) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.extend = function (row, column) {\n      var cmp = this.compare(row, column);\n      if (cmp == 0) return this;else if (cmp == -1) var start = {\n        row: row,\n        column: column\n      };else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function () {\n      return this.start.row === this.end.row && this.start.column === this.end.column;\n    };\n\n    this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    };\n\n    this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    };\n\n    this.collapseRows = function () {\n      if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n    };\n\n    this.toScreenRange = function (session) {\n      var screenPosStart = session.documentToScreenPosition(this.start);\n      var screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n\n    this.moveBy = function (row, column) {\n      this.start.row += row;\n      this.start.column += column;\n      this.end.row += row;\n      this.end.column += column;\n    };\n  }).call(Range.prototype);\n\n  Range.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n  };\n\n  Range.comparePoints = comparePoints;\n\n  Range.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n  };\n\n  exports.Range = Range;\n});\nace.define(\"ace/selection\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var lang = acequire(\"./lib/lang\");\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var Range = acequire(\"./range\").Range;\n\n  var Selection = function Selection(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n    this.clearSelection();\n    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);\n    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);\n    var self = this;\n    this.lead.on(\"change\", function (e) {\n      self._emit(\"changeCursor\");\n\n      if (!self.$isEmpty) self._emit(\"changeSelection\");\n      if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column) self.$desiredColumn = null;\n    });\n    this.selectionAnchor.on(\"change\", function () {\n      if (!self.$isEmpty) self._emit(\"changeSelection\");\n    });\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.isEmpty = function () {\n      return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;\n    };\n\n    this.isMultiLine = function () {\n      if (this.isEmpty()) {\n        return false;\n      }\n\n      return this.getRange().isMultiLine();\n    };\n\n    this.getCursor = function () {\n      return this.lead.getPosition();\n    };\n\n    this.setSelectionAnchor = function (row, column) {\n      this.anchor.setPosition(row, column);\n\n      if (this.$isEmpty) {\n        this.$isEmpty = false;\n\n        this._emit(\"changeSelection\");\n      }\n    };\n\n    this.getSelectionAnchor = function () {\n      if (this.$isEmpty) return this.getSelectionLead();else return this.anchor.getPosition();\n    };\n\n    this.getSelectionLead = function () {\n      return this.lead.getPosition();\n    };\n\n    this.shiftSelection = function (columns) {\n      if (this.$isEmpty) {\n        this.moveCursorTo(this.lead.row, this.lead.column + columns);\n        return;\n      }\n\n      var anchor = this.getSelectionAnchor();\n      var lead = this.getSelectionLead();\n      var isBackwards = this.isBackwards();\n      if (!isBackwards || anchor.column !== 0) this.setSelectionAnchor(anchor.row, anchor.column + columns);\n\n      if (isBackwards || lead.column !== 0) {\n        this.$moveSelection(function () {\n          this.moveCursorTo(lead.row, lead.column + columns);\n        });\n      }\n    };\n\n    this.isBackwards = function () {\n      var anchor = this.anchor;\n      var lead = this.lead;\n      return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;\n    };\n\n    this.getRange = function () {\n      var anchor = this.anchor;\n      var lead = this.lead;\n      if (this.isEmpty()) return Range.fromPoints(lead, lead);\n\n      if (this.isBackwards()) {\n        return Range.fromPoints(lead, anchor);\n      } else {\n        return Range.fromPoints(anchor, lead);\n      }\n    };\n\n    this.clearSelection = function () {\n      if (!this.$isEmpty) {\n        this.$isEmpty = true;\n\n        this._emit(\"changeSelection\");\n      }\n    };\n\n    this.selectAll = function () {\n      var lastRow = this.doc.getLength() - 1;\n      this.setSelectionAnchor(0, 0);\n      this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);\n    };\n\n    this.setRange = this.setSelectionRange = function (range, reverse) {\n      if (reverse) {\n        this.setSelectionAnchor(range.end.row, range.end.column);\n        this.selectTo(range.start.row, range.start.column);\n      } else {\n        this.setSelectionAnchor(range.start.row, range.start.column);\n        this.selectTo(range.end.row, range.end.column);\n      }\n\n      if (this.getRange().isEmpty()) this.$isEmpty = true;\n      this.$desiredColumn = null;\n    };\n\n    this.$moveSelection = function (mover) {\n      var lead = this.lead;\n      if (this.$isEmpty) this.setSelectionAnchor(lead.row, lead.column);\n      mover.call(this);\n    };\n\n    this.selectTo = function (row, column) {\n      this.$moveSelection(function () {\n        this.moveCursorTo(row, column);\n      });\n    };\n\n    this.selectToPosition = function (pos) {\n      this.$moveSelection(function () {\n        this.moveCursorToPosition(pos);\n      });\n    };\n\n    this.moveTo = function (row, column) {\n      this.clearSelection();\n      this.moveCursorTo(row, column);\n    };\n\n    this.moveToPosition = function (pos) {\n      this.clearSelection();\n      this.moveCursorToPosition(pos);\n    };\n\n    this.selectUp = function () {\n      this.$moveSelection(this.moveCursorUp);\n    };\n\n    this.selectDown = function () {\n      this.$moveSelection(this.moveCursorDown);\n    };\n\n    this.selectRight = function () {\n      this.$moveSelection(this.moveCursorRight);\n    };\n\n    this.selectLeft = function () {\n      this.$moveSelection(this.moveCursorLeft);\n    };\n\n    this.selectLineStart = function () {\n      this.$moveSelection(this.moveCursorLineStart);\n    };\n\n    this.selectLineEnd = function () {\n      this.$moveSelection(this.moveCursorLineEnd);\n    };\n\n    this.selectFileEnd = function () {\n      this.$moveSelection(this.moveCursorFileEnd);\n    };\n\n    this.selectFileStart = function () {\n      this.$moveSelection(this.moveCursorFileStart);\n    };\n\n    this.selectWordRight = function () {\n      this.$moveSelection(this.moveCursorWordRight);\n    };\n\n    this.selectWordLeft = function () {\n      this.$moveSelection(this.moveCursorWordLeft);\n    };\n\n    this.getWordRange = function (row, column) {\n      if (typeof column == \"undefined\") {\n        var cursor = row || this.lead;\n        row = cursor.row;\n        column = cursor.column;\n      }\n\n      return this.session.getWordRange(row, column);\n    };\n\n    this.selectWord = function () {\n      this.setSelectionRange(this.getWordRange());\n    };\n\n    this.selectAWord = function () {\n      var cursor = this.getCursor();\n      var range = this.session.getAWordRange(cursor.row, cursor.column);\n      this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function (row, excludeLastChar) {\n      var rowStart = typeof row == \"number\" ? row : this.lead.row;\n      var rowEnd;\n      var foldLine = this.session.getFoldLine(rowStart);\n\n      if (foldLine) {\n        rowStart = foldLine.start.row;\n        rowEnd = foldLine.end.row;\n      } else {\n        rowEnd = rowStart;\n      }\n\n      if (excludeLastChar === true) return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);else return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n\n    this.selectLine = function () {\n      this.setSelectionRange(this.getLineRange());\n    };\n\n    this.moveCursorUp = function () {\n      this.moveCursorBy(-1, 0);\n    };\n\n    this.moveCursorDown = function () {\n      this.moveCursorBy(1, 0);\n    };\n\n    this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n      var start = cursor.column;\n      var end = cursor.column + tabSize;\n\n      if (direction < 0) {\n        start = cursor.column - tabSize;\n        end = cursor.column;\n      }\n\n      return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n\n    this.moveCursorLeft = function () {\n      var cursor = this.lead.getPosition(),\n          fold;\n\n      if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n        this.moveCursorTo(fold.start.row, fold.start.column);\n      } else if (cursor.column === 0) {\n        if (cursor.row > 0) {\n          this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n        }\n      } else {\n        var tabSize = this.session.getTabSize();\n\n        if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n          this.moveCursorBy(0, -tabSize);\n        } else {\n          this.moveCursorBy(0, -1);\n        }\n      }\n    };\n\n    this.moveCursorRight = function () {\n      var cursor = this.lead.getPosition(),\n          fold;\n\n      if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n        this.moveCursorTo(fold.end.row, fold.end.column);\n      } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n        if (this.lead.row < this.doc.getLength() - 1) {\n          this.moveCursorTo(this.lead.row + 1, 0);\n        }\n      } else {\n        var tabSize = this.session.getTabSize();\n        var cursor = this.lead;\n\n        if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n          this.moveCursorBy(0, tabSize);\n        } else {\n          this.moveCursorBy(0, 1);\n        }\n      }\n    };\n\n    this.moveCursorLineStart = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var screenRow = this.session.documentToScreenRow(row, column);\n      var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n      var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n      var leadingSpace = beforeCursor.match(/^\\s*/);\n      if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart) firstColumnPosition.column += leadingSpace[0].length;\n      this.moveCursorToPosition(firstColumnPosition);\n    };\n\n    this.moveCursorLineEnd = function () {\n      var lead = this.lead;\n      var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n\n      if (this.lead.column == lineEnd.column) {\n        var line = this.session.getLine(lineEnd.row);\n\n        if (lineEnd.column == line.length) {\n          var textEnd = line.search(/\\s+$/);\n          if (textEnd > 0) lineEnd.column = textEnd;\n        }\n      }\n\n      this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n\n    this.moveCursorFileEnd = function () {\n      var row = this.doc.getLength() - 1;\n      var column = this.doc.getLine(row).length;\n      this.moveCursorTo(row, column);\n    };\n\n    this.moveCursorFileStart = function () {\n      this.moveCursorTo(0, 0);\n    };\n\n    this.moveCursorLongWordRight = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var line = this.doc.getLine(row);\n      var rightOfCursor = line.substring(column);\n      var match;\n      this.session.nonTokenRe.lastIndex = 0;\n      this.session.tokenRe.lastIndex = 0;\n      var fold = this.session.getFoldAt(row, column, 1);\n\n      if (fold) {\n        this.moveCursorTo(fold.end.row, fold.end.column);\n        return;\n      }\n\n      if (match = this.session.nonTokenRe.exec(rightOfCursor)) {\n        column += this.session.nonTokenRe.lastIndex;\n        this.session.nonTokenRe.lastIndex = 0;\n        rightOfCursor = line.substring(column);\n      }\n\n      if (column >= line.length) {\n        this.moveCursorTo(row, line.length);\n        this.moveCursorRight();\n        if (row < this.doc.getLength() - 1) this.moveCursorWordRight();\n        return;\n      }\n\n      if (match = this.session.tokenRe.exec(rightOfCursor)) {\n        column += this.session.tokenRe.lastIndex;\n        this.session.tokenRe.lastIndex = 0;\n      }\n\n      this.moveCursorTo(row, column);\n    };\n\n    this.moveCursorLongWordLeft = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var fold;\n\n      if (fold = this.session.getFoldAt(row, column, -1)) {\n        this.moveCursorTo(fold.start.row, fold.start.column);\n        return;\n      }\n\n      var str = this.session.getFoldStringAt(row, column, -1);\n\n      if (str == null) {\n        str = this.doc.getLine(row).substring(0, column);\n      }\n\n      var leftOfCursor = lang.stringReverse(str);\n      var match;\n      this.session.nonTokenRe.lastIndex = 0;\n      this.session.tokenRe.lastIndex = 0;\n\n      if (match = this.session.nonTokenRe.exec(leftOfCursor)) {\n        column -= this.session.nonTokenRe.lastIndex;\n        leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n        this.session.nonTokenRe.lastIndex = 0;\n      }\n\n      if (column <= 0) {\n        this.moveCursorTo(row, 0);\n        this.moveCursorLeft();\n        if (row > 0) this.moveCursorWordLeft();\n        return;\n      }\n\n      if (match = this.session.tokenRe.exec(leftOfCursor)) {\n        column -= this.session.tokenRe.lastIndex;\n        this.session.tokenRe.lastIndex = 0;\n      }\n\n      this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function (rightOfCursor) {\n      var match,\n          index = 0,\n          ch;\n      var whitespaceRe = /\\s/;\n      var tokenRe = this.session.tokenRe;\n      tokenRe.lastIndex = 0;\n\n      if (match = this.session.tokenRe.exec(rightOfCursor)) {\n        index = this.session.tokenRe.lastIndex;\n      } else {\n        while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n          index++;\n        }\n\n        if (index < 1) {\n          tokenRe.lastIndex = 0;\n\n          while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n            tokenRe.lastIndex = 0;\n            index++;\n\n            if (whitespaceRe.test(ch)) {\n              if (index > 2) {\n                index--;\n                break;\n              } else {\n                while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n                  index++;\n                }\n\n                if (index > 2) break;\n              }\n            }\n          }\n        }\n      }\n\n      tokenRe.lastIndex = 0;\n      return index;\n    };\n\n    this.moveCursorShortWordRight = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var line = this.doc.getLine(row);\n      var rightOfCursor = line.substring(column);\n      var fold = this.session.getFoldAt(row, column, 1);\n      if (fold) return this.moveCursorTo(fold.end.row, fold.end.column);\n\n      if (column == line.length) {\n        var l = this.doc.getLength();\n\n        do {\n          row++;\n          rightOfCursor = this.doc.getLine(row);\n        } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n        if (!/^\\s+/.test(rightOfCursor)) rightOfCursor = \"\";\n        column = 0;\n      }\n\n      var index = this.$shortWordEndIndex(rightOfCursor);\n      this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function () {\n      var row = this.lead.row;\n      var column = this.lead.column;\n      var fold;\n      if (fold = this.session.getFoldAt(row, column, -1)) return this.moveCursorTo(fold.start.row, fold.start.column);\n      var line = this.session.getLine(row).substring(0, column);\n\n      if (column === 0) {\n        do {\n          row--;\n          line = this.doc.getLine(row);\n        } while (row > 0 && /^\\s*$/.test(line));\n\n        column = line.length;\n        if (!/\\s+$/.test(line)) line = \"\";\n      }\n\n      var leftOfCursor = lang.stringReverse(line);\n      var index = this.$shortWordEndIndex(leftOfCursor);\n      return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function () {\n      if (this.session.$selectLongWords) this.moveCursorLongWordRight();else this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function () {\n      if (this.session.$selectLongWords) this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft();\n    };\n\n    this.moveCursorBy = function (rows, chars) {\n      var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n      var offsetX;\n\n      if (chars === 0) {\n        if (rows !== 0) {\n          if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n            offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n            screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n          } else {\n            offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n          }\n        }\n\n        if (this.$desiredColumn) screenPos.column = this.$desiredColumn;else this.$desiredColumn = screenPos.column;\n      }\n\n      var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n\n      if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n        if (this.session.lineWidgets && this.session.lineWidgets[docPos.row]) {\n          if (docPos.row > 0 || rows > 0) docPos.row++;\n        }\n      }\n\n      this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n\n    this.moveCursorToPosition = function (position) {\n      this.moveCursorTo(position.row, position.column);\n    };\n\n    this.moveCursorTo = function (row, column, keepDesiredColumn) {\n      var fold = this.session.getFoldAt(row, column, 1);\n\n      if (fold) {\n        row = fold.start.row;\n        column = fold.start.column;\n      }\n\n      this.$keepDesiredColumnOnChange = true;\n      var line = this.session.getLine(row);\n\n      if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n        if (this.lead.row == row && this.lead.column == column + 1) column = column - 1;else column = column + 1;\n      }\n\n      this.lead.setPosition(row, column);\n      this.$keepDesiredColumnOnChange = false;\n      if (!keepDesiredColumn) this.$desiredColumn = null;\n    };\n\n    this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n      var pos = this.session.screenToDocumentPosition(row, column);\n      this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n\n    this.detach = function () {\n      this.lead.detach();\n      this.anchor.detach();\n      this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function (range) {\n      this.setSelectionRange(range, range.cursor == range.start);\n      this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function (range) {\n      var r = this.getRange();\n\n      if (range) {\n        range.start.column = r.start.column;\n        range.start.row = r.start.row;\n        range.end.column = r.end.column;\n        range.end.row = r.end.row;\n      } else {\n        range = r;\n      }\n\n      range.cursor = this.isBackwards() ? range.start : range.end;\n      range.desiredColumn = this.$desiredColumn;\n      return range;\n    };\n\n    this.getRangeOfMovements = function (func) {\n      var start = this.getCursor();\n\n      try {\n        func(this);\n        var end = this.getCursor();\n        return Range.fromPoints(start, end);\n      } catch (e) {\n        return Range.fromPoints(start, start);\n      } finally {\n        this.moveCursorToPosition(start);\n      }\n    };\n\n    this.toJSON = function () {\n      if (this.rangeCount) {\n        var data = this.ranges.map(function (r) {\n          var r1 = r.clone();\n          r1.isBackwards = r.cursor == r.start;\n          return r1;\n        });\n      } else {\n        var data = this.getRange();\n        data.isBackwards = this.isBackwards();\n      }\n\n      return data;\n    };\n\n    this.fromJSON = function (data) {\n      if (data.start == undefined) {\n        if (this.rangeList) {\n          this.toSingleRange(data[0]);\n\n          for (var i = data.length; i--;) {\n            var r = Range.fromPoints(data[i].start, data[i].end);\n            if (data[i].isBackwards) r.cursor = r.start;\n            this.addRange(r, true);\n          }\n\n          return;\n        } else data = data[0];\n      }\n\n      if (this.rangeList) this.toSingleRange(data);\n      this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function (data) {\n      if ((data.length || this.rangeCount) && data.length != this.rangeCount) return false;\n      if (!data.length || !this.ranges) return this.getRange().isEqual(data);\n\n      for (var i = this.ranges.length; i--;) {\n        if (!this.ranges[i].isEqual(data[i])) return false;\n      }\n\n      return true;\n    };\n  }).call(Selection.prototype);\n  exports.Selection = Selection;\n});\nace.define(\"ace/tokenizer\", [\"require\", \"exports\", \"module\", \"ace/config\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var config = acequire(\"./config\");\n  var MAX_TOKEN_COUNT = 2000;\n\n  var Tokenizer = function Tokenizer(rules) {\n    this.states = rules;\n    this.regExps = {};\n    this.matchMappings = {};\n\n    for (var key in this.states) {\n      var state = this.states[key];\n      var ruleRegExps = [];\n      var matchTotal = 0;\n      var mapping = this.matchMappings[key] = {\n        defaultToken: \"text\"\n      };\n      var flag = \"g\";\n      var splitterRurles = [];\n\n      for (var i = 0; i < state.length; i++) {\n        var rule = state[i];\n        if (rule.defaultToken) mapping.defaultToken = rule.defaultToken;\n        if (rule.caseInsensitive) flag = \"gi\";\n        if (rule.regex == null) continue;\n        if (rule.regex instanceof RegExp) rule.regex = rule.regex.toString().slice(1, -1);\n        var adjustedregex = rule.regex;\n        var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n\n        if (Array.isArray(rule.token)) {\n          if (rule.token.length == 1 || matchcount == 1) {\n            rule.token = rule.token[0];\n          } else if (matchcount - 1 != rule.token.length) {\n            this.reportError(\"number of classes and regexp groups doesn't match\", {\n              rule: rule,\n              groupCount: matchcount - 1\n            });\n            rule.token = rule.token[0];\n          } else {\n            rule.tokenArray = rule.token;\n            rule.token = null;\n            rule.onMatch = this.$arrayTokens;\n          }\n        } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n          if (matchcount > 1) rule.onMatch = this.$applyToken;else rule.onMatch = rule.token;\n        }\n\n        if (matchcount > 1) {\n          if (/\\\\\\d/.test(rule.regex)) {\n            adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n              return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n            });\n          } else {\n            matchcount = 1;\n            adjustedregex = this.removeCapturingGroups(rule.regex);\n          }\n\n          if (!rule.splitRegex && typeof rule.token != \"string\") splitterRurles.push(rule); // flag will be known only at the very end\n        }\n\n        mapping[matchTotal] = i;\n        matchTotal += matchcount;\n        ruleRegExps.push(adjustedregex);\n        if (!rule.onMatch) rule.onMatch = null;\n      }\n\n      if (!ruleRegExps.length) {\n        mapping[0] = 0;\n        ruleRegExps.push(\"$\");\n      }\n\n      splitterRurles.forEach(function (rule) {\n        rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n      }, this);\n      this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n  };\n\n  (function () {\n    this.$setMaxTokenCount = function (m) {\n      MAX_TOKEN_COUNT = m | 0;\n    };\n\n    this.$applyToken = function (str) {\n      var values = this.splitRegex.exec(str).slice(1);\n      var types = this.token.apply(this, values);\n      if (typeof types === \"string\") return [{\n        type: types,\n        value: str\n      }];\n      var tokens = [];\n\n      for (var i = 0, l = types.length; i < l; i++) {\n        if (values[i]) tokens[tokens.length] = {\n          type: types[i],\n          value: values[i]\n        };\n      }\n\n      return tokens;\n    };\n\n    this.$arrayTokens = function (str) {\n      if (!str) return [];\n      var values = this.splitRegex.exec(str);\n      if (!values) return \"text\";\n      var tokens = [];\n      var types = this.tokenArray;\n\n      for (var i = 0, l = types.length; i < l; i++) {\n        if (values[i + 1]) tokens[tokens.length] = {\n          type: types[i],\n          value: values[i + 1]\n        };\n      }\n\n      return tokens;\n    };\n\n    this.removeCapturingGroups = function (src) {\n      var r = src.replace(/\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g, function (x, y) {\n        return y ? \"(?:\" : x;\n      });\n      return r;\n    };\n\n    this.createSplitterRegexp = function (src, flag) {\n      if (src.indexOf(\"(?=\") != -1) {\n        var stack = 0;\n        var inChClass = false;\n        var lastCapture = {};\n        src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n          if (inChClass) {\n            inChClass = square != \"]\";\n          } else if (square) {\n            inChClass = true;\n          } else if (parenClose) {\n            if (stack == lastCapture.stack) {\n              lastCapture.end = index + 1;\n              lastCapture.stack = -1;\n            }\n\n            stack--;\n          } else if (parenOpen) {\n            stack++;\n\n            if (parenOpen.length != 1) {\n              lastCapture.stack = stack;\n              lastCapture.start = index;\n            }\n          }\n\n          return m;\n        });\n        if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end))) src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n      }\n\n      if (src.charAt(0) != \"^\") src = \"^\" + src;\n      if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n      return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n\n    this.getLineTokens = function (line, startState) {\n      if (startState && typeof startState != \"string\") {\n        var stack = startState.slice(0);\n        startState = stack[0];\n\n        if (startState === \"#tmp\") {\n          stack.shift();\n          startState = stack.shift();\n        }\n      } else var stack = [];\n\n      var currentState = startState || \"start\";\n      var state = this.states[currentState];\n\n      if (!state) {\n        currentState = \"start\";\n        state = this.states[currentState];\n      }\n\n      var mapping = this.matchMappings[currentState];\n      var re = this.regExps[currentState];\n      re.lastIndex = 0;\n      var match,\n          tokens = [];\n      var lastIndex = 0;\n      var matchAttempts = 0;\n      var token = {\n        type: null,\n        value: \"\"\n      };\n\n      while (match = re.exec(line)) {\n        var type = mapping.defaultToken;\n        var rule = null;\n        var value = match[0];\n        var index = re.lastIndex;\n\n        if (index - value.length > lastIndex) {\n          var skipped = line.substring(lastIndex, index - value.length);\n\n          if (token.type == type) {\n            token.value += skipped;\n          } else {\n            if (token.type) tokens.push(token);\n            token = {\n              type: type,\n              value: skipped\n            };\n          }\n        }\n\n        for (var i = 0; i < match.length - 2; i++) {\n          if (match[i + 1] === undefined) continue;\n          rule = state[mapping[i]];\n          if (rule.onMatch) type = rule.onMatch(value, currentState, stack, line);else type = rule.token;\n\n          if (rule.next) {\n            if (typeof rule.next == \"string\") {\n              currentState = rule.next;\n            } else {\n              currentState = rule.next(currentState, stack);\n            }\n\n            state = this.states[currentState];\n\n            if (!state) {\n              this.reportError(\"state doesn't exist\", currentState);\n              currentState = \"start\";\n              state = this.states[currentState];\n            }\n\n            mapping = this.matchMappings[currentState];\n            lastIndex = index;\n            re = this.regExps[currentState];\n            re.lastIndex = index;\n          }\n\n          if (rule.consumeLineEnd) lastIndex = index;\n          break;\n        }\n\n        if (value) {\n          if (typeof type === \"string\") {\n            if ((!rule || rule.merge !== false) && token.type === type) {\n              token.value += value;\n            } else {\n              if (token.type) tokens.push(token);\n              token = {\n                type: type,\n                value: value\n              };\n            }\n          } else if (type) {\n            if (token.type) tokens.push(token);\n            token = {\n              type: null,\n              value: \"\"\n            };\n\n            for (var i = 0; i < type.length; i++) {\n              tokens.push(type[i]);\n            }\n          }\n        }\n\n        if (lastIndex == line.length) break;\n        lastIndex = index;\n\n        if (matchAttempts++ > MAX_TOKEN_COUNT) {\n          if (matchAttempts > 2 * line.length) {\n            this.reportError(\"infinite loop with in ace tokenizer\", {\n              startState: startState,\n              line: line\n            });\n          }\n\n          while (lastIndex < line.length) {\n            if (token.type) tokens.push(token);\n            token = {\n              value: line.substring(lastIndex, lastIndex += 2000),\n              type: \"overflow\"\n            };\n          }\n\n          currentState = \"start\";\n          stack = [];\n          break;\n        }\n      }\n\n      if (token.type) tokens.push(token);\n\n      if (stack.length > 1) {\n        if (stack[0] !== currentState) stack.unshift(\"#tmp\", currentState);\n      }\n\n      return {\n        tokens: tokens,\n        state: stack.length ? stack : currentState\n      };\n    };\n\n    this.reportError = config.reportError;\n  }).call(Tokenizer.prototype);\n  exports.Tokenizer = Tokenizer;\n});\nace.define(\"ace/mode/text_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var lang = acequire(\"../lib/lang\");\n\n  var TextHighlightRules = function TextHighlightRules() {\n    this.$rules = {\n      \"start\": [{\n        token: \"empty_line\",\n        regex: '^$'\n      }, {\n        defaultToken: \"text\"\n      }]\n    };\n  };\n\n  (function () {\n    this.addRules = function (rules, prefix) {\n      if (!prefix) {\n        for (var key in rules) {\n          this.$rules[key] = rules[key];\n        }\n\n        return;\n      }\n\n      for (var key in rules) {\n        var state = rules[key];\n\n        for (var i = 0; i < state.length; i++) {\n          var rule = state[i];\n\n          if (rule.next || rule.onMatch) {\n            if (typeof rule.next == \"string\") {\n              if (rule.next.indexOf(prefix) !== 0) rule.next = prefix + rule.next;\n            }\n\n            if (rule.nextState && rule.nextState.indexOf(prefix) !== 0) rule.nextState = prefix + rule.nextState;\n          }\n        }\n\n        this.$rules[prefix + key] = state;\n      }\n    };\n\n    this.getRules = function () {\n      return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n      var embedRules = typeof HighlightRules == \"function\" ? new HighlightRules().getRules() : HighlightRules;\n\n      if (states) {\n        for (var i = 0; i < states.length; i++) {\n          states[i] = prefix + states[i];\n        }\n      } else {\n        states = [];\n\n        for (var key in embedRules) {\n          states.push(prefix + key);\n        }\n      }\n\n      this.addRules(embedRules, prefix);\n\n      if (escapeRules) {\n        var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n\n        for (var i = 0; i < states.length; i++) {\n          addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n      }\n\n      if (!this.$embeds) this.$embeds = [];\n      this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function () {\n      return this.$embeds;\n    };\n\n    var pushState = function pushState(currentState, stack) {\n      if (currentState != \"start\" || stack.length) stack.unshift(this.nextState, currentState);\n      return this.nextState;\n    };\n\n    var popState = function popState(currentState, stack) {\n      stack.shift();\n      return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function () {\n      var id = 0;\n      var rules = this.$rules;\n\n      function processState(key) {\n        var state = rules[key];\n        state.processed = true;\n\n        for (var i = 0; i < state.length; i++) {\n          var rule = state[i];\n          var toInsert = null;\n\n          if (Array.isArray(rule)) {\n            toInsert = rule;\n            rule = {};\n          }\n\n          if (!rule.regex && rule.start) {\n            rule.regex = rule.start;\n            if (!rule.next) rule.next = [];\n            rule.next.push({\n              defaultToken: rule.token\n            }, {\n              token: rule.token + \".end\",\n              regex: rule.end || rule.start,\n              next: \"pop\"\n            });\n            rule.token = rule.token + \".start\";\n            rule.push = true;\n          }\n\n          var next = rule.next || rule.push;\n\n          if (next && Array.isArray(next)) {\n            var stateName = rule.stateName;\n\n            if (!stateName) {\n              stateName = rule.token;\n              if (typeof stateName != \"string\") stateName = stateName[0] || \"\";\n              if (rules[stateName]) stateName += id++;\n            }\n\n            rules[stateName] = next;\n            rule.next = stateName;\n            processState(stateName);\n          } else if (next == \"pop\") {\n            rule.next = popState;\n          }\n\n          if (rule.push) {\n            rule.nextState = rule.next || rule.push;\n            rule.next = pushState;\n            delete rule.push;\n          }\n\n          if (rule.rules) {\n            for (var r in rule.rules) {\n              if (rules[r]) {\n                if (rules[r].push) rules[r].push.apply(rules[r], rule.rules[r]);\n              } else {\n                rules[r] = rule.rules[r];\n              }\n            }\n          }\n\n          var includeName = typeof rule == \"string\" ? rule : rule.include;\n\n          if (includeName) {\n            if (Array.isArray(includeName)) toInsert = includeName.map(function (x) {\n              return rules[x];\n            });else toInsert = rules[includeName];\n          }\n\n          if (toInsert) {\n            var args = [i, 1].concat(toInsert);\n            if (rule.noEscape) args = args.filter(function (x) {\n              return !x.next;\n            });\n            state.splice.apply(state, args);\n            i--;\n          }\n\n          if (rule.keywordMap) {\n            rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n            delete rule.defaultToken;\n          }\n        }\n      }\n\n      Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n      var keywords = Object.create(null);\n      Object.keys(map).forEach(function (className) {\n        var a = map[className];\n        if (ignoreCase) a = a.toLowerCase();\n        var list = a.split(splitChar || \"|\");\n\n        for (var i = list.length; i--;) {\n          keywords[list[i]] = className;\n        }\n      });\n\n      if (Object.getPrototypeOf(keywords)) {\n        keywords.__proto__ = null;\n      }\n\n      this.$keywordList = Object.keys(keywords);\n      map = null;\n      return ignoreCase ? function (value) {\n        return keywords[value.toLowerCase()] || defaultToken;\n      } : function (value) {\n        return keywords[value] || defaultToken;\n      };\n    };\n\n    this.getKeywords = function () {\n      return this.$keywords;\n    };\n  }).call(TextHighlightRules.prototype);\n  exports.TextHighlightRules = TextHighlightRules;\n});\nace.define(\"ace/mode/behaviour\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Behaviour = function Behaviour() {\n    this.$behaviours = {};\n  };\n\n  (function () {\n    this.add = function (name, action, callback) {\n      switch (undefined) {\n        case this.$behaviours:\n          this.$behaviours = {};\n\n        case this.$behaviours[name]:\n          this.$behaviours[name] = {};\n      }\n\n      this.$behaviours[name][action] = callback;\n    };\n\n    this.addBehaviours = function (behaviours) {\n      for (var key in behaviours) {\n        for (var action in behaviours[key]) {\n          this.add(key, action, behaviours[key][action]);\n        }\n      }\n    };\n\n    this.remove = function (name) {\n      if (this.$behaviours && this.$behaviours[name]) {\n        delete this.$behaviours[name];\n      }\n    };\n\n    this.inherit = function (mode, filter) {\n      if (typeof mode === \"function\") {\n        var behaviours = new mode().getBehaviours(filter);\n      } else {\n        var behaviours = mode.getBehaviours(filter);\n      }\n\n      this.addBehaviours(behaviours);\n    };\n\n    this.getBehaviours = function (filter) {\n      if (!filter) {\n        return this.$behaviours;\n      } else {\n        var ret = {};\n\n        for (var i = 0; i < filter.length; i++) {\n          if (this.$behaviours[filter[i]]) {\n            ret[filter[i]] = this.$behaviours[filter[i]];\n          }\n        }\n\n        return ret;\n      }\n    };\n  }).call(Behaviour.prototype);\n  exports.Behaviour = Behaviour;\n});\nace.define(\"ace/token_iterator\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"./range\").Range;\n\n  var TokenIterator = function TokenIterator(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n  };\n\n  (function () {\n    this.stepBackward = function () {\n      this.$tokenIndex -= 1;\n\n      while (this.$tokenIndex < 0) {\n        this.$row -= 1;\n\n        if (this.$row < 0) {\n          this.$row = 0;\n          return null;\n        }\n\n        this.$rowTokens = this.$session.getTokens(this.$row);\n        this.$tokenIndex = this.$rowTokens.length - 1;\n      }\n\n      return this.$rowTokens[this.$tokenIndex];\n    };\n\n    this.stepForward = function () {\n      this.$tokenIndex += 1;\n      var rowCount;\n\n      while (this.$tokenIndex >= this.$rowTokens.length) {\n        this.$row += 1;\n        if (!rowCount) rowCount = this.$session.getLength();\n\n        if (this.$row >= rowCount) {\n          this.$row = rowCount - 1;\n          return null;\n        }\n\n        this.$rowTokens = this.$session.getTokens(this.$row);\n        this.$tokenIndex = 0;\n      }\n\n      return this.$rowTokens[this.$tokenIndex];\n    };\n\n    this.getCurrentToken = function () {\n      return this.$rowTokens[this.$tokenIndex];\n    };\n\n    this.getCurrentTokenRow = function () {\n      return this.$row;\n    };\n\n    this.getCurrentTokenColumn = function () {\n      var rowTokens = this.$rowTokens;\n      var tokenIndex = this.$tokenIndex;\n      var column = rowTokens[tokenIndex].start;\n      if (column !== undefined) return column;\n      column = 0;\n\n      while (tokenIndex > 0) {\n        tokenIndex -= 1;\n        column += rowTokens[tokenIndex].value.length;\n      }\n\n      return column;\n    };\n\n    this.getCurrentTokenPosition = function () {\n      return {\n        row: this.$row,\n        column: this.getCurrentTokenColumn()\n      };\n    };\n\n    this.getCurrentTokenRange = function () {\n      var token = this.$rowTokens[this.$tokenIndex];\n      var column = this.getCurrentTokenColumn();\n      return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n  }).call(TokenIterator.prototype);\n  exports.TokenIterator = TokenIterator;\n});\nace.define(\"ace/mode/behaviour/cstyle\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/behaviour\", \"ace/token_iterator\", \"ace/lib/lang\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"../../lib/oop\");\n  var Behaviour = acequire(\"../behaviour\").Behaviour;\n  var TokenIterator = acequire(\"../../token_iterator\").TokenIterator;\n  var lang = acequire(\"../../lib/lang\");\n  var SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"punctuation.operator\"];\n  var SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n  var context;\n  var contextCache = {};\n  var defaultQuotes = {\n    '\"': '\"',\n    \"'\": \"'\"\n  };\n\n  var initContext = function initContext(editor) {\n    var id = -1;\n\n    if (editor.multiSelect) {\n      id = editor.selection.index;\n      if (contextCache.rangeCount != editor.multiSelect.rangeCount) contextCache = {\n        rangeCount: editor.multiSelect.rangeCount\n      };\n    }\n\n    if (contextCache[id]) return context = contextCache[id];\n    context = contextCache[id] = {\n      autoInsertedBrackets: 0,\n      autoInsertedRow: -1,\n      autoInsertedLineEnd: \"\",\n      maybeInsertedBrackets: 0,\n      maybeInsertedRow: -1,\n      maybeInsertedLineStart: \"\",\n      maybeInsertedLineEnd: \"\"\n    };\n  };\n\n  var getWrapped = function getWrapped(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n      text: opening + selected + closing,\n      selection: [0, selection.start.column + 1, rowDiff, selection.end.column + (rowDiff ? 0 : 1)]\n    };\n  };\n\n  var CstyleBehaviour = function CstyleBehaviour(options) {\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n      var cursor = editor.getCursorPosition();\n      var line = session.doc.getLine(cursor.row);\n\n      if (text == '{') {\n        initContext(editor);\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, '{', '}');\n        } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n          if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n            CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n            return {\n              text: '{}',\n              selection: [1, 1]\n            };\n          } else {\n            CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n            return {\n              text: '{',\n              selection: [1, 1]\n            };\n          }\n        }\n      } else if (text == '}') {\n        initContext(editor);\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar == '}') {\n          var matching = session.$findOpeningBracket('}', {\n            column: cursor.column + 1,\n            row: cursor.row\n          });\n\n          if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n            CstyleBehaviour.popAutoInsertedClosing();\n            return {\n              text: '',\n              selection: [1, 1]\n            };\n          }\n        }\n      } else if (text == \"\\n\" || text == \"\\r\\n\") {\n        initContext(editor);\n        var closing = \"\";\n\n        if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n          closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n          CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar === '}') {\n          var openBracePos = session.findMatchingBracket({\n            row: cursor.row,\n            column: cursor.column + 1\n          }, '}');\n          if (!openBracePos) return null;\n          var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n        } else if (closing) {\n          var next_indent = this.$getIndent(line);\n        } else {\n          CstyleBehaviour.clearMaybeInsertedClosing();\n          return;\n        }\n\n        var indent = next_indent + session.getTabString();\n        return {\n          text: '\\n' + indent + '\\n' + next_indent + closing,\n          selection: [1, indent.length, 1, indent.length]\n        };\n      } else {\n        CstyleBehaviour.clearMaybeInsertedClosing();\n      }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && selected == '{') {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.end.column, range.end.column + 1);\n\n        if (rightChar == '}') {\n          range.end.column++;\n          return range;\n        } else {\n          context.maybeInsertedBrackets--;\n        }\n      }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n      if (text == '(') {\n        initContext(editor);\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, '(', ')');\n        } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n          CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n          return {\n            text: '()',\n            selection: [1, 1]\n          };\n        }\n      } else if (text == ')') {\n        initContext(editor);\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar == ')') {\n          var matching = session.$findOpeningBracket(')', {\n            column: cursor.column + 1,\n            row: cursor.row\n          });\n\n          if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n            CstyleBehaviour.popAutoInsertedClosing();\n            return {\n              text: '',\n              selection: [1, 1]\n            };\n          }\n        }\n      }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && selected == '(') {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n        if (rightChar == ')') {\n          range.end.column++;\n          return range;\n        }\n      }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n      if (text == '[') {\n        initContext(editor);\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, '[', ']');\n        } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n          CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n          return {\n            text: '[]',\n            selection: [1, 1]\n          };\n        }\n      } else if (text == ']') {\n        initContext(editor);\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n        if (rightChar == ']') {\n          var matching = session.$findOpeningBracket(']', {\n            column: cursor.column + 1,\n            row: cursor.row\n          });\n\n          if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n            CstyleBehaviour.popAutoInsertedClosing();\n            return {\n              text: '',\n              selection: [1, 1]\n            };\n          }\n        }\n      }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && selected == '[') {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n        if (rightChar == ']') {\n          range.end.column++;\n          return range;\n        }\n      }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n      var quotes = session.$mode.$quotes || defaultQuotes;\n\n      if (text.length == 1 && quotes[text]) {\n        if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) return;\n        initContext(editor);\n        var quote = text;\n        var selection = editor.getSelectionRange();\n        var selected = session.doc.getTextRange(selection);\n\n        if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n          return getWrapped(selection, selected, quote, quote);\n        } else if (!selected) {\n          var cursor = editor.getCursorPosition();\n          var line = session.doc.getLine(cursor.row);\n          var leftChar = line.substring(cursor.column - 1, cursor.column);\n          var rightChar = line.substring(cursor.column, cursor.column + 1);\n          var token = session.getTokenAt(cursor.row, cursor.column);\n          var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n          if (leftChar == \"\\\\\" && token && /escape/.test(token.type)) return null;\n          var stringBefore = token && /string|escape/.test(token.type);\n          var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n          var pair;\n\n          if (rightChar == quote) {\n            pair = stringBefore !== stringAfter;\n            if (pair && /string\\.end/.test(rightToken.type)) pair = false;\n          } else {\n            if (stringBefore && !stringAfter) return null; // wrap string with different quote\n\n            if (stringBefore && stringAfter) return null; // do not pair quotes inside strings\n\n            var wordRe = session.$mode.tokenRe;\n            wordRe.lastIndex = 0;\n            var isWordBefore = wordRe.test(leftChar);\n            wordRe.lastIndex = 0;\n            var isWordAfter = wordRe.test(leftChar);\n            if (isWordBefore || isWordAfter) return null; // before or after alphanumeric\n\n            if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar)) return null; // there is rightChar and it isn't closing\n\n            pair = true;\n          }\n\n          return {\n            text: pair ? quote + quote : \"\",\n            selection: [1, 1]\n          };\n        }\n      }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n      var selected = session.doc.getTextRange(range);\n\n      if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n        initContext(editor);\n        var line = session.doc.getLine(range.start.row);\n        var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n\n        if (rightChar == selected) {\n          range.end.column++;\n          return range;\n        }\n      }\n    });\n  };\n\n  CstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n      var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n      if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) return false;\n    }\n\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n  };\n\n  CstyleBehaviour.$matchTokenType = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n  };\n\n  CstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0])) context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n  };\n\n  CstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line)) context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n  };\n\n  CstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;\n  };\n\n  CstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n  };\n\n  CstyleBehaviour.popAutoInsertedClosing = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n  };\n\n  CstyleBehaviour.clearMaybeInsertedClosing = function () {\n    if (context) {\n      context.maybeInsertedBrackets = 0;\n      context.maybeInsertedRow = -1;\n    }\n  };\n\n  oop.inherits(CstyleBehaviour, Behaviour);\n  exports.CstyleBehaviour = CstyleBehaviour;\n});\nace.define(\"ace/unicode\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  exports.packages = {};\n  addUnicodePackage({\n    L: \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    Ll: \"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",\n    Lu: \"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",\n    Lt: \"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",\n    Lm: \"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",\n    Lo: \"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    M: \"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",\n    Mn: \"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",\n    Mc: \"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",\n    Me: \"0488048906DE20DD-20E020E2-20E4A670-A672\",\n    N: \"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nd: \"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nl: \"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",\n    No: \"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",\n    P: \"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",\n    Pd: \"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",\n    Ps: \"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",\n    Pe: \"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",\n    Pi: \"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",\n    Pf: \"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",\n    Pc: \"005F203F20402054FE33FE34FE4D-FE4FFF3F\",\n    Po: \"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",\n    S: \"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",\n    Sm: \"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",\n    Sc: \"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",\n    Sk: \"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",\n    So: \"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",\n    Z: \"002000A01680180E2000-200A20282029202F205F3000\",\n    Zs: \"002000A01680180E2000-200A202F205F3000\",\n    Zl: \"2028\",\n    Zp: \"2029\",\n    C: \"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",\n    Cc: \"0000-001F007F-009F\",\n    Cf: \"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",\n    Co: \"E000-F8FF\",\n    Cs: \"D800-DFFF\",\n    Cn: \"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"\n  });\n\n  function addUnicodePackage(pack) {\n    var codePoint = /\\w{4}/g;\n\n    for (var name in pack) {\n      exports.packages[name] = pack[name].replace(codePoint, \"\\\\u$&\");\n    }\n  }\n});\nace.define(\"ace/mode/text\", [\"require\", \"exports\", \"module\", \"ace/tokenizer\", \"ace/mode/text_highlight_rules\", \"ace/mode/behaviour/cstyle\", \"ace/unicode\", \"ace/lib/lang\", \"ace/token_iterator\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Tokenizer = acequire(\"../tokenizer\").Tokenizer;\n  var TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n  var CstyleBehaviour = acequire(\"./behaviour/cstyle\").CstyleBehaviour;\n  var unicode = acequire(\"../unicode\");\n  var lang = acequire(\"../lib/lang\");\n  var TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n  var Range = acequire(\"../range\").Range;\n\n  var Mode = function Mode() {\n    this.HighlightRules = TextHighlightRules;\n  };\n\n  (function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.packages.L + unicode.packages.Mn + unicode.packages.Mc + unicode.packages.Nd + unicode.packages.Pc + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.packages.L + unicode.packages.Mn + unicode.packages.Mc + unicode.packages.Nd + unicode.packages.Pc + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function () {\n      if (!this.$tokenizer) {\n        this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n        this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n      }\n\n      return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n      var doc = session.doc;\n      var ignoreBlankLines = true;\n      var shouldRemove = true;\n      var minIndent = Infinity;\n      var tabSize = session.getTabSize();\n      var insertAtTabStop = false;\n\n      if (!this.lineCommentStart) {\n        if (!this.blockComment) return false;\n        var lineCommentStart = this.blockComment.start;\n        var lineCommentEnd = this.blockComment.end;\n        var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n        var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n        var comment = function comment(line, i) {\n          if (testRemove(line, i)) return;\n\n          if (!ignoreBlankLines || /\\S/.test(line)) {\n            doc.insertInLine({\n              row: i,\n              column: line.length\n            }, lineCommentEnd);\n            doc.insertInLine({\n              row: i,\n              column: minIndent\n            }, lineCommentStart);\n          }\n        };\n\n        var uncomment = function uncomment(line, i) {\n          var m;\n          if (m = line.match(regexpEnd)) doc.removeInLine(i, line.length - m[0].length, line.length);\n          if (m = line.match(regexpStart)) doc.removeInLine(i, m[1].length, m[0].length);\n        };\n\n        var testRemove = function testRemove(line, row) {\n          if (regexpStart.test(line)) return true;\n          var tokens = session.getTokens(row);\n\n          for (var i = 0; i < tokens.length; i++) {\n            if (tokens[i].type === \"comment\") return true;\n          }\n        };\n      } else {\n        if (Array.isArray(this.lineCommentStart)) {\n          var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n          var lineCommentStart = this.lineCommentStart[0];\n        } else {\n          var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n          var lineCommentStart = this.lineCommentStart;\n        }\n\n        regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n        insertAtTabStop = session.getUseSoftTabs();\n\n        var uncomment = function uncomment(line, i) {\n          var m = line.match(regexpStart);\n          if (!m) return;\n          var start = m[1].length,\n              end = m[0].length;\n          if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \") end--;\n          doc.removeInLine(i, start, end);\n        };\n\n        var commentWithSpace = lineCommentStart + \" \";\n\n        var comment = function comment(line, i) {\n          if (!ignoreBlankLines || /\\S/.test(line)) {\n            if (shouldInsertSpace(line, minIndent, minIndent)) doc.insertInLine({\n              row: i,\n              column: minIndent\n            }, commentWithSpace);else doc.insertInLine({\n              row: i,\n              column: minIndent\n            }, lineCommentStart);\n          }\n        };\n\n        var testRemove = function testRemove(line, i) {\n          return regexpStart.test(line);\n        };\n\n        var shouldInsertSpace = function shouldInsertSpace(line, before, after) {\n          var spaces = 0;\n\n          while (before-- && line.charAt(before) == \" \") {\n            spaces++;\n          }\n\n          if (spaces % tabSize != 0) return false;\n          var spaces = 0;\n\n          while (line.charAt(after++) == \" \") {\n            spaces++;\n          }\n\n          if (tabSize > 2) return spaces % tabSize != tabSize - 1;else return spaces % tabSize == 0;\n          return true;\n        };\n      }\n\n      function iter(fun) {\n        for (var i = startRow; i <= endRow; i++) {\n          fun(doc.getLine(i), i);\n        }\n      }\n\n      var minEmptyLength = Infinity;\n      iter(function (line, i) {\n        var indent = line.search(/\\S/);\n\n        if (indent !== -1) {\n          if (indent < minIndent) minIndent = indent;\n          if (shouldRemove && !testRemove(line, i)) shouldRemove = false;\n        } else if (minEmptyLength > line.length) {\n          minEmptyLength = line.length;\n        }\n      });\n\n      if (minIndent == Infinity) {\n        minIndent = minEmptyLength;\n        ignoreBlankLines = false;\n        shouldRemove = false;\n      }\n\n      if (insertAtTabStop && minIndent % tabSize != 0) minIndent = Math.floor(minIndent / tabSize) * tabSize;\n      iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function (state, session, range, cursor) {\n      var comment = this.blockComment;\n      if (!comment) return;\n      if (!comment.start && comment[0]) comment = comment[0];\n      var iterator = new TokenIterator(session, cursor.row, cursor.column);\n      var token = iterator.getCurrentToken();\n      var sel = session.selection;\n      var initialRange = session.selection.toOrientedRange();\n      var startRow, colDiff;\n\n      if (token && /comment/.test(token.type)) {\n        var startRange, endRange;\n\n        while (token && /comment/.test(token.type)) {\n          var i = token.value.indexOf(comment.start);\n\n          if (i != -1) {\n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn() + i;\n            startRange = new Range(row, column, row, column + comment.start.length);\n            break;\n          }\n\n          token = iterator.stepBackward();\n        }\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        while (token && /comment/.test(token.type)) {\n          var i = token.value.indexOf(comment.end);\n\n          if (i != -1) {\n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn() + i;\n            endRange = new Range(row, column, row, column + comment.end.length);\n            break;\n          }\n\n          token = iterator.stepForward();\n        }\n\n        if (endRange) session.remove(endRange);\n\n        if (startRange) {\n          session.remove(startRange);\n          startRow = startRange.start.row;\n          colDiff = -comment.start.length;\n        }\n      } else {\n        colDiff = comment.start.length;\n        startRow = range.start.row;\n        session.insert(range.end, comment.end);\n        session.insert(range.start, comment.start);\n      }\n\n      if (initialRange.start.row == startRow) initialRange.start.column += colDiff;\n      if (initialRange.end.row == startRow) initialRange.end.column += colDiff;\n      session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function (state, line, tab) {\n      return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function (state, line, input) {\n      return false;\n    };\n\n    this.autoOutdent = function (state, doc, row) {};\n\n    this.$getIndent = function (line) {\n      return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function (session) {\n      return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n      this.$embeds = [];\n      this.$modes = {};\n\n      for (var i in mapping) {\n        if (mapping[i]) {\n          this.$embeds.push(i);\n          this.$modes[i] = new mapping[i]();\n        }\n      }\n\n      var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n      for (var i = 0; i < delegations.length; i++) {\n        (function (scope) {\n          var functionName = delegations[i];\n          var defaultHandler = scope[functionName];\n\n          scope[delegations[i]] = function () {\n            return this.$delegator(functionName, arguments, defaultHandler);\n          };\n        })(this);\n      }\n    };\n\n    this.$delegator = function (method, args, defaultHandler) {\n      var state = args[0];\n      if (typeof state != \"string\") state = state[0];\n\n      for (var i = 0; i < this.$embeds.length; i++) {\n        if (!this.$modes[this.$embeds[i]]) continue;\n        var split = state.split(this.$embeds[i]);\n\n        if (!split[0] && split[1]) {\n          args[0] = split[1];\n          var mode = this.$modes[this.$embeds[i]];\n          return mode[method].apply(mode, args);\n        }\n      }\n\n      var ret = defaultHandler.apply(this, args);\n      return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function (state, action, editor, session, param) {\n      if (this.$behaviour) {\n        var behaviours = this.$behaviour.getBehaviours();\n\n        for (var key in behaviours) {\n          if (behaviours[key][action]) {\n            var ret = behaviours[key][action].apply(this, arguments);\n\n            if (ret) {\n              return ret;\n            }\n          }\n        }\n      }\n    };\n\n    this.getKeywords = function (append) {\n      if (!this.completionKeywords) {\n        var rules = this.$tokenizer.rules;\n        var completionKeywords = [];\n\n        for (var rule in rules) {\n          var ruleItr = rules[rule];\n\n          for (var r = 0, l = ruleItr.length; r < l; r++) {\n            if (typeof ruleItr[r].token === \"string\") {\n              if (/keyword|support|storage/.test(ruleItr[r].token)) completionKeywords.push(ruleItr[r].regex);\n            } else if (typeof ruleItr[r].token === \"object\") {\n              for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                  var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                  completionKeywords.push(rule.substr(1, rule.length - 2));\n                }\n              }\n            }\n          }\n        }\n\n        this.completionKeywords = completionKeywords;\n      }\n\n      if (!append) return this.$keywordList;\n      return completionKeywords.concat(this.$keywordList || []);\n    };\n\n    this.$createKeywordList = function () {\n      if (!this.$highlightRules) this.getTokenizer();\n      return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function (state, session, pos, prefix) {\n      var keywords = this.$keywordList || this.$createKeywordList();\n      return keywords.map(function (word) {\n        return {\n          name: word,\n          value: word,\n          score: 0,\n          meta: \"keyword\"\n        };\n      });\n    };\n\n    this.$id = \"ace/mode/text\";\n  }).call(Mode.prototype);\n  exports.Mode = Mode;\n});\nace.define(\"ace/apply_delta\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  function throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n  }\n\n  function positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n  }\n\n  function validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n  }\n\n  exports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n\n    switch (delta.action) {\n      case \"insert\":\n        var lines = delta.lines;\n\n        if (lines.length === 1) {\n          docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        } else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args);\n          docLines[row] = line.substring(0, startColumn) + docLines[row];\n          docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n        }\n\n        break;\n\n      case \"remove\":\n        var endColumn = delta.end.column;\n        var endRow = delta.end.row;\n\n        if (row === endRow) {\n          docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n        } else {\n          docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n        }\n\n        break;\n    }\n  };\n});\nace.define(\"ace/anchor\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n\n  var Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.getPosition = function () {\n      return this.$clipPositionToDocument(this.row, this.column);\n    };\n\n    this.getDocument = function () {\n      return this.document;\n    };\n\n    this.$insertRight = false;\n\n    this.onChange = function (delta) {\n      if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n      if (delta.start.row > this.row) return;\n      var point = $getTransformedPoint(delta, {\n        row: this.row,\n        column: this.column\n      }, this.$insertRight);\n      this.setPosition(point.row, point.column, true);\n    };\n\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n      return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n    }\n\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n      var deltaIsInsert = delta.action == \"insert\";\n      var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n      var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n      var deltaStart = delta.start;\n      var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n\n      if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n          row: point.row,\n          column: point.column\n        };\n      }\n\n      if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n          row: point.row + deltaRowShift,\n          column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n        };\n      }\n\n      return {\n        row: deltaStart.row,\n        column: deltaStart.column\n      };\n    }\n\n    this.setPosition = function (row, column, noClip) {\n      var pos;\n\n      if (noClip) {\n        pos = {\n          row: row,\n          column: column\n        };\n      } else {\n        pos = this.$clipPositionToDocument(row, column);\n      }\n\n      if (this.row == pos.row && this.column == pos.column) return;\n      var old = {\n        row: this.row,\n        column: this.column\n      };\n      this.row = pos.row;\n      this.column = pos.column;\n\n      this._signal(\"change\", {\n        old: old,\n        value: pos\n      });\n    };\n\n    this.detach = function () {\n      this.document.removeEventListener(\"change\", this.$onChange);\n    };\n\n    this.attach = function (doc) {\n      this.document = doc || this.document;\n      this.document.on(\"change\", this.$onChange);\n    };\n\n    this.$clipPositionToDocument = function (row, column) {\n      var pos = {};\n\n      if (row >= this.document.getLength()) {\n        pos.row = Math.max(0, this.document.getLength() - 1);\n        pos.column = this.document.getLine(pos.row).length;\n      } else if (row < 0) {\n        pos.row = 0;\n        pos.column = 0;\n      } else {\n        pos.row = row;\n        pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n      }\n\n      if (column < 0) pos.column = 0;\n      return pos;\n    };\n  }).call(Anchor.prototype);\n});\nace.define(\"ace/document\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/apply_delta\", \"ace/lib/event_emitter\", \"ace/range\", \"ace/anchor\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var applyDelta = acequire(\"./apply_delta\").applyDelta;\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var Range = acequire(\"./range\").Range;\n  var Anchor = acequire(\"./anchor\").Anchor;\n\n  var Document = function Document(textOrLines) {\n    this.$lines = [\"\"];\n\n    if (textOrLines.length === 0) {\n      this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n      this.insertMergedLines({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    } else {\n      this.insert({\n        row: 0,\n        column: 0\n      }, textOrLines);\n    }\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setValue = function (text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length));\n      this.insert({\n        row: 0,\n        column: 0\n      }, text);\n    };\n\n    this.getValue = function () {\n      return this.getAllLines().join(this.getNewLineCharacter());\n    };\n\n    this.createAnchor = function (row, column) {\n      return new Anchor(this, row, column);\n    };\n\n    if (\"aaa\".split(/a/).length === 0) {\n      this.$split = function (text) {\n        return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n      };\n    } else {\n      this.$split = function (text) {\n        return text.split(/\\r\\n|\\r|\\n/);\n      };\n    }\n\n    this.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : \"\\n\";\n\n      this._signal(\"changeNewLineMode\");\n    };\n\n    this.getNewLineCharacter = function () {\n      switch (this.$newLineMode) {\n        case \"windows\":\n          return \"\\r\\n\";\n\n        case \"unix\":\n          return \"\\n\";\n\n        default:\n          return this.$autoNewLine || \"\\n\";\n      }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n\n    this.setNewLineMode = function (newLineMode) {\n      if (this.$newLineMode === newLineMode) return;\n      this.$newLineMode = newLineMode;\n\n      this._signal(\"changeNewLineMode\");\n    };\n\n    this.getNewLineMode = function () {\n      return this.$newLineMode;\n    };\n\n    this.isNewLine = function (text) {\n      return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n    };\n\n    this.getLine = function (row) {\n      return this.$lines[row] || \"\";\n    };\n\n    this.getLines = function (firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1);\n    };\n\n    this.getAllLines = function () {\n      return this.getLines(0, this.getLength());\n    };\n\n    this.getLength = function () {\n      return this.$lines.length;\n    };\n\n    this.getTextRange = function (range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n\n    this.getLinesForRange = function (range) {\n      var lines;\n\n      if (range.start.row === range.end.row) {\n        lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      } else {\n        lines = this.getLines(range.start.row, range.end.row);\n        lines[0] = (lines[0] || \"\").substring(range.start.column);\n        var l = lines.length - 1;\n        if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n      }\n\n      return lines;\n    };\n\n    this.insertLines = function (row, lines) {\n      console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n      return this.insertFullLines(row, lines);\n    };\n\n    this.removeLines = function (firstRow, lastRow) {\n      console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n      return this.removeFullLines(firstRow, lastRow);\n    };\n\n    this.insertNewLine = function (position) {\n      console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n      return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n\n    this.insert = function (position, text) {\n      if (this.getLength() <= 1) this.$detectNewLine(text);\n      return this.insertMergedLines(position, this.$split(text));\n    };\n\n    this.insertInLine = function (position, text) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = this.pos(position.row, position.column + text.length);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: [text]\n      }, true);\n      return this.clonePos(end);\n    };\n\n    this.clippedPos = function (row, column) {\n      var length = this.getLength();\n\n      if (row === undefined) {\n        row = length;\n      } else if (row < 0) {\n        row = 0;\n      } else if (row >= length) {\n        row = length - 1;\n        column = undefined;\n      }\n\n      var line = this.getLine(row);\n      if (column == undefined) column = line.length;\n      column = Math.min(Math.max(column, 0), line.length);\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.clonePos = function (pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      };\n    };\n\n    this.pos = function (row, column) {\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.$clipPosition = function (position) {\n      var length = this.getLength();\n\n      if (position.row >= length) {\n        position.row = Math.max(0, length - 1);\n        position.column = this.getLine(length - 1).length;\n      } else {\n        position.row = Math.max(0, position.row);\n        position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n      }\n\n      return position;\n    };\n\n    this.insertFullLines = function (row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n\n      if (row < this.getLength()) {\n        lines = lines.concat([\"\"]);\n        column = 0;\n      } else {\n        lines = [\"\"].concat(lines);\n        row--;\n        column = this.$lines[row].length;\n      }\n\n      this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines);\n    };\n\n    this.insertMergedLines = function (position, lines) {\n      var start = this.clippedPos(position.row, position.column);\n      var end = {\n        row: start.row + lines.length - 1,\n        column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n      };\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"insert\",\n        lines: lines\n      });\n      return this.clonePos(end);\n    };\n\n    this.remove = function (range) {\n      var start = this.clippedPos(range.start.row, range.start.column);\n      var end = this.clippedPos(range.end.row, range.end.column);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      });\n      return this.clonePos(start);\n    };\n\n    this.removeInLine = function (row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn);\n      var end = this.clippedPos(row, endColumn);\n      this.applyDelta({\n        start: start,\n        end: end,\n        action: \"remove\",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, true);\n      return this.clonePos(start);\n    };\n\n    this.removeFullLines = function (firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n      lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n      var deleteLastNewLine = lastRow < this.getLength() - 1;\n      var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n      var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n      var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n      var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n      var range = new Range(startRow, startCol, endRow, endCol);\n      var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: \"remove\",\n        lines: this.getLinesForRange(range)\n      });\n      return deletedLines;\n    };\n\n    this.removeNewLine = function (row) {\n      if (row < this.getLength() - 1 && row >= 0) {\n        this.applyDelta({\n          start: this.pos(row, this.getLine(row).length),\n          end: this.pos(row + 1, 0),\n          action: \"remove\",\n          lines: [\"\", \"\"]\n        });\n      }\n    };\n\n    this.replace = function (range, text) {\n      if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n      if (text.length === 0 && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n\n      if (text) {\n        end = this.insert(range.start, text);\n      } else {\n        end = range.start;\n      }\n\n      return end;\n    };\n\n    this.applyDeltas = function (deltas) {\n      for (var i = 0; i < deltas.length; i++) {\n        this.applyDelta(deltas[i]);\n      }\n    };\n\n    this.revertDeltas = function (deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) {\n        this.revertDelta(deltas[i]);\n      }\n    };\n\n    this.applyDelta = function (delta, doNotValidate) {\n      var isInsert = delta.action == \"insert\";\n\n      if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n        return;\n      }\n\n      if (isInsert && delta.lines.length > 20000) this.$splitAndapplyLargeDelta(delta, 20000);\n      applyDelta(this.$lines, delta, doNotValidate);\n\n      this._signal(\"change\", delta);\n    };\n\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n      var lines = delta.lines;\n      var l = lines.length;\n      var row = delta.start.row;\n      var column = delta.start.column;\n      var from = 0,\n          to = 0;\n\n      do {\n        from = to;\n        to += MAX - 1;\n        var chunk = lines.slice(from, to);\n\n        if (to > l) {\n          delta.lines = chunk;\n          delta.start.row = row + from;\n          delta.start.column = column;\n          break;\n        }\n\n        chunk.push(\"\");\n        this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, true);\n      } while (true);\n    };\n\n    this.revertDelta = function (delta) {\n      this.applyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n        lines: delta.lines.slice()\n      });\n    };\n\n    this.indexToPosition = function (index, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n\n      for (var i = startRow || 0, l = lines.length; i < l; i++) {\n        index -= lines[i].length + newlineLength;\n        if (index < 0) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      }\n\n      return {\n        row: l - 1,\n        column: lines[l - 1].length\n      };\n    };\n\n    this.positionToIndex = function (pos, startRow) {\n      var lines = this.$lines || this.getAllLines();\n      var newlineLength = this.getNewLineCharacter().length;\n      var index = 0;\n      var row = Math.min(pos.row, lines.length);\n\n      for (var i = startRow || 0; i < row; ++i) {\n        index += lines[i].length + newlineLength;\n      }\n\n      return index + pos.column;\n    };\n  }).call(Document.prototype);\n  exports.Document = Document;\n});\nace.define(\"ace/background_tokenizer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n\n  var BackgroundTokenizer = function BackgroundTokenizer(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n    var self = this;\n\n    this.$worker = function () {\n      if (!self.running) {\n        return;\n      }\n\n      var workerStart = new Date();\n      var currentLine = self.currentLine;\n      var endLine = -1;\n      var doc = self.doc;\n      var startLine = currentLine;\n\n      while (self.lines[currentLine]) {\n        currentLine++;\n      }\n\n      var len = doc.getLength();\n      var processedLines = 0;\n      self.running = false;\n\n      while (currentLine < len) {\n        self.$tokenizeRow(currentLine);\n        endLine = currentLine;\n\n        do {\n          currentLine++;\n        } while (self.lines[currentLine]);\n\n        processedLines++;\n\n        if (processedLines % 5 === 0 && new Date() - workerStart > 20) {\n          self.running = setTimeout(self.$worker, 20);\n          break;\n        }\n      }\n\n      self.currentLine = currentLine;\n      if (endLine == -1) endLine = currentLine;\n      if (startLine <= endLine) self.fireUpdateEvent(startLine, endLine);\n    };\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setTokenizer = function (tokenizer) {\n      this.tokenizer = tokenizer;\n      this.lines = [];\n      this.states = [];\n      this.start(0);\n    };\n\n    this.setDocument = function (doc) {\n      this.doc = doc;\n      this.lines = [];\n      this.states = [];\n      this.stop();\n    };\n\n    this.fireUpdateEvent = function (firstRow, lastRow) {\n      var data = {\n        first: firstRow,\n        last: lastRow\n      };\n\n      this._signal(\"update\", {\n        data: data\n      });\n    };\n\n    this.start = function (startRow) {\n      this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n      this.lines.splice(this.currentLine, this.lines.length);\n      this.states.splice(this.currentLine, this.states.length);\n      this.stop();\n      this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.scheduleStart = function () {\n      if (!this.running) this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function (delta) {\n      var startRow = delta.start.row;\n      var len = delta.end.row - startRow;\n\n      if (len === 0) {\n        this.lines[startRow] = null;\n      } else if (delta.action == \"remove\") {\n        this.lines.splice(startRow, len + 1, null);\n        this.states.splice(startRow, len + 1, null);\n      } else {\n        var args = Array(len + 1);\n        args.unshift(startRow, 1);\n        this.lines.splice.apply(this.lines, args);\n        this.states.splice.apply(this.states, args);\n      }\n\n      this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n      this.stop();\n    };\n\n    this.stop = function () {\n      if (this.running) clearTimeout(this.running);\n      this.running = false;\n    };\n\n    this.getTokens = function (row) {\n      return this.lines[row] || this.$tokenizeRow(row);\n    };\n\n    this.getState = function (row) {\n      if (this.currentLine == row) this.$tokenizeRow(row);\n      return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function (row) {\n      var line = this.doc.getLine(row);\n      var state = this.states[row - 1];\n      var data = this.tokenizer.getLineTokens(line, state, row);\n\n      if (this.states[row] + \"\" !== data.state + \"\") {\n        this.states[row] = data.state;\n        this.lines[row + 1] = null;\n        if (this.currentLine > row + 1) this.currentLine = row + 1;\n      } else if (this.currentLine == row) {\n        this.currentLine = row + 1;\n      }\n\n      return this.lines[row] = data.tokens;\n    };\n  }).call(BackgroundTokenizer.prototype);\n  exports.BackgroundTokenizer = BackgroundTokenizer;\n});\nace.define(\"ace/search_highlight\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var lang = acequire(\"./lib/lang\");\n  var oop = acequire(\"./lib/oop\");\n  var Range = acequire(\"./range\").Range;\n\n  var SearchHighlight = function SearchHighlight(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n  };\n\n  (function () {\n    this.MAX_RANGES = 500;\n\n    this.setRegexp = function (regExp) {\n      if (this.regExp + \"\" == regExp + \"\") return;\n      this.regExp = regExp;\n      this.cache = [];\n    };\n\n    this.update = function (html, markerLayer, session, config) {\n      if (!this.regExp) return;\n      var start = config.firstRow,\n          end = config.lastRow;\n\n      for (var i = start; i <= end; i++) {\n        var ranges = this.cache[i];\n\n        if (ranges == null) {\n          ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n          if (ranges.length > this.MAX_RANGES) ranges = ranges.slice(0, this.MAX_RANGES);\n          ranges = ranges.map(function (match) {\n            return new Range(i, match.offset, i, match.offset + match.length);\n          });\n          this.cache[i] = ranges.length ? ranges : \"\";\n        }\n\n        for (var j = ranges.length; j--;) {\n          markerLayer.drawSingleLineMarker(html, ranges[j].toScreenRange(session), this.clazz, config);\n        }\n      }\n    };\n  }).call(SearchHighlight.prototype);\n  exports.SearchHighlight = SearchHighlight;\n});\nace.define(\"ace/edit_session/fold_line\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"../range\").Range;\n\n  function FoldLine(foldData, folds) {\n    this.foldData = foldData;\n\n    if (Array.isArray(folds)) {\n      this.folds = folds;\n    } else {\n      folds = this.folds = [folds];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end = this.range.end;\n    this.folds.forEach(function (fold) {\n      fold.setFoldLine(this);\n    }, this);\n  }\n\n  (function () {\n    this.shiftRow = function (shift) {\n      this.start.row += shift;\n      this.end.row += shift;\n      this.folds.forEach(function (fold) {\n        fold.start.row += shift;\n        fold.end.row += shift;\n      });\n    };\n\n    this.addFold = function (fold) {\n      if (fold.sameRow) {\n        if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n          throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n        }\n\n        this.folds.push(fold);\n        this.folds.sort(function (a, b) {\n          return -a.range.compareEnd(b.start.row, b.start.column);\n        });\n\n        if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n          this.end.row = fold.end.row;\n          this.end.column = fold.end.column;\n        } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n          this.start.row = fold.start.row;\n          this.start.column = fold.start.column;\n        }\n      } else if (fold.start.row == this.end.row) {\n        this.folds.push(fold);\n        this.end.row = fold.end.row;\n        this.end.column = fold.end.column;\n      } else if (fold.end.row == this.start.row) {\n        this.folds.unshift(fold);\n        this.start.row = fold.start.row;\n        this.start.column = fold.start.column;\n      } else {\n        throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n      }\n\n      fold.foldLine = this;\n    };\n\n    this.containsRow = function (row) {\n      return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function (callback, endRow, endColumn) {\n      var lastEnd = 0,\n          folds = this.folds,\n          fold,\n          cmp,\n          stop,\n          isNewRow = true;\n\n      if (endRow == null) {\n        endRow = this.end.row;\n        endColumn = this.end.column;\n      }\n\n      for (var i = 0; i < folds.length; i++) {\n        fold = folds[i];\n        cmp = fold.range.compareStart(endRow, endColumn);\n\n        if (cmp == -1) {\n          callback(null, endRow, endColumn, lastEnd, isNewRow);\n          return;\n        }\n\n        stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n        stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n\n        if (stop || cmp === 0) {\n          return;\n        }\n\n        isNewRow = !fold.sameRow;\n        lastEnd = fold.end.column;\n      }\n\n      callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function (row, column) {\n      var fold, cmp;\n\n      for (var i = 0; i < this.folds.length; i++) {\n        fold = this.folds[i];\n        cmp = fold.range.compareEnd(row, column);\n\n        if (cmp == -1) {\n          return {\n            fold: fold,\n            kind: \"after\"\n          };\n        } else if (cmp === 0) {\n          return {\n            fold: fold,\n            kind: \"inside\"\n          };\n        }\n      }\n\n      return null;\n    };\n\n    this.addRemoveChars = function (row, column, len) {\n      var ret = this.getNextFoldTo(row, column),\n          fold,\n          folds;\n\n      if (ret) {\n        fold = ret.fold;\n\n        if (ret.kind == \"inside\" && fold.start.column != column && fold.start.row != row) {\n          window.console && window.console.log(row, column, fold);\n        } else if (fold.start.row == row) {\n          folds = this.folds;\n          var i = folds.indexOf(fold);\n\n          if (i === 0) {\n            this.start.column += len;\n          }\n\n          for (i; i < folds.length; i++) {\n            fold = folds[i];\n            fold.start.column += len;\n\n            if (!fold.sameRow) {\n              return;\n            }\n\n            fold.end.column += len;\n          }\n\n          this.end.column += len;\n        }\n      }\n    };\n\n    this.split = function (row, column) {\n      var pos = this.getNextFoldTo(row, column);\n      if (!pos || pos.kind == \"inside\") return null;\n      var fold = pos.fold;\n      var folds = this.folds;\n      var foldData = this.foldData;\n      var i = folds.indexOf(fold);\n      var foldBefore = folds[i - 1];\n      this.end.row = foldBefore.end.row;\n      this.end.column = foldBefore.end.column;\n      folds = folds.splice(i, folds.length - i);\n      var newFoldLine = new FoldLine(foldData, folds);\n      foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n      return newFoldLine;\n    };\n\n    this.merge = function (foldLineNext) {\n      var folds = foldLineNext.folds;\n\n      for (var i = 0; i < folds.length; i++) {\n        this.addFold(folds[i]);\n      }\n\n      var foldData = this.foldData;\n      foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function () {\n      var ret = [this.range.toString() + \": [\"];\n      this.folds.forEach(function (fold) {\n        ret.push(\"  \" + fold.toString());\n      });\n      ret.push(\"]\");\n      return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function (idx) {\n      var lastFoldEndColumn = 0;\n\n      for (var i = 0; i < this.folds.length; i++) {\n        var fold = this.folds[i];\n        idx -= fold.start.column - lastFoldEndColumn;\n\n        if (idx < 0) {\n          return {\n            row: fold.start.row,\n            column: fold.start.column + idx\n          };\n        }\n\n        idx -= fold.placeholder.length;\n\n        if (idx < 0) {\n          return fold.start;\n        }\n\n        lastFoldEndColumn = fold.end.column;\n      }\n\n      return {\n        row: this.end.row,\n        column: this.end.column + idx\n      };\n    };\n  }).call(FoldLine.prototype);\n  exports.FoldLine = FoldLine;\n});\nace.define(\"ace/range_list\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"./range\").Range;\n  var comparePoints = Range.comparePoints;\n\n  var RangeList = function RangeList() {\n    this.ranges = [];\n  };\n\n  (function () {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function (pos, excludeEdges, startIndex) {\n      var list = this.ranges;\n\n      for (var i = startIndex || 0; i < list.length; i++) {\n        var range = list[i];\n        var cmpEnd = comparePoints(pos, range.end);\n        if (cmpEnd > 0) continue;\n        var cmpStart = comparePoints(pos, range.start);\n        if (cmpEnd === 0) return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n        if (cmpStart > 0 || cmpStart === 0 && !excludeEdges) return i;\n        return -i - 1;\n      }\n\n      return -i - 1;\n    };\n\n    this.add = function (range) {\n      var excludeEdges = !range.isEmpty();\n      var startIndex = this.pointIndex(range.start, excludeEdges);\n      if (startIndex < 0) startIndex = -startIndex - 1;\n      var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n      if (endIndex < 0) endIndex = -endIndex - 1;else endIndex++;\n      return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function (list) {\n      var removed = [];\n\n      for (var i = list.length; i--;) {\n        removed.push.apply(removed, this.add(list[i]));\n      }\n\n      return removed;\n    };\n\n    this.substractPoint = function (pos) {\n      var i = this.pointIndex(pos);\n      if (i >= 0) return this.ranges.splice(i, 1);\n    };\n\n    this.merge = function () {\n      var removed = [];\n      var list = this.ranges;\n      list = list.sort(function (a, b) {\n        return comparePoints(a.start, b.start);\n      });\n      var next = list[0],\n          range;\n\n      for (var i = 1; i < list.length; i++) {\n        range = next;\n        next = list[i];\n        var cmp = comparePoints(range.end, next.start);\n        if (cmp < 0) continue;\n        if (cmp == 0 && !range.isEmpty() && !next.isEmpty()) continue;\n\n        if (comparePoints(range.end, next.end) < 0) {\n          range.end.row = next.end.row;\n          range.end.column = next.end.column;\n        }\n\n        list.splice(i, 1);\n        removed.push(next);\n        next = range;\n        i--;\n      }\n\n      this.ranges = list;\n      return removed;\n    };\n\n    this.contains = function (row, column) {\n      return this.pointIndex({\n        row: row,\n        column: column\n      }) >= 0;\n    };\n\n    this.containsPoint = function (pos) {\n      return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function (pos) {\n      var i = this.pointIndex(pos);\n      if (i >= 0) return this.ranges[i];\n    };\n\n    this.clipRows = function (startRow, endRow) {\n      var list = this.ranges;\n      if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow) return [];\n      var startIndex = this.pointIndex({\n        row: startRow,\n        column: 0\n      });\n      if (startIndex < 0) startIndex = -startIndex - 1;\n      var endIndex = this.pointIndex({\n        row: endRow,\n        column: 0\n      }, startIndex);\n      if (endIndex < 0) endIndex = -endIndex - 1;\n      var clipped = [];\n\n      for (var i = startIndex; i < endIndex; i++) {\n        clipped.push(list[i]);\n      }\n\n      return clipped;\n    };\n\n    this.removeAll = function () {\n      return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function (session) {\n      if (this.session) this.detach();\n      this.session = session;\n      this.onChange = this.$onChange.bind(this);\n      this.session.on('change', this.onChange);\n    };\n\n    this.detach = function () {\n      if (!this.session) return;\n      this.session.removeListener('change', this.onChange);\n      this.session = null;\n    };\n\n    this.$onChange = function (delta) {\n      if (delta.action == \"insert\") {\n        var start = delta.start;\n        var end = delta.end;\n      } else {\n        var end = delta.start;\n        var start = delta.end;\n      }\n\n      var startRow = start.row;\n      var endRow = end.row;\n      var lineDif = endRow - startRow;\n      var colDiff = -start.column + end.column;\n      var ranges = this.ranges;\n\n      for (var i = 0, n = ranges.length; i < n; i++) {\n        var r = ranges[i];\n        if (r.end.row < startRow) continue;\n        if (r.start.row > startRow) break;\n\n        if (r.start.row == startRow && r.start.column >= start.column) {\n          if (r.start.column == start.column && this.$insertRight) {} else {\n            r.start.column += colDiff;\n            r.start.row += lineDif;\n          }\n        }\n\n        if (r.end.row == startRow && r.end.column >= start.column) {\n          if (r.end.column == start.column && this.$insertRight) {\n            continue;\n          }\n\n          if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n            if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column) r.end.column -= colDiff;\n          }\n\n          r.end.column += colDiff;\n          r.end.row += lineDif;\n        }\n      }\n\n      if (lineDif != 0 && i < n) {\n        for (; i < n; i++) {\n          var r = ranges[i];\n          r.start.row += lineDif;\n          r.end.row += lineDif;\n        }\n      }\n    };\n  }).call(RangeList.prototype);\n  exports.RangeList = RangeList;\n});\nace.define(\"ace/edit_session/fold\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/range_list\", \"ace/lib/oop\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"../range\").Range;\n  var RangeList = acequire(\"../range_list\").RangeList;\n  var oop = acequire(\"../lib/oop\");\n\n  var Fold = exports.Fold = function (range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n  };\n\n  oop.inherits(Fold, RangeList);\n  (function () {\n    this.toString = function () {\n      return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function (foldLine) {\n      this.foldLine = foldLine;\n      this.subFolds.forEach(function (fold) {\n        fold.setFoldLine(foldLine);\n      });\n    };\n\n    this.clone = function () {\n      var range = this.range.clone();\n      var fold = new Fold(range, this.placeholder);\n      this.subFolds.forEach(function (subFold) {\n        fold.subFolds.push(subFold.clone());\n      });\n      fold.collapseChildren = this.collapseChildren;\n      return fold;\n    };\n\n    this.addSubFold = function (fold) {\n      if (this.range.isEqual(fold)) return;\n      if (!this.range.containsRange(fold)) throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n      consumeRange(fold, this.start);\n      var row = fold.start.row,\n          column = fold.start.column;\n\n      for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n        cmp = this.subFolds[i].range.compare(row, column);\n        if (cmp != 1) break;\n      }\n\n      var afterStart = this.subFolds[i];\n      if (cmp == 0) return afterStart.addSubFold(fold);\n      var row = fold.range.end.row,\n          column = fold.range.end.column;\n\n      for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n        cmp = this.subFolds[j].range.compare(row, column);\n        if (cmp != 1) break;\n      }\n\n      var afterEnd = this.subFolds[j];\n      if (cmp == 0) throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n      var consumedFolds = this.subFolds.splice(i, j - i, fold);\n      fold.setFoldLine(this.foldLine);\n      return fold;\n    };\n\n    this.restoreRange = function (range) {\n      return restoreRange(range, this.start);\n    };\n  }).call(Fold.prototype);\n\n  function consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0) point.column -= anchor.column;\n  }\n\n  function consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n  }\n\n  function restorePoint(point, anchor) {\n    if (point.row == 0) point.column += anchor.column;\n    point.row += anchor.row;\n  }\n\n  function restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n  }\n});\nace.define(\"ace/edit_session/folding\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/edit_session/fold_line\", \"ace/edit_session/fold\", \"ace/token_iterator\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"../range\").Range;\n  var FoldLine = acequire(\"./fold_line\").FoldLine;\n  var Fold = acequire(\"./fold\").Fold;\n  var TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n\n  function Folding() {\n    this.getFoldAt = function (row, column, side) {\n      var foldLine = this.getFoldLine(row);\n      if (!foldLine) return null;\n      var folds = foldLine.folds;\n\n      for (var i = 0; i < folds.length; i++) {\n        var fold = folds[i];\n\n        if (fold.range.contains(row, column)) {\n          if (side == 1 && fold.range.isEnd(row, column)) {\n            continue;\n          } else if (side == -1 && fold.range.isStart(row, column)) {\n            continue;\n          }\n\n          return fold;\n        }\n      }\n    };\n\n    this.getFoldsInRange = function (range) {\n      var start = range.start;\n      var end = range.end;\n      var foldLines = this.$foldData;\n      var foundFolds = [];\n      start.column += 1;\n      end.column -= 1;\n\n      for (var i = 0; i < foldLines.length; i++) {\n        var cmp = foldLines[i].range.compareRange(range);\n\n        if (cmp == 2) {\n          continue;\n        } else if (cmp == -2) {\n          break;\n        }\n\n        var folds = foldLines[i].folds;\n\n        for (var j = 0; j < folds.length; j++) {\n          var fold = folds[j];\n          cmp = fold.range.compareRange(range);\n\n          if (cmp == -2) {\n            break;\n          } else if (cmp == 2) {\n            continue;\n          } else if (cmp == 42) {\n            break;\n          }\n\n          foundFolds.push(fold);\n        }\n      }\n\n      start.column -= 1;\n      end.column += 1;\n      return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function (ranges) {\n      if (Array.isArray(ranges)) {\n        var folds = [];\n        ranges.forEach(function (range) {\n          folds = folds.concat(this.getFoldsInRange(range));\n        }, this);\n      } else {\n        var folds = this.getFoldsInRange(ranges);\n      }\n\n      return folds;\n    };\n\n    this.getAllFolds = function () {\n      var folds = [];\n      var foldLines = this.$foldData;\n\n      for (var i = 0; i < foldLines.length; i++) {\n        for (var j = 0; j < foldLines[i].folds.length; j++) {\n          folds.push(foldLines[i].folds[j]);\n        }\n      }\n\n      return folds;\n    };\n\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n      foldLine = foldLine || this.getFoldLine(row);\n      if (!foldLine) return null;\n      var lastFold = {\n        end: {\n          column: 0\n        }\n      };\n      var str, fold;\n\n      for (var i = 0; i < foldLine.folds.length; i++) {\n        fold = foldLine.folds[i];\n        var cmp = fold.range.compareEnd(row, column);\n\n        if (cmp == -1) {\n          str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);\n          break;\n        } else if (cmp === 0) {\n          return null;\n        }\n\n        lastFold = fold;\n      }\n\n      if (!str) str = this.getLine(fold.start.row).substring(lastFold.end.column);\n      if (trim == -1) return str.substring(0, column - lastFold.end.column);else if (trim == 1) return str.substring(column - lastFold.end.column);else return str;\n    };\n\n    this.getFoldLine = function (docRow, startFoldLine) {\n      var foldData = this.$foldData;\n      var i = 0;\n      if (startFoldLine) i = foldData.indexOf(startFoldLine);\n      if (i == -1) i = 0;\n\n      for (i; i < foldData.length; i++) {\n        var foldLine = foldData[i];\n\n        if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n          return foldLine;\n        } else if (foldLine.end.row > docRow) {\n          return null;\n        }\n      }\n\n      return null;\n    };\n\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n      var foldData = this.$foldData;\n      var i = 0;\n      if (startFoldLine) i = foldData.indexOf(startFoldLine);\n      if (i == -1) i = 0;\n\n      for (i; i < foldData.length; i++) {\n        var foldLine = foldData[i];\n\n        if (foldLine.end.row >= docRow) {\n          return foldLine;\n        }\n      }\n\n      return null;\n    };\n\n    this.getFoldedRowCount = function (first, last) {\n      var foldData = this.$foldData,\n          rowCount = last - first + 1;\n\n      for (var i = 0; i < foldData.length; i++) {\n        var foldLine = foldData[i],\n            end = foldLine.end.row,\n            start = foldLine.start.row;\n\n        if (end >= last) {\n          if (start < last) {\n            if (start >= first) rowCount -= last - start;else rowCount = 0; // in one fold\n          }\n\n          break;\n        } else if (end >= first) {\n          if (start >= first) // fold inside range\n            rowCount -= end - start;else rowCount -= end - first + 1;\n        }\n      }\n\n      return rowCount;\n    };\n\n    this.$addFoldLine = function (foldLine) {\n      this.$foldData.push(foldLine);\n      this.$foldData.sort(function (a, b) {\n        return a.start.row - b.start.row;\n      });\n      return foldLine;\n    };\n\n    this.addFold = function (placeholder, range) {\n      var foldData = this.$foldData;\n      var added = false;\n      var fold;\n      if (placeholder instanceof Fold) fold = placeholder;else {\n        fold = new Fold(range, placeholder);\n        fold.collapseChildren = range.collapseChildren;\n      }\n      this.$clipRangeToDocument(fold.range);\n      var startRow = fold.start.row;\n      var startColumn = fold.start.column;\n      var endRow = fold.end.row;\n      var endColumn = fold.end.column;\n      if (!(startRow < endRow || startRow == endRow && startColumn <= endColumn - 2)) throw new Error(\"The range has to be at least 2 characters width\");\n      var startFold = this.getFoldAt(startRow, startColumn, 1);\n      var endFold = this.getFoldAt(endRow, endColumn, -1);\n      if (startFold && endFold == startFold) return startFold.addSubFold(fold);\n      if (startFold && !startFold.range.isStart(startRow, startColumn)) this.removeFold(startFold);\n      if (endFold && !endFold.range.isEnd(endRow, endColumn)) this.removeFold(endFold);\n      var folds = this.getFoldsInRange(fold.range);\n\n      if (folds.length > 0) {\n        this.removeFolds(folds);\n        folds.forEach(function (subFold) {\n          fold.addSubFold(subFold);\n        });\n      }\n\n      for (var i = 0; i < foldData.length; i++) {\n        var foldLine = foldData[i];\n\n        if (endRow == foldLine.start.row) {\n          foldLine.addFold(fold);\n          added = true;\n          break;\n        } else if (startRow == foldLine.end.row) {\n          foldLine.addFold(fold);\n          added = true;\n\n          if (!fold.sameRow) {\n            var foldLineNext = foldData[i + 1];\n\n            if (foldLineNext && foldLineNext.start.row == endRow) {\n              foldLine.merge(foldLineNext);\n              break;\n            }\n          }\n\n          break;\n        } else if (endRow <= foldLine.start.row) {\n          break;\n        }\n      }\n\n      if (!added) foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n      if (this.$useWrapMode) this.$updateWrapData(foldLine.start.row, foldLine.start.row);else this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n      this.$modified = true;\n\n      this._signal(\"changeFold\", {\n        data: fold,\n        action: \"add\"\n      });\n\n      return fold;\n    };\n\n    this.addFolds = function (folds) {\n      folds.forEach(function (fold) {\n        this.addFold(fold);\n      }, this);\n    };\n\n    this.removeFold = function (fold) {\n      var foldLine = fold.foldLine;\n      var startRow = foldLine.start.row;\n      var endRow = foldLine.end.row;\n      var foldLines = this.$foldData;\n      var folds = foldLine.folds;\n\n      if (folds.length == 1) {\n        foldLines.splice(foldLines.indexOf(foldLine), 1);\n      } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n        folds.pop();\n        foldLine.end.row = folds[folds.length - 1].end.row;\n        foldLine.end.column = folds[folds.length - 1].end.column;\n      } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n        folds.shift();\n        foldLine.start.row = folds[0].start.row;\n        foldLine.start.column = folds[0].start.column;\n      } else if (fold.sameRow) {\n        folds.splice(folds.indexOf(fold), 1);\n      } else {\n        var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n        folds = newFoldLine.folds;\n        folds.shift();\n        newFoldLine.start.row = folds[0].start.row;\n        newFoldLine.start.column = folds[0].start.column;\n      }\n\n      if (!this.$updating) {\n        if (this.$useWrapMode) this.$updateWrapData(startRow, endRow);else this.$updateRowLengthCache(startRow, endRow);\n      }\n\n      this.$modified = true;\n\n      this._signal(\"changeFold\", {\n        data: fold,\n        action: \"remove\"\n      });\n    };\n\n    this.removeFolds = function (folds) {\n      var cloneFolds = [];\n\n      for (var i = 0; i < folds.length; i++) {\n        cloneFolds.push(folds[i]);\n      }\n\n      cloneFolds.forEach(function (fold) {\n        this.removeFold(fold);\n      }, this);\n      this.$modified = true;\n    };\n\n    this.expandFold = function (fold) {\n      this.removeFold(fold);\n      fold.subFolds.forEach(function (subFold) {\n        fold.restoreRange(subFold);\n        this.addFold(subFold);\n      }, this);\n\n      if (fold.collapseChildren > 0) {\n        this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n      }\n\n      fold.subFolds = [];\n    };\n\n    this.expandFolds = function (folds) {\n      folds.forEach(function (fold) {\n        this.expandFold(fold);\n      }, this);\n    };\n\n    this.unfold = function (location, expandInner) {\n      var range, folds;\n\n      if (location == null) {\n        range = new Range(0, 0, this.getLength(), 0);\n        expandInner = true;\n      } else if (typeof location == \"number\") range = new Range(location, 0, location, this.getLine(location).length);else if (\"row\" in location) range = Range.fromPoints(location, location);else range = location;\n\n      folds = this.getFoldsInRangeList(range);\n\n      if (expandInner) {\n        this.removeFolds(folds);\n      } else {\n        var subFolds = folds;\n\n        while (subFolds.length) {\n          this.expandFolds(subFolds);\n          subFolds = this.getFoldsInRangeList(range);\n        }\n      }\n\n      if (folds.length) return folds;\n    };\n\n    this.isRowFolded = function (docRow, startFoldRow) {\n      return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n      var foldLine = this.getFoldLine(docRow, startFoldRow);\n      return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n      var foldLine = this.getFoldLine(docRow, startFoldRow);\n      return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n      if (startRow == null) startRow = foldLine.start.row;\n      if (startColumn == null) startColumn = 0;\n      if (endRow == null) endRow = foldLine.end.row;\n      if (endColumn == null) endColumn = this.getLine(endRow).length;\n      var doc = this.doc;\n      var textLine = \"\";\n      foldLine.walk(function (placeholder, row, column, lastColumn) {\n        if (row < startRow) return;\n\n        if (row == startRow) {\n          if (column < startColumn) return;\n          lastColumn = Math.max(startColumn, lastColumn);\n        }\n\n        if (placeholder != null) {\n          textLine += placeholder;\n        } else {\n          textLine += doc.getLine(row).substring(lastColumn, column);\n        }\n      }, endRow, endColumn);\n      return textLine;\n    };\n\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n      var foldLine = this.getFoldLine(row);\n\n      if (!foldLine) {\n        var line;\n        line = this.doc.getLine(row);\n        return line.substring(startColumn || 0, endColumn || line.length);\n      } else {\n        return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n      }\n    };\n\n    this.$cloneFoldData = function () {\n      var fd = [];\n      fd = this.$foldData.map(function (foldLine) {\n        var folds = foldLine.folds.map(function (fold) {\n          return fold.clone();\n        });\n        return new FoldLine(fd, folds);\n      });\n      return fd;\n    };\n\n    this.toggleFold = function (tryToUnfold) {\n      var selection = this.selection;\n      var range = selection.getRange();\n      var fold;\n      var bracketPos;\n\n      if (range.isEmpty()) {\n        var cursor = range.start;\n        fold = this.getFoldAt(cursor.row, cursor.column);\n\n        if (fold) {\n          this.expandFold(fold);\n          return;\n        } else if (bracketPos = this.findMatchingBracket(cursor)) {\n          if (range.comparePoint(bracketPos) == 1) {\n            range.end = bracketPos;\n          } else {\n            range.start = bracketPos;\n            range.start.column++;\n            range.end.column--;\n          }\n        } else if (bracketPos = this.findMatchingBracket({\n          row: cursor.row,\n          column: cursor.column + 1\n        })) {\n          if (range.comparePoint(bracketPos) == 1) range.end = bracketPos;else range.start = bracketPos;\n          range.start.column++;\n        } else {\n          range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n        }\n      } else {\n        var folds = this.getFoldsInRange(range);\n\n        if (tryToUnfold && folds.length) {\n          this.expandFolds(folds);\n          return;\n        } else if (folds.length == 1) {\n          fold = folds[0];\n        }\n      }\n\n      if (!fold) fold = this.getFoldAt(range.start.row, range.start.column);\n\n      if (fold && fold.range.toString() == range.toString()) {\n        this.expandFold(fold);\n        return;\n      }\n\n      var placeholder = \"...\";\n\n      if (!range.isMultiLine()) {\n        placeholder = this.getTextRange(range);\n        if (placeholder.length < 4) return;\n        placeholder = placeholder.trim().substring(0, 2) + \"..\";\n      }\n\n      this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function (row, column, dir) {\n      var iterator = new TokenIterator(this, row, column);\n      var token = iterator.getCurrentToken();\n      var type = token.type;\n\n      if (token && /^comment|string/.test(type)) {\n        type = type.match(/comment|string/)[0];\n        if (type == \"comment\") type += \"|doc-start\";\n        var re = new RegExp(type);\n        var range = new Range();\n\n        if (dir != 1) {\n          do {\n            token = iterator.stepBackward();\n          } while (token && re.test(token.type));\n\n          iterator.stepForward();\n        }\n\n        range.start.row = iterator.getCurrentTokenRow();\n        range.start.column = iterator.getCurrentTokenColumn() + 2;\n        iterator = new TokenIterator(this, row, column);\n\n        if (dir != -1) {\n          var lastRow = -1;\n\n          do {\n            token = iterator.stepForward();\n\n            if (lastRow == -1) {\n              var state = this.getState(iterator.$row);\n              if (!re.test(state)) lastRow = iterator.$row;\n            } else if (iterator.$row > lastRow) {\n              break;\n            }\n          } while (token && re.test(token.type));\n\n          token = iterator.stepBackward();\n        } else token = iterator.getCurrentToken();\n\n        range.end.row = iterator.getCurrentTokenRow();\n        range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n        return range;\n      }\n    };\n\n    this.foldAll = function (startRow, endRow, depth) {\n      if (depth == undefined) depth = 100000; // JSON.stringify doesn't hanle Infinity\n\n      var foldWidgets = this.foldWidgets;\n      if (!foldWidgets) return; // mode doesn't support folding\n\n      endRow = endRow || this.getLength();\n      startRow = startRow || 0;\n\n      for (var row = startRow; row < endRow; row++) {\n        if (foldWidgets[row] == null) foldWidgets[row] = this.getFoldWidget(row);\n        if (foldWidgets[row] != \"start\") continue;\n        var range = this.getFoldWidgetRange(row);\n\n        if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {\n          row = range.end.row;\n\n          try {\n            var fold = this.addFold(\"...\", range);\n            if (fold) fold.collapseChildren = depth;\n          } catch (e) {}\n        }\n      }\n    };\n\n    this.$foldStyles = {\n      \"manual\": 1,\n      \"markbegin\": 1,\n      \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n\n    this.setFoldStyle = function (style) {\n      if (!this.$foldStyles[style]) throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n      if (this.$foldStyle == style) return;\n      this.$foldStyle = style;\n      if (style == \"manual\") this.unfold();\n      var mode = this.$foldMode;\n      this.$setFolding(null);\n      this.$setFolding(mode);\n    };\n\n    this.$setFolding = function (foldMode) {\n      if (this.$foldMode == foldMode) return;\n      this.$foldMode = foldMode;\n      this.off('change', this.$updateFoldWidgets);\n      this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n\n      this._signal(\"changeAnnotation\");\n\n      if (!foldMode || this.$foldStyle == \"manual\") {\n        this.foldWidgets = null;\n        return;\n      }\n\n      this.foldWidgets = [];\n      this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n      this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n      this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n      this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n      this.on('change', this.$updateFoldWidgets);\n      this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n      var fw = this.foldWidgets;\n      if (!fw || ignoreCurrent && fw[row]) return {};\n      var i = row - 1,\n          firstRange;\n\n      while (i >= 0) {\n        var c = fw[i];\n        if (c == null) c = fw[i] = this.getFoldWidget(i);\n\n        if (c == \"start\") {\n          var range = this.getFoldWidgetRange(i);\n          if (!firstRange) firstRange = range;\n          if (range && range.end.row >= row) break;\n        }\n\n        i--;\n      }\n\n      return {\n        range: i !== -1 && range,\n        firstRange: firstRange\n      };\n    };\n\n    this.onFoldWidgetClick = function (row, e) {\n      e = e.domEvent;\n      var options = {\n        children: e.shiftKey,\n        all: e.ctrlKey || e.metaKey,\n        siblings: e.altKey\n      };\n      var range = this.$toggleFoldWidget(row, options);\n\n      if (!range) {\n        var el = e.target || e.srcElement;\n        if (el && /ace_fold-widget/.test(el.className)) el.className += \" ace_invalid\";\n      }\n    };\n\n    this.$toggleFoldWidget = function (row, options) {\n      if (!this.getFoldWidget) return;\n      var type = this.getFoldWidget(row);\n      var line = this.getLine(row);\n      var dir = type === \"end\" ? -1 : 1;\n      var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n      if (fold) {\n        if (options.children || options.all) this.removeFold(fold);else this.expandFold(fold);\n        return fold;\n      }\n\n      var range = this.getFoldWidgetRange(row, true);\n\n      if (range && !range.isMultiLine()) {\n        fold = this.getFoldAt(range.start.row, range.start.column, 1);\n\n        if (fold && range.isEqual(fold.range)) {\n          this.removeFold(fold);\n          return fold;\n        }\n      }\n\n      if (options.siblings) {\n        var data = this.getParentFoldRangeData(row);\n\n        if (data.range) {\n          var startRow = data.range.start.row + 1;\n          var endRow = data.range.end.row;\n        }\n\n        this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n      } else if (options.children) {\n        endRow = range ? range.end.row : this.getLength();\n        this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n      } else if (range) {\n        if (options.all) range.collapseChildren = 10000;\n        this.addFold(\"...\", range);\n      }\n\n      return range;\n    };\n\n    this.toggleFoldWidget = function (toggleParent) {\n      var row = this.selection.getCursor().row;\n      row = this.getRowFoldStart(row);\n      var range = this.$toggleFoldWidget(row, {});\n      if (range) return;\n      var data = this.getParentFoldRangeData(row, true);\n      range = data.range || data.firstRange;\n\n      if (range) {\n        row = range.start.row;\n        var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n        if (fold) {\n          this.removeFold(fold);\n        } else {\n          this.addFold(\"...\", range);\n        }\n      }\n    };\n\n    this.updateFoldWidgets = function (delta) {\n      var firstRow = delta.start.row;\n      var len = delta.end.row - firstRow;\n\n      if (len === 0) {\n        this.foldWidgets[firstRow] = null;\n      } else if (delta.action == 'remove') {\n        this.foldWidgets.splice(firstRow, len + 1, null);\n      } else {\n        var args = Array(len + 1);\n        args.unshift(firstRow, 1);\n        this.foldWidgets.splice.apply(this.foldWidgets, args);\n      }\n    };\n\n    this.tokenizerUpdateFoldWidgets = function (e) {\n      var rows = e.data;\n\n      if (rows.first != rows.last) {\n        if (this.foldWidgets.length > rows.first) this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n      }\n    };\n  }\n\n  exports.Folding = Folding;\n});\nace.define(\"ace/edit_session/bracket_match\", [\"require\", \"exports\", \"module\", \"ace/token_iterator\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n  var Range = acequire(\"../range\").Range;\n\n  function BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n      if (position.column == 0) return null;\n      var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n      if (charBeforeCursor == \"\") return null;\n      var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n      if (!match) return null;\n      if (match[1]) return this.$findClosingBracket(match[1], position);else return this.$findOpeningBracket(match[2], position);\n    };\n\n    this.getBracketRange = function (pos) {\n      var line = this.getLine(pos.row);\n      var before = true,\n          range;\n      var chr = line.charAt(pos.column - 1);\n      var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n\n      if (!match) {\n        chr = line.charAt(pos.column);\n        pos = {\n          row: pos.row,\n          column: pos.column + 1\n        };\n        match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        before = false;\n      }\n\n      if (!match) return null;\n\n      if (match[1]) {\n        var bracketPos = this.$findClosingBracket(match[1], pos);\n        if (!bracketPos) return null;\n        range = Range.fromPoints(pos, bracketPos);\n\n        if (!before) {\n          range.end.column++;\n          range.start.column--;\n        }\n\n        range.cursor = range.end;\n      } else {\n        var bracketPos = this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos) return null;\n        range = Range.fromPoints(bracketPos, pos);\n\n        if (!before) {\n          range.start.column++;\n          range.end.column--;\n        }\n\n        range.cursor = range.start;\n      }\n\n      return range;\n    };\n\n    this.$brackets = {\n      \")\": \"(\",\n      \"(\": \")\",\n      \"]\": \"[\",\n      \"[\": \"]\",\n      \"{\": \"}\",\n      \"}\": \"{\"\n    };\n\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n      var openBracket = this.$brackets[bracket];\n      var depth = 1;\n      var iterator = new TokenIterator(this, position.row, position.column);\n      var token = iterator.getCurrentToken();\n      if (!token) token = iterator.stepForward();\n      if (!token) return;\n\n      if (!typeRe) {\n        typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\").replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\") + \")+\");\n      }\n\n      var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n      var value = token.value;\n\n      while (true) {\n        while (valueIndex >= 0) {\n          var chr = value.charAt(valueIndex);\n\n          if (chr == openBracket) {\n            depth -= 1;\n\n            if (depth == 0) {\n              return {\n                row: iterator.getCurrentTokenRow(),\n                column: valueIndex + iterator.getCurrentTokenColumn()\n              };\n            }\n          } else if (chr == bracket) {\n            depth += 1;\n          }\n\n          valueIndex -= 1;\n        }\n\n        do {\n          token = iterator.stepBackward();\n        } while (token && !typeRe.test(token.type));\n\n        if (token == null) break;\n        value = token.value;\n        valueIndex = value.length - 1;\n      }\n\n      return null;\n    };\n\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n      var closingBracket = this.$brackets[bracket];\n      var depth = 1;\n      var iterator = new TokenIterator(this, position.row, position.column);\n      var token = iterator.getCurrentToken();\n      if (!token) token = iterator.stepForward();\n      if (!token) return;\n\n      if (!typeRe) {\n        typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\").replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\") + \")+\");\n      }\n\n      var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n      while (true) {\n        var value = token.value;\n        var valueLength = value.length;\n\n        while (valueIndex < valueLength) {\n          var chr = value.charAt(valueIndex);\n\n          if (chr == closingBracket) {\n            depth -= 1;\n\n            if (depth == 0) {\n              return {\n                row: iterator.getCurrentTokenRow(),\n                column: valueIndex + iterator.getCurrentTokenColumn()\n              };\n            }\n          } else if (chr == bracket) {\n            depth += 1;\n          }\n\n          valueIndex += 1;\n        }\n\n        do {\n          token = iterator.stepForward();\n        } while (token && !typeRe.test(token.type));\n\n        if (token == null) break;\n        valueIndex = 0;\n      }\n\n      return null;\n    };\n  }\n\n  exports.BracketMatch = BracketMatch;\n});\nace.define(\"ace/edit_session\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/bidihandler\", \"ace/config\", \"ace/lib/event_emitter\", \"ace/selection\", \"ace/mode/text\", \"ace/range\", \"ace/document\", \"ace/background_tokenizer\", \"ace/search_highlight\", \"ace/edit_session/folding\", \"ace/edit_session/bracket_match\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var lang = acequire(\"./lib/lang\");\n  var BidiHandler = acequire(\"./bidihandler\").BidiHandler;\n  var config = acequire(\"./config\");\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var Selection = acequire(\"./selection\").Selection;\n  var TextMode = acequire(\"./mode/text\").Mode;\n  var Range = acequire(\"./range\").Range;\n  var Document = acequire(\"./document\").Document;\n  var BackgroundTokenizer = acequire(\"./background_tokenizer\").BackgroundTokenizer;\n  var SearchHighlight = acequire(\"./search_highlight\").SearchHighlight;\n\n  var EditSession = function EditSession(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n    this.$foldData = [];\n    this.id = \"session\" + ++EditSession.$uid;\n\n    this.$foldData.toString = function () {\n      return this.join(\"\\n\");\n    };\n\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n    if (typeof text != \"object\" || !text.getLine) text = new Document(text);\n    this.$bidiHandler = new BidiHandler(this);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    config.resetOptions(this);\n    this.setMode(mode);\n\n    config._signal(\"session\", this);\n  };\n\n  EditSession.$uid = 0;\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setDocument = function (doc) {\n      if (this.doc) this.doc.removeListener(\"change\", this.$onChange);\n      this.doc = doc;\n      doc.on(\"change\", this.$onChange);\n      if (this.bgTokenizer) this.bgTokenizer.setDocument(this.getDocument());\n      this.resetCaches();\n    };\n\n    this.getDocument = function () {\n      return this.doc;\n    };\n\n    this.$resetRowCache = function (docRow) {\n      if (!docRow) {\n        this.$docRowCache = [];\n        this.$screenRowCache = [];\n        return;\n      }\n\n      var l = this.$docRowCache.length;\n      var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n\n      if (l > i) {\n        this.$docRowCache.splice(i, l);\n        this.$screenRowCache.splice(i, l);\n      }\n    };\n\n    this.$getRowCacheIndex = function (cacheArray, val) {\n      var low = 0;\n      var hi = cacheArray.length - 1;\n\n      while (low <= hi) {\n        var mid = low + hi >> 1;\n        var c = cacheArray[mid];\n        if (val > c) low = mid + 1;else if (val < c) hi = mid - 1;else return mid;\n      }\n\n      return low - 1;\n    };\n\n    this.resetCaches = function () {\n      this.$modified = true;\n      this.$wrapData = [];\n      this.$rowLengthCache = [];\n      this.$resetRowCache(0);\n      if (this.bgTokenizer) this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function (e) {\n      var fold = e.data;\n      this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function (delta) {\n      this.$modified = true;\n      this.$bidiHandler.onChange(delta);\n      this.$resetRowCache(delta.start.row);\n      var removedFolds = this.$updateInternalDataOnChange(delta);\n\n      if (!this.$fromUndo && this.$undoManager && !delta.ignore) {\n        this.$deltasDoc.push(delta);\n\n        if (removedFolds && removedFolds.length != 0) {\n          this.$deltasFold.push({\n            action: \"removeFolds\",\n            folds: removedFolds\n          });\n        }\n\n        this.$informUndoManager.schedule();\n      }\n\n      this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n\n      this._signal(\"change\", delta);\n    };\n\n    this.setValue = function (text) {\n      this.doc.setValue(text);\n      this.selection.moveTo(0, 0);\n      this.$resetRowCache(0);\n      this.$deltas = [];\n      this.$deltasDoc = [];\n      this.$deltasFold = [];\n      this.setUndoManager(this.$undoManager);\n      this.getUndoManager().reset();\n    };\n\n    this.getValue = this.toString = function () {\n      return this.doc.getValue();\n    };\n\n    this.getSelection = function () {\n      return this.selection;\n    };\n\n    this.getState = function (row) {\n      return this.bgTokenizer.getState(row);\n    };\n\n    this.getTokens = function (row) {\n      return this.bgTokenizer.getTokens(row);\n    };\n\n    this.getTokenAt = function (row, column) {\n      var tokens = this.bgTokenizer.getTokens(row);\n      var token,\n          c = 0;\n\n      if (column == null) {\n        var i = tokens.length - 1;\n        c = this.getLine(row).length;\n      } else {\n        for (var i = 0; i < tokens.length; i++) {\n          c += tokens[i].value.length;\n          if (c >= column) break;\n        }\n      }\n\n      token = tokens[i];\n      if (!token) return null;\n      token.index = i;\n      token.start = c - token.value.length;\n      return token;\n    };\n\n    this.setUndoManager = function (undoManager) {\n      this.$undoManager = undoManager;\n      this.$deltas = [];\n      this.$deltasDoc = [];\n      this.$deltasFold = [];\n      if (this.$informUndoManager) this.$informUndoManager.cancel();\n\n      if (undoManager) {\n        var self = this;\n\n        this.$syncInformUndoManager = function () {\n          self.$informUndoManager.cancel();\n\n          if (self.$deltasFold.length) {\n            self.$deltas.push({\n              group: \"fold\",\n              deltas: self.$deltasFold\n            });\n            self.$deltasFold = [];\n          }\n\n          if (self.$deltasDoc.length) {\n            self.$deltas.push({\n              group: \"doc\",\n              deltas: self.$deltasDoc\n            });\n            self.$deltasDoc = [];\n          }\n\n          if (self.$deltas.length > 0) {\n            undoManager.execute({\n              action: \"aceupdate\",\n              args: [self.$deltas, self],\n              merge: self.mergeUndoDeltas\n            });\n          }\n\n          self.mergeUndoDeltas = false;\n          self.$deltas = [];\n        };\n\n        this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n      }\n    };\n\n    this.markUndoGroup = function () {\n      if (this.$syncInformUndoManager) this.$syncInformUndoManager();\n    };\n\n    this.$defaultUndoManager = {\n      undo: function undo() {},\n      redo: function redo() {},\n      reset: function reset() {}\n    };\n\n    this.getUndoManager = function () {\n      return this.$undoManager || this.$defaultUndoManager;\n    };\n\n    this.getTabString = function () {\n      if (this.getUseSoftTabs()) {\n        return lang.stringRepeat(\" \", this.getTabSize());\n      } else {\n        return \"\\t\";\n      }\n    };\n\n    this.setUseSoftTabs = function (val) {\n      this.setOption(\"useSoftTabs\", val);\n    };\n\n    this.getUseSoftTabs = function () {\n      return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n\n    this.setTabSize = function (tabSize) {\n      this.setOption(\"tabSize\", tabSize);\n    };\n\n    this.getTabSize = function () {\n      return this.$tabSize;\n    };\n\n    this.isTabStop = function (position) {\n      return this.$useSoftTabs && position.column % this.$tabSize === 0;\n    };\n\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n      this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n\n    this.getNavigateWithinSoftTabs = function () {\n      return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n\n    this.setOverwrite = function (overwrite) {\n      this.setOption(\"overwrite\", overwrite);\n    };\n\n    this.getOverwrite = function () {\n      return this.$overwrite;\n    };\n\n    this.toggleOverwrite = function () {\n      this.setOverwrite(!this.$overwrite);\n    };\n\n    this.addGutterDecoration = function (row, className) {\n      if (!this.$decorations[row]) this.$decorations[row] = \"\";\n      this.$decorations[row] += \" \" + className;\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.removeGutterDecoration = function (row, className) {\n      this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.getBreakpoints = function () {\n      return this.$breakpoints;\n    };\n\n    this.setBreakpoints = function (rows) {\n      this.$breakpoints = [];\n\n      for (var i = 0; i < rows.length; i++) {\n        this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n      }\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.clearBreakpoints = function () {\n      this.$breakpoints = [];\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.setBreakpoint = function (row, className) {\n      if (className === undefined) className = \"ace_breakpoint\";\n      if (className) this.$breakpoints[row] = className;else delete this.$breakpoints[row];\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.clearBreakpoint = function (row) {\n      delete this.$breakpoints[row];\n\n      this._signal(\"changeBreakpoint\", {});\n    };\n\n    this.addMarker = function (range, clazz, type, inFront) {\n      var id = this.$markerId++;\n      var marker = {\n        range: range,\n        type: type || \"line\",\n        renderer: typeof type == \"function\" ? type : null,\n        clazz: clazz,\n        inFront: !!inFront,\n        id: id\n      };\n\n      if (inFront) {\n        this.$frontMarkers[id] = marker;\n\n        this._signal(\"changeFrontMarker\");\n      } else {\n        this.$backMarkers[id] = marker;\n\n        this._signal(\"changeBackMarker\");\n      }\n\n      return id;\n    };\n\n    this.addDynamicMarker = function (marker, inFront) {\n      if (!marker.update) return;\n      var id = this.$markerId++;\n      marker.id = id;\n      marker.inFront = !!inFront;\n\n      if (inFront) {\n        this.$frontMarkers[id] = marker;\n\n        this._signal(\"changeFrontMarker\");\n      } else {\n        this.$backMarkers[id] = marker;\n\n        this._signal(\"changeBackMarker\");\n      }\n\n      return marker;\n    };\n\n    this.removeMarker = function (markerId) {\n      var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n      if (!marker) return;\n      var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n\n      if (marker) {\n        delete markers[markerId];\n\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n      }\n    };\n\n    this.getMarkers = function (inFront) {\n      return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function (re) {\n      if (!this.$searchHighlight) {\n        var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n        this.$searchHighlight = this.addDynamicMarker(highlight);\n      }\n\n      this.$searchHighlight.setRegexp(re);\n    };\n\n    this.highlightLines = function (startRow, endRow, clazz, inFront) {\n      if (typeof endRow != \"number\") {\n        clazz = endRow;\n        endRow = startRow;\n      }\n\n      if (!clazz) clazz = \"ace_step\";\n      var range = new Range(startRow, 0, endRow, Infinity);\n      range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n      return range;\n    };\n\n    this.setAnnotations = function (annotations) {\n      this.$annotations = annotations;\n\n      this._signal(\"changeAnnotation\", {});\n    };\n\n    this.getAnnotations = function () {\n      return this.$annotations || [];\n    };\n\n    this.clearAnnotations = function () {\n      this.setAnnotations([]);\n    };\n\n    this.$detectNewLine = function (text) {\n      var match = text.match(/^.*?(\\r?\\n)/m);\n\n      if (match) {\n        this.$autoNewLine = match[1];\n      } else {\n        this.$autoNewLine = \"\\n\";\n      }\n    };\n\n    this.getWordRange = function (row, column) {\n      var line = this.getLine(row);\n      var inToken = false;\n      if (column > 0) inToken = !!line.charAt(column - 1).match(this.tokenRe);\n      if (!inToken) inToken = !!line.charAt(column).match(this.tokenRe);\n      if (inToken) var re = this.tokenRe;else if (/^\\s+$/.test(line.slice(column - 1, column + 1))) var re = /\\s/;else var re = this.nonTokenRe;\n      var start = column;\n\n      if (start > 0) {\n        do {\n          start--;\n        } while (start >= 0 && line.charAt(start).match(re));\n\n        start++;\n      }\n\n      var end = column;\n\n      while (end < line.length && line.charAt(end).match(re)) {\n        end++;\n      }\n\n      return new Range(row, start, row, end);\n    };\n\n    this.getAWordRange = function (row, column) {\n      var wordRange = this.getWordRange(row, column);\n      var line = this.getLine(wordRange.end.row);\n\n      while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n        wordRange.end.column += 1;\n      }\n\n      return wordRange;\n    };\n\n    this.setNewLineMode = function (newLineMode) {\n      this.doc.setNewLineMode(newLineMode);\n    };\n\n    this.getNewLineMode = function () {\n      return this.doc.getNewLineMode();\n    };\n\n    this.setUseWorker = function (useWorker) {\n      this.setOption(\"useWorker\", useWorker);\n    };\n\n    this.getUseWorker = function () {\n      return this.$useWorker;\n    };\n\n    this.onReloadTokenizer = function (e) {\n      var rows = e.data;\n      this.bgTokenizer.start(rows.first);\n\n      this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = {};\n    this.$mode = null;\n    this.$modeId = null;\n\n    this.setMode = function (mode, cb) {\n      if (mode && typeof mode === \"object\") {\n        if (mode.getTokenizer) return this.$onChangeMode(mode);\n        var options = mode;\n        var path = options.path;\n      } else {\n        path = mode || \"ace/mode/text\";\n      }\n\n      if (!this.$modes[\"ace/mode/text\"]) this.$modes[\"ace/mode/text\"] = new TextMode();\n\n      if (this.$modes[path] && !options) {\n        this.$onChangeMode(this.$modes[path]);\n        cb && cb();\n        return;\n      }\n\n      this.$modeId = path;\n      config.loadModule([\"mode\", path], function (m) {\n        if (this.$modeId !== path) return cb && cb();\n\n        if (this.$modes[path] && !options) {\n          this.$onChangeMode(this.$modes[path]);\n        } else if (m && m.Mode) {\n          m = new m.Mode(options);\n\n          if (!options) {\n            this.$modes[path] = m;\n            m.$id = path;\n          }\n\n          this.$onChangeMode(m);\n        }\n\n        cb && cb();\n      }.bind(this));\n      if (!this.$mode) this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function (mode, $isPlaceholder) {\n      if (!$isPlaceholder) this.$modeId = mode.$id;\n      if (this.$mode === mode) return;\n      this.$mode = mode;\n      this.$stopWorker();\n      if (this.$useWorker) this.$startWorker();\n      var tokenizer = mode.getTokenizer();\n\n      if (tokenizer.addEventListener !== undefined) {\n        var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n        tokenizer.addEventListener(\"update\", onReloadTokenizer);\n      }\n\n      if (!this.bgTokenizer) {\n        this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n\n        var _self = this;\n\n        this.bgTokenizer.addEventListener(\"update\", function (e) {\n          _self._signal(\"tokenizerUpdate\", e);\n        });\n      } else {\n        this.bgTokenizer.setTokenizer(tokenizer);\n      }\n\n      this.bgTokenizer.setDocument(this.getDocument());\n      this.tokenRe = mode.tokenRe;\n      this.nonTokenRe = mode.nonTokenRe;\n\n      if (!$isPlaceholder) {\n        if (mode.attachToSession) mode.attachToSession(this);\n        this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n        this.$setFolding(mode.foldingRules);\n        this.bgTokenizer.start(0);\n\n        this._emit(\"changeMode\");\n      }\n    };\n\n    this.$stopWorker = function () {\n      if (this.$worker) {\n        this.$worker.terminate();\n        this.$worker = null;\n      }\n    };\n\n    this.$startWorker = function () {\n      try {\n        this.$worker = this.$mode.createWorker(this);\n      } catch (e) {\n        config.warn(\"Could not load worker\", e);\n        this.$worker = null;\n      }\n    };\n\n    this.getMode = function () {\n      return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n\n    this.setScrollTop = function (scrollTop) {\n      if (this.$scrollTop === scrollTop || isNaN(scrollTop)) return;\n      this.$scrollTop = scrollTop;\n\n      this._signal(\"changeScrollTop\", scrollTop);\n    };\n\n    this.getScrollTop = function () {\n      return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n\n    this.setScrollLeft = function (scrollLeft) {\n      if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft)) return;\n      this.$scrollLeft = scrollLeft;\n\n      this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n\n    this.getScrollLeft = function () {\n      return this.$scrollLeft;\n    };\n\n    this.getScreenWidth = function () {\n      this.$computeWidth();\n      if (this.lineWidgets) return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n      return this.screenWidth;\n    };\n\n    this.getLineWidgetMaxWidth = function () {\n      if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n      var width = 0;\n      this.lineWidgets.forEach(function (w) {\n        if (w && w.screenWidth > width) width = w.screenWidth;\n      });\n      return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function (force) {\n      if (this.$modified || force) {\n        this.$modified = false;\n        if (this.$useWrapMode) return this.screenWidth = this.$wrapLimit;\n        var lines = this.doc.getAllLines();\n        var cache = this.$rowLengthCache;\n        var longestScreenLine = 0;\n        var foldIndex = 0;\n        var foldLine = this.$foldData[foldIndex];\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        var len = lines.length;\n\n        for (var i = 0; i < len; i++) {\n          if (i > foldStart) {\n            i = foldLine.end.row + 1;\n            if (i >= len) break;\n            foldLine = this.$foldData[foldIndex++];\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n\n          if (cache[i] == null) cache[i] = this.$getStringScreenWidth(lines[i])[0];\n          if (cache[i] > longestScreenLine) longestScreenLine = cache[i];\n        }\n\n        this.screenWidth = longestScreenLine;\n      }\n    };\n\n    this.getLine = function (row) {\n      return this.doc.getLine(row);\n    };\n\n    this.getLines = function (firstRow, lastRow) {\n      return this.doc.getLines(firstRow, lastRow);\n    };\n\n    this.getLength = function () {\n      return this.doc.getLength();\n    };\n\n    this.getTextRange = function (range) {\n      return this.doc.getTextRange(range || this.selection.getRange());\n    };\n\n    this.insert = function (position, text) {\n      return this.doc.insert(position, text);\n    };\n\n    this.remove = function (range) {\n      return this.doc.remove(range);\n    };\n\n    this.removeFullLines = function (firstRow, lastRow) {\n      return this.doc.removeFullLines(firstRow, lastRow);\n    };\n\n    this.undoChanges = function (deltas, dontSelect) {\n      if (!deltas.length) return;\n      this.$fromUndo = true;\n      var lastUndoRange = null;\n\n      for (var i = deltas.length - 1; i != -1; i--) {\n        var delta = deltas[i];\n\n        if (delta.group == \"doc\") {\n          this.doc.revertDeltas(delta.deltas);\n          lastUndoRange = this.$getUndoSelection(delta.deltas, true, lastUndoRange);\n        } else {\n          delta.deltas.forEach(function (foldDelta) {\n            this.addFolds(foldDelta.folds);\n          }, this);\n        }\n      }\n\n      this.$fromUndo = false;\n      lastUndoRange && this.$undoSelect && !dontSelect && this.selection.setSelectionRange(lastUndoRange);\n      return lastUndoRange;\n    };\n\n    this.redoChanges = function (deltas, dontSelect) {\n      if (!deltas.length) return;\n      this.$fromUndo = true;\n      var lastUndoRange = null;\n\n      for (var i = 0; i < deltas.length; i++) {\n        var delta = deltas[i];\n\n        if (delta.group == \"doc\") {\n          this.doc.applyDeltas(delta.deltas);\n          lastUndoRange = this.$getUndoSelection(delta.deltas, false, lastUndoRange);\n        }\n      }\n\n      this.$fromUndo = false;\n      lastUndoRange && this.$undoSelect && !dontSelect && this.selection.setSelectionRange(lastUndoRange);\n      return lastUndoRange;\n    };\n\n    this.setUndoSelect = function (enable) {\n      this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function (deltas, isUndo, lastUndoRange) {\n      function isInsert(delta) {\n        return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n      }\n\n      var delta = deltas[0];\n      var range, point;\n      var lastDeltaIsInsert = false;\n\n      if (isInsert(delta)) {\n        range = Range.fromPoints(delta.start, delta.end);\n        lastDeltaIsInsert = true;\n      } else {\n        range = Range.fromPoints(delta.start, delta.start);\n        lastDeltaIsInsert = false;\n      }\n\n      for (var i = 1; i < deltas.length; i++) {\n        delta = deltas[i];\n\n        if (isInsert(delta)) {\n          point = delta.start;\n\n          if (range.compare(point.row, point.column) == -1) {\n            range.setStart(point);\n          }\n\n          point = delta.end;\n\n          if (range.compare(point.row, point.column) == 1) {\n            range.setEnd(point);\n          }\n\n          lastDeltaIsInsert = true;\n        } else {\n          point = delta.start;\n\n          if (range.compare(point.row, point.column) == -1) {\n            range = Range.fromPoints(delta.start, delta.start);\n          }\n\n          lastDeltaIsInsert = false;\n        }\n      }\n\n      if (lastUndoRange != null) {\n        if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {\n          lastUndoRange.start.column += range.end.column - range.start.column;\n          lastUndoRange.end.column += range.end.column - range.start.column;\n        }\n\n        var cmp = lastUndoRange.compareRange(range);\n\n        if (cmp == 1) {\n          range.setStart(lastUndoRange.start);\n        } else if (cmp == -1) {\n          range.setEnd(lastUndoRange.end);\n        }\n      }\n\n      return range;\n    };\n\n    this.replace = function (range, text) {\n      return this.doc.replace(range, text);\n    };\n\n    this.moveText = function (fromRange, toPosition, copy) {\n      var text = this.getTextRange(fromRange);\n      var folds = this.getFoldsInRange(fromRange);\n      var toRange = Range.fromPoints(toPosition, toPosition);\n\n      if (!copy) {\n        this.remove(fromRange);\n        var rowDiff = fromRange.start.row - fromRange.end.row;\n        var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n\n        if (collDiff) {\n          if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column) toRange.start.column += collDiff;\n          if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column) toRange.end.column += collDiff;\n        }\n\n        if (rowDiff && toRange.start.row >= fromRange.end.row) {\n          toRange.start.row += rowDiff;\n          toRange.end.row += rowDiff;\n        }\n      }\n\n      toRange.end = this.insert(toRange.start, text);\n\n      if (folds.length) {\n        var oldStart = fromRange.start;\n        var newStart = toRange.start;\n        var rowDiff = newStart.row - oldStart.row;\n        var collDiff = newStart.column - oldStart.column;\n        this.addFolds(folds.map(function (x) {\n          x = x.clone();\n          if (x.start.row == oldStart.row) x.start.column += collDiff;\n          if (x.end.row == oldStart.row) x.end.column += collDiff;\n          x.start.row += rowDiff;\n          x.end.row += rowDiff;\n          return x;\n        }));\n      }\n\n      return toRange;\n    };\n\n    this.indentRows = function (startRow, endRow, indentString) {\n      indentString = indentString.replace(/\\t/g, this.getTabString());\n\n      for (var row = startRow; row <= endRow; row++) {\n        this.doc.insertInLine({\n          row: row,\n          column: 0\n        }, indentString);\n      }\n    };\n\n    this.outdentRows = function (range) {\n      var rowRange = range.collapseRows();\n      var deleteRange = new Range(0, 0, 0, 0);\n      var size = this.getTabSize();\n\n      for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n        var line = this.getLine(i);\n        deleteRange.start.row = i;\n        deleteRange.end.row = i;\n\n        for (var j = 0; j < size; ++j) {\n          if (line.charAt(j) != ' ') break;\n        }\n\n        if (j < size && line.charAt(j) == '\\t') {\n          deleteRange.start.column = j;\n          deleteRange.end.column = j + 1;\n        } else {\n          deleteRange.start.column = 0;\n          deleteRange.end.column = j;\n        }\n\n        this.remove(deleteRange);\n      }\n    };\n\n    this.$moveLines = function (firstRow, lastRow, dir) {\n      firstRow = this.getRowFoldStart(firstRow);\n      lastRow = this.getRowFoldEnd(lastRow);\n\n      if (dir < 0) {\n        var row = this.getRowFoldStart(firstRow + dir);\n        if (row < 0) return 0;\n        var diff = row - firstRow;\n      } else if (dir > 0) {\n        var row = this.getRowFoldEnd(lastRow + dir);\n        if (row > this.doc.getLength() - 1) return 0;\n        var diff = row - lastRow;\n      } else {\n        firstRow = this.$clipRowToDocument(firstRow);\n        lastRow = this.$clipRowToDocument(lastRow);\n        var diff = lastRow - firstRow + 1;\n      }\n\n      var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n      var folds = this.getFoldsInRange(range).map(function (x) {\n        x = x.clone();\n        x.start.row += diff;\n        x.end.row += diff;\n        return x;\n      });\n      var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);\n      this.doc.insertFullLines(firstRow + diff, lines);\n      folds.length && this.addFolds(folds);\n      return diff;\n    };\n\n    this.moveLinesUp = function (firstRow, lastRow) {\n      return this.$moveLines(firstRow, lastRow, -1);\n    };\n\n    this.moveLinesDown = function (firstRow, lastRow) {\n      return this.$moveLines(firstRow, lastRow, 1);\n    };\n\n    this.duplicateLines = function (firstRow, lastRow) {\n      return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n    this.$clipRowToDocument = function (row) {\n      return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n\n    this.$clipColumnToRow = function (row, column) {\n      if (column < 0) return 0;\n      return Math.min(this.doc.getLine(row).length, column);\n    };\n\n    this.$clipPositionToDocument = function (row, column) {\n      column = Math.max(0, column);\n\n      if (row < 0) {\n        row = 0;\n        column = 0;\n      } else {\n        var len = this.doc.getLength();\n\n        if (row >= len) {\n          row = len - 1;\n          column = this.doc.getLine(len - 1).length;\n        } else {\n          column = Math.min(this.doc.getLine(row).length, column);\n        }\n      }\n\n      return {\n        row: row,\n        column: column\n      };\n    };\n\n    this.$clipRangeToDocument = function (range) {\n      if (range.start.row < 0) {\n        range.start.row = 0;\n        range.start.column = 0;\n      } else {\n        range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n      }\n\n      var len = this.doc.getLength() - 1;\n\n      if (range.end.row > len) {\n        range.end.row = len;\n        range.end.column = this.doc.getLine(len).length;\n      } else {\n        range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n      }\n\n      return range;\n    };\n\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n      min: null,\n      max: null\n    };\n\n    this.setUseWrapMode = function (useWrapMode) {\n      if (useWrapMode != this.$useWrapMode) {\n        this.$useWrapMode = useWrapMode;\n        this.$modified = true;\n        this.$resetRowCache(0);\n\n        if (useWrapMode) {\n          var len = this.getLength();\n          this.$wrapData = Array(len);\n          this.$updateWrapData(0, len - 1);\n        }\n\n        this._signal(\"changeWrapMode\");\n      }\n    };\n\n    this.getUseWrapMode = function () {\n      return this.$useWrapMode;\n    };\n\n    this.setWrapLimitRange = function (min, max) {\n      if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n        this.$wrapLimitRange = {\n          min: min,\n          max: max\n        };\n        this.$modified = true;\n        this.$bidiHandler.markAsDirty();\n        if (this.$useWrapMode) this._signal(\"changeWrapMode\");\n      }\n    };\n\n    this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n      var limits = this.$wrapLimitRange;\n      if (limits.max < 0) limits = {\n        min: $printMargin,\n        max: $printMargin\n      };\n      var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n\n      if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n        this.$wrapLimit = wrapLimit;\n        this.$modified = true;\n\n        if (this.$useWrapMode) {\n          this.$updateWrapData(0, this.getLength() - 1);\n          this.$resetRowCache(0);\n\n          this._signal(\"changeWrapLimit\");\n        }\n\n        return true;\n      }\n\n      return false;\n    };\n\n    this.$constrainWrapLimit = function (wrapLimit, min, max) {\n      if (min) wrapLimit = Math.max(min, wrapLimit);\n      if (max) wrapLimit = Math.min(max, wrapLimit);\n      return wrapLimit;\n    };\n\n    this.getWrapLimit = function () {\n      return this.$wrapLimit;\n    };\n\n    this.setWrapLimit = function (limit) {\n      this.setWrapLimitRange(limit, limit);\n    };\n\n    this.getWrapLimitRange = function () {\n      return {\n        min: this.$wrapLimitRange.min,\n        max: this.$wrapLimitRange.max\n      };\n    };\n\n    this.$updateInternalDataOnChange = function (delta) {\n      var useWrapMode = this.$useWrapMode;\n      var action = delta.action;\n      var start = delta.start;\n      var end = delta.end;\n      var firstRow = start.row;\n      var lastRow = end.row;\n      var len = lastRow - firstRow;\n      var removedFolds = null;\n      this.$updating = true;\n\n      if (len != 0) {\n        if (action === \"remove\") {\n          this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n          var foldLines = this.$foldData;\n          removedFolds = this.getFoldsInRange(delta);\n          this.removeFolds(removedFolds);\n          var foldLine = this.getFoldLine(end.row);\n          var idx = 0;\n\n          if (foldLine) {\n            foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n            foldLine.shiftRow(-len);\n            var foldLineBefore = this.getFoldLine(firstRow);\n\n            if (foldLineBefore && foldLineBefore !== foldLine) {\n              foldLineBefore.merge(foldLine);\n              foldLine = foldLineBefore;\n            }\n\n            idx = foldLines.indexOf(foldLine) + 1;\n          }\n\n          for (idx; idx < foldLines.length; idx++) {\n            var foldLine = foldLines[idx];\n\n            if (foldLine.start.row >= end.row) {\n              foldLine.shiftRow(-len);\n            }\n          }\n\n          lastRow = firstRow;\n        } else {\n          var args = Array(len);\n          args.unshift(firstRow, 0);\n          var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n          arr.splice.apply(arr, args);\n          var foldLines = this.$foldData;\n          var foldLine = this.getFoldLine(firstRow);\n          var idx = 0;\n\n          if (foldLine) {\n            var cmp = foldLine.range.compareInside(start.row, start.column);\n\n            if (cmp == 0) {\n              foldLine = foldLine.split(start.row, start.column);\n\n              if (foldLine) {\n                foldLine.shiftRow(len);\n                foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n              }\n            } else if (cmp == -1) {\n              foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n              foldLine.shiftRow(len);\n            }\n\n            idx = foldLines.indexOf(foldLine) + 1;\n          }\n\n          for (idx; idx < foldLines.length; idx++) {\n            var foldLine = foldLines[idx];\n\n            if (foldLine.start.row >= firstRow) {\n              foldLine.shiftRow(len);\n            }\n          }\n        }\n      } else {\n        len = Math.abs(delta.start.column - delta.end.column);\n\n        if (action === \"remove\") {\n          removedFolds = this.getFoldsInRange(delta);\n          this.removeFolds(removedFolds);\n          len = -len;\n        }\n\n        var foldLine = this.getFoldLine(firstRow);\n\n        if (foldLine) {\n          foldLine.addRemoveChars(firstRow, start.column, len);\n        }\n      }\n\n      if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n        console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n      }\n\n      this.$updating = false;\n      if (useWrapMode) this.$updateWrapData(firstRow, lastRow);else this.$updateRowLengthCache(firstRow, lastRow);\n      return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n      this.$rowLengthCache[firstRow] = null;\n      this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function (firstRow, lastRow) {\n      var lines = this.doc.getAllLines();\n      var tabSize = this.getTabSize();\n      var wrapData = this.$wrapData;\n      var wrapLimit = this.$wrapLimit;\n      var tokens;\n      var foldLine;\n      var row = firstRow;\n      lastRow = Math.min(lastRow, lines.length - 1);\n\n      while (row <= lastRow) {\n        foldLine = this.getFoldLine(row, foldLine);\n\n        if (!foldLine) {\n          tokens = this.$getDisplayTokens(lines[row]);\n          wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n          row++;\n        } else {\n          tokens = [];\n          foldLine.walk(function (placeholder, row, column, lastColumn) {\n            var walkTokens;\n\n            if (placeholder != null) {\n              walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n              walkTokens[0] = PLACEHOLDER_START;\n\n              for (var i = 1; i < walkTokens.length; i++) {\n                walkTokens[i] = PLACEHOLDER_BODY;\n              }\n            } else {\n              walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n            }\n\n            tokens = tokens.concat(walkTokens);\n          }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n          wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n          row = foldLine.end.row + 1;\n        }\n      }\n    };\n\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY = 4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n    this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n      if (tokens.length == 0) {\n        return [];\n      }\n\n      var splits = [];\n      var displayLength = tokens.length;\n      var lastSplit = 0,\n          lastDocSplit = 0;\n      var isCode = this.$wrapAsCode;\n      var indentedSoftWrap = this.$indentedSoftWrap;\n      var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n      function getWrapIndent() {\n        var indentation = 0;\n        if (maxIndent === 0) return indentation;\n\n        if (indentedSoftWrap) {\n          for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (token == SPACE) indentation += 1;else if (token == TAB) indentation += tabSize;else if (token == TAB_SPACE) continue;else break;\n          }\n        }\n\n        if (isCode && indentedSoftWrap !== false) indentation += tabSize;\n        return Math.min(indentation, maxIndent);\n      }\n\n      function addSplit(screenPos) {\n        var displayed = tokens.slice(lastSplit, screenPos);\n        var len = displayed.length;\n        displayed.join(\"\").replace(/12/g, function () {\n          len -= 1;\n        }).replace(/2/g, function () {\n          len -= 1;\n        });\n\n        if (!splits.length) {\n          indent = getWrapIndent();\n          splits.indent = indent;\n        }\n\n        lastDocSplit += len;\n        splits.push(lastDocSplit);\n        lastSplit = screenPos;\n      }\n\n      var indent = 0;\n\n      while (displayLength - lastSplit > wrapLimit - indent) {\n        var split = lastSplit + wrapLimit - indent;\n\n        if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n          addSplit(split);\n          continue;\n        }\n\n        if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n          for (split; split != lastSplit - 1; split--) {\n            if (tokens[split] == PLACEHOLDER_START) {\n              break;\n            }\n          }\n\n          if (split > lastSplit) {\n            addSplit(split);\n            continue;\n          }\n\n          split = lastSplit + wrapLimit;\n\n          for (split; split < tokens.length; split++) {\n            if (tokens[split] != PLACEHOLDER_BODY) {\n              break;\n            }\n          }\n\n          if (split == tokens.length) {\n            break; // Breaks the while-loop.\n          }\n\n          addSplit(split);\n          continue;\n        }\n\n        var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n\n        while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n          split--;\n        }\n\n        if (isCode) {\n          while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n            split--;\n          }\n\n          while (split > minSplit && tokens[split] == PUNCTUATION) {\n            split--;\n          }\n        } else {\n          while (split > minSplit && tokens[split] < SPACE) {\n            split--;\n          }\n        }\n\n        if (split > minSplit) {\n          addSplit(++split);\n          continue;\n        }\n\n        split = lastSplit + wrapLimit;\n        if (tokens[split] == CHAR_EXT) split--;\n        addSplit(split - indent);\n      }\n\n      return splits;\n    };\n\n    this.$getDisplayTokens = function (str, offset) {\n      var arr = [];\n      var tabSize;\n      offset = offset || 0;\n\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n\n        if (c == 9) {\n          tabSize = this.getScreenTabSize(arr.length + offset);\n          arr.push(TAB);\n\n          for (var n = 1; n < tabSize; n++) {\n            arr.push(TAB_SPACE);\n          }\n        } else if (c == 32) {\n          arr.push(SPACE);\n        } else if (c > 39 && c < 48 || c > 57 && c < 64) {\n          arr.push(PUNCTUATION);\n        } else if (c >= 0x1100 && isFullWidth(c)) {\n          arr.push(CHAR, CHAR_EXT);\n        } else {\n          arr.push(CHAR);\n        }\n      }\n\n      return arr;\n    };\n\n    this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n      if (maxScreenColumn == 0) return [0, 0];\n      if (maxScreenColumn == null) maxScreenColumn = Infinity;\n      screenColumn = screenColumn || 0;\n      var c, column;\n\n      for (column = 0; column < str.length; column++) {\n        c = str.charCodeAt(column);\n\n        if (c == 9) {\n          screenColumn += this.getScreenTabSize(screenColumn);\n        } else if (c >= 0x1100 && isFullWidth(c)) {\n          screenColumn += 2;\n        } else {\n          screenColumn += 1;\n        }\n\n        if (screenColumn > maxScreenColumn) {\n          break;\n        }\n      }\n\n      return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n\n    this.getRowLength = function (row) {\n      if (this.lineWidgets) var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n\n      if (!this.$useWrapMode || !this.$wrapData[row]) {\n        return 1 + h;\n      } else {\n        return this.$wrapData[row].length + 1 + h;\n      }\n    };\n\n    this.getRowLineCount = function (row) {\n      if (!this.$useWrapMode || !this.$wrapData[row]) {\n        return 1;\n      } else {\n        return this.$wrapData[row].length + 1;\n      }\n    };\n\n    this.getRowWrapIndent = function (screenRow) {\n      if (this.$useWrapMode) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        var splits = this.$wrapData[pos.row];\n        return splits.length && splits[0] < pos.column ? splits.indent : 0;\n      } else {\n        return 0;\n      }\n    };\n\n    this.getScreenLastRowColumn = function (screenRow) {\n      var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n      return this.documentToScreenColumn(pos.row, pos.column);\n    };\n\n    this.getDocumentLastRowColumn = function (docRow, docColumn) {\n      var screenRow = this.documentToScreenRow(docRow, docColumn);\n      return this.getScreenLastRowColumn(screenRow);\n    };\n\n    this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n      var screenRow = this.documentToScreenRow(docRow, docColumn);\n      return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n\n    this.getRowSplitData = function (row) {\n      if (!this.$useWrapMode) {\n        return undefined;\n      } else {\n        return this.$wrapData[row];\n      }\n    };\n\n    this.getScreenTabSize = function (screenColumn) {\n      return this.$tabSize - screenColumn % this.$tabSize;\n    };\n\n    this.screenToDocumentRow = function (screenRow, screenColumn) {\n      return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n    this.screenToDocumentColumn = function (screenRow, screenColumn) {\n      return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n\n    this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n      if (screenRow < 0) return {\n        row: 0,\n        column: 0\n      };\n      var line;\n      var docRow = 0;\n      var docColumn = 0;\n      var column;\n      var row = 0;\n      var rowLength = 0;\n      var rowCache = this.$screenRowCache;\n      var i = this.$getRowCacheIndex(rowCache, screenRow);\n      var l = rowCache.length;\n\n      if (l && i >= 0) {\n        var row = rowCache[i];\n        var docRow = this.$docRowCache[i];\n        var doCache = screenRow > rowCache[l - 1];\n      } else {\n        var doCache = !l;\n      }\n\n      var maxRow = this.getLength() - 1;\n      var foldLine = this.getNextFoldLine(docRow);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (row <= screenRow) {\n        rowLength = this.getRowLength(docRow);\n\n        if (row + rowLength > screenRow || docRow >= maxRow) {\n          break;\n        } else {\n          row += rowLength;\n          docRow++;\n\n          if (docRow > foldStart) {\n            docRow = foldLine.end.row + 1;\n            foldLine = this.getNextFoldLine(docRow, foldLine);\n            foldStart = foldLine ? foldLine.start.row : Infinity;\n          }\n        }\n\n        if (doCache) {\n          this.$docRowCache.push(docRow);\n          this.$screenRowCache.push(row);\n        }\n      }\n\n      if (foldLine && foldLine.start.row <= docRow) {\n        line = this.getFoldDisplayLine(foldLine);\n        docRow = foldLine.start.row;\n      } else if (row + rowLength <= screenRow || docRow > maxRow) {\n        return {\n          row: maxRow,\n          column: this.getLine(maxRow).length\n        };\n      } else {\n        line = this.getLine(docRow);\n        foldLine = null;\n      }\n\n      var wrapIndent = 0,\n          splitIndex = Math.floor(screenRow - row);\n\n      if (this.$useWrapMode) {\n        var splits = this.$wrapData[docRow];\n\n        if (splits) {\n          column = splits[splitIndex];\n\n          if (splitIndex > 0 && splits.length) {\n            wrapIndent = splits.indent;\n            docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n            line = line.substring(docColumn);\n          }\n        }\n      }\n\n      if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex)) screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n      docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n      if (this.$useWrapMode && docColumn >= column) docColumn = column - 1;\n      if (foldLine) return foldLine.idxToPosition(docColumn);\n      return {\n        row: docRow,\n        column: docColumn\n      };\n    };\n\n    this.documentToScreenPosition = function (docRow, docColumn) {\n      if (typeof docColumn === \"undefined\") var pos = this.$clipPositionToDocument(docRow.row, docRow.column);else pos = this.$clipPositionToDocument(docRow, docColumn);\n      docRow = pos.row;\n      docColumn = pos.column;\n      var screenRow = 0;\n      var foldStartRow = null;\n      var fold = null;\n      fold = this.getFoldAt(docRow, docColumn, 1);\n\n      if (fold) {\n        docRow = fold.start.row;\n        docColumn = fold.start.column;\n      }\n\n      var rowEnd,\n          row = 0;\n      var rowCache = this.$docRowCache;\n      var i = this.$getRowCacheIndex(rowCache, docRow);\n      var l = rowCache.length;\n\n      if (l && i >= 0) {\n        var row = rowCache[i];\n        var screenRow = this.$screenRowCache[i];\n        var doCache = docRow > rowCache[l - 1];\n      } else {\n        var doCache = !l;\n      }\n\n      var foldLine = this.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (row < docRow) {\n        if (row >= foldStart) {\n          rowEnd = foldLine.end.row + 1;\n          if (rowEnd > docRow) break;\n          foldLine = this.getNextFoldLine(rowEnd, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        } else {\n          rowEnd = row + 1;\n        }\n\n        screenRow += this.getRowLength(row);\n        row = rowEnd;\n\n        if (doCache) {\n          this.$docRowCache.push(row);\n          this.$screenRowCache.push(screenRow);\n        }\n      }\n\n      var textLine = \"\";\n\n      if (foldLine && row >= foldStart) {\n        textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n        foldStartRow = foldLine.start.row;\n      } else {\n        textLine = this.getLine(docRow).substring(0, docColumn);\n        foldStartRow = docRow;\n      }\n\n      var wrapIndent = 0;\n\n      if (this.$useWrapMode) {\n        var wrapRow = this.$wrapData[foldStartRow];\n\n        if (wrapRow) {\n          var screenRowOffset = 0;\n\n          while (textLine.length >= wrapRow[screenRowOffset]) {\n            screenRow++;\n            screenRowOffset++;\n          }\n\n          textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n          wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n        }\n      }\n\n      return {\n        row: screenRow,\n        column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n      };\n    };\n\n    this.documentToScreenColumn = function (row, docColumn) {\n      return this.documentToScreenPosition(row, docColumn).column;\n    };\n\n    this.documentToScreenRow = function (docRow, docColumn) {\n      return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n\n    this.getScreenLength = function () {\n      var screenRows = 0;\n      var fold = null;\n\n      if (!this.$useWrapMode) {\n        screenRows = this.getLength();\n        var foldData = this.$foldData;\n\n        for (var i = 0; i < foldData.length; i++) {\n          fold = foldData[i];\n          screenRows -= fold.end.row - fold.start.row;\n        }\n      } else {\n        var lastRow = this.$wrapData.length;\n        var row = 0,\n            i = 0;\n        var fold = this.$foldData[i++];\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        while (row < lastRow) {\n          var splits = this.$wrapData[row];\n          screenRows += splits ? splits.length + 1 : 1;\n          row++;\n\n          if (row > foldStart) {\n            row = fold.end.row + 1;\n            fold = this.$foldData[i++];\n            foldStart = fold ? fold.start.row : Infinity;\n          }\n        }\n      }\n\n      if (this.lineWidgets) screenRows += this.$getWidgetScreenLength();\n      return screenRows;\n    };\n\n    this.$setFontMetrics = function (fm) {\n      if (!this.$enableVarChar) return;\n\n      this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn === 0) return [0, 0];\n        if (!maxScreenColumn) maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n\n        for (column = 0; column < str.length; column++) {\n          c = str.charAt(column);\n\n          if (c === \"\\t\") {\n            screenColumn += this.getScreenTabSize(screenColumn);\n          } else {\n            screenColumn += fm.getCharacterWidth(c);\n          }\n\n          if (screenColumn > maxScreenColumn) {\n            break;\n          }\n        }\n\n        return [screenColumn, column];\n      };\n    };\n\n    this.destroy = function () {\n      if (this.bgTokenizer) {\n        this.bgTokenizer.setDocument(null);\n        this.bgTokenizer = null;\n      }\n\n      this.$stopWorker();\n    };\n\n    this.isFullWidth = isFullWidth;\n\n    function isFullWidth(c) {\n      if (c < 0x1100) return false;\n      return c >= 0x1100 && c <= 0x115F || c >= 0x11A3 && c <= 0x11A7 || c >= 0x11FA && c <= 0x11FF || c >= 0x2329 && c <= 0x232A || c >= 0x2E80 && c <= 0x2E99 || c >= 0x2E9B && c <= 0x2EF3 || c >= 0x2F00 && c <= 0x2FD5 || c >= 0x2FF0 && c <= 0x2FFB || c >= 0x3000 && c <= 0x303E || c >= 0x3041 && c <= 0x3096 || c >= 0x3099 && c <= 0x30FF || c >= 0x3105 && c <= 0x312D || c >= 0x3131 && c <= 0x318E || c >= 0x3190 && c <= 0x31BA || c >= 0x31C0 && c <= 0x31E3 || c >= 0x31F0 && c <= 0x321E || c >= 0x3220 && c <= 0x3247 || c >= 0x3250 && c <= 0x32FE || c >= 0x3300 && c <= 0x4DBF || c >= 0x4E00 && c <= 0xA48C || c >= 0xA490 && c <= 0xA4C6 || c >= 0xA960 && c <= 0xA97C || c >= 0xAC00 && c <= 0xD7A3 || c >= 0xD7B0 && c <= 0xD7C6 || c >= 0xD7CB && c <= 0xD7FB || c >= 0xF900 && c <= 0xFAFF || c >= 0xFE10 && c <= 0xFE19 || c >= 0xFE30 && c <= 0xFE52 || c >= 0xFE54 && c <= 0xFE66 || c >= 0xFE68 && c <= 0xFE6B || c >= 0xFF01 && c <= 0xFF60 || c >= 0xFFE0 && c <= 0xFFE6;\n    }\n  }).call(EditSession.prototype);\n  acequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\n  acequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n  config.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n      set: function set(value) {\n        if (!value || value == \"off\") value = false;else if (value == \"free\") value = true;else if (value == \"printMargin\") value = -1;else if (typeof value == \"string\") value = parseInt(value, 10) || false;\n        if (this.$wrap == value) return;\n        this.$wrap = value;\n\n        if (!value) {\n          this.setUseWrapMode(false);\n        } else {\n          var col = typeof value == \"number\" ? value : null;\n          this.setWrapLimitRange(col, col);\n          this.setUseWrapMode(true);\n        }\n      },\n      get: function get() {\n        if (this.getUseWrapMode()) {\n          if (this.$wrap == -1) return \"printMargin\";\n          if (!this.getWrapLimitRange().min) return \"free\";\n          return this.$wrap;\n        }\n\n        return \"off\";\n      },\n      handlesSet: true\n    },\n    wrapMethod: {\n      set: function set(val) {\n        val = val == \"auto\" ? this.$mode.type != \"text\" : val != \"text\";\n\n        if (val != this.$wrapAsCode) {\n          this.$wrapAsCode = val;\n\n          if (this.$useWrapMode) {\n            this.$modified = true;\n            this.$resetRowCache(0);\n            this.$updateWrapData(0, this.getLength() - 1);\n          }\n        }\n      },\n      initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n      initialValue: true\n    },\n    firstLineNumber: {\n      set: function set() {\n        this._signal(\"changeBreakpoint\");\n      },\n      initialValue: 1\n    },\n    useWorker: {\n      set: function set(useWorker) {\n        this.$useWorker = useWorker;\n        this.$stopWorker();\n        if (useWorker) this.$startWorker();\n      },\n      initialValue: true\n    },\n    useSoftTabs: {\n      initialValue: true\n    },\n    tabSize: {\n      set: function set(tabSize) {\n        if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n        this.$modified = true;\n        this.$rowLengthCache = [];\n        this.$tabSize = tabSize;\n\n        this._signal(\"changeTabSize\");\n      },\n      initialValue: 4,\n      handlesSet: true\n    },\n    navigateWithinSoftTabs: {\n      initialValue: false\n    },\n    overwrite: {\n      set: function set(val) {\n        this._signal(\"changeOverwrite\");\n      },\n      initialValue: false\n    },\n    newLineMode: {\n      set: function set(val) {\n        this.doc.setNewLineMode(val);\n      },\n      get: function get() {\n        return this.doc.getNewLineMode();\n      },\n      handlesSet: true\n    },\n    mode: {\n      set: function set(val) {\n        this.setMode(val);\n      },\n      get: function get() {\n        return this.$modeId;\n      }\n    }\n  });\n  exports.EditSession = EditSession;\n});\nace.define(\"ace/search\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var lang = acequire(\"./lib/lang\");\n  var oop = acequire(\"./lib/oop\");\n  var Range = acequire(\"./range\").Range;\n\n  var Search = function Search() {\n    this.$options = {};\n  };\n\n  (function () {\n    this.set = function (options) {\n      oop.mixin(this.$options, options);\n      return this;\n    };\n\n    this.getOptions = function () {\n      return lang.copyObject(this.$options);\n    };\n\n    this.setOptions = function (options) {\n      this.$options = options;\n    };\n\n    this.find = function (session) {\n      var options = this.$options;\n      var iterator = this.$matchIterator(session, options);\n      if (!iterator) return false;\n      var firstRange = null;\n      iterator.forEach(function (sr, sc, er, ec) {\n        firstRange = new Range(sr, sc, er, ec);\n\n        if (sc == ec && options.start && options.start.start && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n          firstRange = null;\n          return false;\n        }\n\n        return true;\n      });\n      return firstRange;\n    };\n\n    this.findAll = function (session) {\n      var options = this.$options;\n      if (!options.needle) return [];\n      this.$assembleRegExp(options);\n      var range = options.range;\n      var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();\n      var ranges = [];\n      var re = options.re;\n\n      if (options.$isMultiLine) {\n        var len = re.length;\n        var maxRow = lines.length - len;\n        var prevRange;\n\n        outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n          for (var j = 0; j < len; j++) {\n            if (lines[row + j].search(re[j]) == -1) continue outer;\n          }\n\n          var startLine = lines[row];\n          var line = lines[row + len - 1];\n          var startIndex = startLine.length - startLine.match(re[0])[0].length;\n          var endIndex = line.match(re[len - 1])[0].length;\n\n          if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {\n            continue;\n          }\n\n          ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n          if (len > 2) row = row + len - 2;\n        }\n      } else {\n        for (var i = 0; i < lines.length; i++) {\n          var matches = lang.getMatchOffsets(lines[i], re);\n\n          for (var j = 0; j < matches.length; j++) {\n            var match = matches[j];\n            ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n          }\n        }\n      }\n\n      if (range) {\n        var startColumn = range.start.column;\n        var endColumn = range.start.column;\n        var i = 0,\n            j = ranges.length - 1;\n\n        while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row) {\n          i++;\n        }\n\n        while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row) {\n          j--;\n        }\n\n        ranges = ranges.slice(i, j + 1);\n\n        for (i = 0, j = ranges.length; i < j; i++) {\n          ranges[i].start.row += range.start.row;\n          ranges[i].end.row += range.start.row;\n        }\n      }\n\n      return ranges;\n    };\n\n    this.replace = function (input, replacement) {\n      var options = this.$options;\n      var re = this.$assembleRegExp(options);\n      if (options.$isMultiLine) return replacement;\n      if (!re) return;\n      var match = re.exec(input);\n      if (!match || match[0].length != input.length) return null;\n      replacement = input.replace(re, replacement);\n\n      if (options.preserveCase) {\n        replacement = replacement.split(\"\");\n\n        for (var i = Math.min(input.length, input.length); i--;) {\n          var ch = input[i];\n          if (ch && ch.toLowerCase() != ch) replacement[i] = replacement[i].toUpperCase();else replacement[i] = replacement[i].toLowerCase();\n        }\n\n        replacement = replacement.join(\"\");\n      }\n\n      return replacement;\n    };\n\n    this.$assembleRegExp = function (options, $disableFakeMultiline) {\n      if (options.needle instanceof RegExp) return options.re = options.needle;\n      var needle = options.needle;\n      if (!options.needle) return options.re = false;\n      if (!options.regExp) needle = lang.escapeRegExp(needle);\n      if (options.wholeWord) needle = addWordBoundary(needle, options);\n      var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n      options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n      if (options.$isMultiLine) return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n      try {\n        var re = new RegExp(needle, modifier);\n      } catch (e) {\n        re = false;\n      }\n\n      return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function (needle, modifier) {\n      var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n      var re = [];\n\n      for (var i = 0; i < parts.length; i++) {\n        try {\n          re.push(new RegExp(parts[i], modifier));\n        } catch (e) {\n          return false;\n        }\n      }\n\n      return re;\n    };\n\n    this.$matchIterator = function (session, options) {\n      var re = this.$assembleRegExp(options);\n      if (!re) return false;\n      var backwards = options.backwards == true;\n      var skipCurrent = options.skipCurrent != false;\n      var range = options.range;\n      var start = options.start;\n      if (!start) start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n      if (start.start) start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n      var firstRow = range ? range.start.row : 0;\n      var lastRow = range ? range.end.row : session.getLength() - 1;\n\n      if (backwards) {\n        var forEach = function forEach(callback) {\n          var row = start.row;\n          if (forEachInLine(row, start.column, callback)) return;\n\n          for (row--; row >= firstRow; row--) {\n            if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n          }\n\n          if (options.wrap == false) return;\n\n          for (row = lastRow, firstRow = start.row; row >= firstRow; row--) {\n            if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n          }\n        };\n      } else {\n        var forEach = function forEach(callback) {\n          var row = start.row;\n          if (forEachInLine(row, start.column, callback)) return;\n\n          for (row = row + 1; row <= lastRow; row++) {\n            if (forEachInLine(row, 0, callback)) return;\n          }\n\n          if (options.wrap == false) return;\n\n          for (row = firstRow, lastRow = start.row; row <= lastRow; row++) {\n            if (forEachInLine(row, 0, callback)) return;\n          }\n        };\n      }\n\n      if (options.$isMultiLine) {\n        var len = re.length;\n\n        var forEachInLine = function forEachInLine(row, offset, callback) {\n          var startRow = backwards ? row - len + 1 : row;\n          if (startRow < 0) return;\n          var line = session.getLine(startRow);\n          var startIndex = line.search(re[0]);\n          if (!backwards && startIndex < offset || startIndex === -1) return;\n\n          for (var i = 1; i < len; i++) {\n            line = session.getLine(startRow + i);\n            if (line.search(re[i]) == -1) return;\n          }\n\n          var endIndex = line.match(re[len - 1])[0].length;\n          if (backwards && endIndex > offset) return;\n          if (callback(startRow, startIndex, startRow + len - 1, endIndex)) return true;\n        };\n      } else if (backwards) {\n        var forEachInLine = function forEachInLine(row, endIndex, callback) {\n          var line = session.getLine(row);\n          var matches = [];\n          var m,\n              last = 0;\n          re.lastIndex = 0;\n\n          while (m = re.exec(line)) {\n            var length = m[0].length;\n            last = m.index;\n\n            if (!length) {\n              if (last >= line.length) break;\n              re.lastIndex = last += 1;\n            }\n\n            if (m.index + length > endIndex) break;\n            matches.push(m.index, length);\n          }\n\n          for (var i = matches.length - 1; i >= 0; i -= 2) {\n            var column = matches[i - 1];\n            var length = matches[i];\n            if (callback(row, column, row, column + length)) return true;\n          }\n        };\n      } else {\n        var forEachInLine = function forEachInLine(row, startIndex, callback) {\n          var line = session.getLine(row);\n          var m;\n          var last = startIndex;\n          re.lastIndex = startIndex;\n\n          while (m = re.exec(line)) {\n            var length = m[0].length;\n            last = m.index;\n            if (callback(row, last, row, last + length)) return true;\n\n            if (!length) {\n              re.lastIndex = last += 1;\n              if (last >= line.length) return false;\n            }\n          }\n        };\n      }\n\n      return {\n        forEach: forEach\n      };\n    };\n  }).call(Search.prototype);\n\n  function addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n      if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n      return \"\";\n    }\n\n    return wordBoundary(needle[0]) + needle + wordBoundary(needle[needle.length - 1]);\n  }\n\n  exports.Search = Search;\n});\nace.define(\"ace/keyboard/hash_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var keyUtil = acequire(\"../lib/keys\");\n  var useragent = acequire(\"../lib/useragent\");\n  var KEY_MODS = keyUtil.KEY_MODS;\n\n  function HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n  }\n\n  function MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n  }\n\n  MultiHashHandler.prototype = HashHandler.prototype;\n  (function () {\n    this.addCommand = function (command) {\n      if (this.commands[command.name]) this.removeCommand(command);\n      this.commands[command.name] = command;\n      if (command.bindKey) this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function (command, keepCommand) {\n      var name = command && (typeof command === 'string' ? command : command.name);\n      command = this.commands[name];\n      if (!keepCommand) delete this.commands[name];\n      var ckb = this.commandKeyBinding;\n\n      for (var keyId in ckb) {\n        var cmdGroup = ckb[keyId];\n\n        if (cmdGroup == command) {\n          delete ckb[keyId];\n        } else if (Array.isArray(cmdGroup)) {\n          var i = cmdGroup.indexOf(command);\n\n          if (i != -1) {\n            cmdGroup.splice(i, 1);\n            if (cmdGroup.length == 1) ckb[keyId] = cmdGroup[0];\n          }\n        }\n      }\n    };\n\n    this.bindKey = function (key, command, position) {\n      if (typeof key == \"object\" && key) {\n        if (position == undefined) position = key.position;\n        key = key[this.platform];\n      }\n\n      if (!key) return;\n      if (typeof command == \"function\") return this.addCommand({\n        exec: command,\n        bindKey: key,\n        name: command.name || key\n      });\n      key.split(\"|\").forEach(function (keyPart) {\n        var chain = \"\";\n\n        if (keyPart.indexOf(\" \") != -1) {\n          var parts = keyPart.split(/\\s+/);\n          keyPart = parts.pop();\n          parts.forEach(function (keyPart) {\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            chain += (chain ? \" \" : \"\") + id;\n\n            this._addCommandToBinding(chain, \"chainKeys\");\n          }, this);\n          chain += \" \";\n        }\n\n        var binding = this.parseKeys(keyPart);\n        var id = KEY_MODS[binding.hashId] + binding.key;\n\n        this._addCommandToBinding(chain + id, command, position);\n      }, this);\n    };\n\n    function getPosition(command) {\n      return typeof command == \"object\" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);\n    }\n\n    this._addCommandToBinding = function (keyId, command, position) {\n      var ckb = this.commandKeyBinding,\n          i;\n\n      if (!command) {\n        delete ckb[keyId];\n      } else if (!ckb[keyId] || this.$singleCommand) {\n        ckb[keyId] = command;\n      } else {\n        if (!Array.isArray(ckb[keyId])) {\n          ckb[keyId] = [ckb[keyId]];\n        } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n          ckb[keyId].splice(i, 1);\n        }\n\n        if (typeof position != \"number\") {\n          position = getPosition(command);\n        }\n\n        var commands = ckb[keyId];\n\n        for (i = 0; i < commands.length; i++) {\n          var other = commands[i];\n          var otherPos = getPosition(other);\n          if (otherPos > position) break;\n        }\n\n        commands.splice(i, 0, command);\n      }\n    };\n\n    this.addCommands = function (commands) {\n      commands && Object.keys(commands).forEach(function (name) {\n        var command = commands[name];\n        if (!command) return;\n        if (typeof command === \"string\") return this.bindKey(command, name);\n        if (typeof command === \"function\") command = {\n          exec: command\n        };\n        if (typeof command !== \"object\") return;\n        if (!command.name) command.name = name;\n        this.addCommand(command);\n      }, this);\n    };\n\n    this.removeCommands = function (commands) {\n      Object.keys(commands).forEach(function (name) {\n        this.removeCommand(commands[name]);\n      }, this);\n    };\n\n    this.bindKeys = function (keyList) {\n      Object.keys(keyList).forEach(function (key) {\n        this.bindKey(key, keyList[key]);\n      }, this);\n    };\n\n    this._buildKeyHash = function (command) {\n      this.bindKey(command.bindKey, command);\n    };\n\n    this.parseKeys = function (keys) {\n      var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) {\n        return x;\n      });\n      var key = parts.pop();\n      var keyCode = keyUtil[key];\n      if (keyUtil.FUNCTION_KEYS[keyCode]) key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else if (!parts.length) return {\n        key: key,\n        hashId: -1\n      };else if (parts.length == 1 && parts[0] == \"shift\") return {\n        key: key.toUpperCase(),\n        hashId: -1\n      };\n      var hashId = 0;\n\n      for (var i = parts.length; i--;) {\n        var modifier = keyUtil.KEY_MODS[parts[i]];\n\n        if (modifier == null) {\n          if (typeof console != \"undefined\") console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n          return false;\n        }\n\n        hashId |= modifier;\n      }\n\n      return {\n        key: key,\n        hashId: hashId\n      };\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n      var key = KEY_MODS[hashId] + keyString;\n      return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n      if (keyCode < 0) return;\n      var key = KEY_MODS[hashId] + keyString;\n      var command = this.commandKeyBinding[key];\n\n      if (data.$keyChain) {\n        data.$keyChain += \" \" + key;\n        command = this.commandKeyBinding[data.$keyChain] || command;\n      }\n\n      if (command) {\n        if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n          data.$keyChain = data.$keyChain || key;\n          return {\n            command: \"null\"\n          };\n        }\n      }\n\n      if (data.$keyChain) {\n        if ((!hashId || hashId == 4) && keyString.length == 1) data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n        else if (hashId == -1 || keyCode > 0) data.$keyChain = \"\"; // reset keyChain\n      }\n\n      return {\n        command: command\n      };\n    };\n\n    this.getStatusText = function (editor, data) {\n      return data.$keyChain || \"\";\n    };\n  }).call(HashHandler.prototype);\n  exports.HashHandler = HashHandler;\n  exports.MultiHashHandler = MultiHashHandler;\n});\nace.define(\"ace/commands/command_manager\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/keyboard/hash_handler\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"../lib/oop\");\n  var MultiHashHandler = acequire(\"../keyboard/hash_handler\").MultiHashHandler;\n  var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n  var CommandManager = function CommandManager(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function (e) {\n      return e.command.exec(e.editor, e.args || {});\n    });\n  };\n\n  oop.inherits(CommandManager, MultiHashHandler);\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.exec = function (command, editor, args) {\n      if (Array.isArray(command)) {\n        for (var i = command.length; i--;) {\n          if (this.exec(command[i], editor, args)) return true;\n        }\n\n        return false;\n      }\n\n      if (typeof command === \"string\") command = this.commands[command];\n      if (!command) return false;\n      if (editor && editor.$readOnly && !command.readOnly) return false;\n      if (command.isAvailable && !command.isAvailable(editor)) return false;\n      var e = {\n        editor: editor,\n        command: command,\n        args: args\n      };\n      e.returnValue = this._emit(\"exec\", e);\n\n      this._signal(\"afterExec\", e);\n\n      return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function (editor) {\n      if (this.$inReplay) return;\n      editor && editor._emit(\"changeStatus\");\n\n      if (this.recording) {\n        this.macro.pop();\n        this.removeEventListener(\"exec\", this.$addCommandToMacro);\n        if (!this.macro.length) this.macro = this.oldMacro;\n        return this.recording = false;\n      }\n\n      if (!this.$addCommandToMacro) {\n        this.$addCommandToMacro = function (e) {\n          this.macro.push([e.command, e.args]);\n        }.bind(this);\n      }\n\n      this.oldMacro = this.macro;\n      this.macro = [];\n      this.on(\"exec\", this.$addCommandToMacro);\n      return this.recording = true;\n    };\n\n    this.replay = function (editor) {\n      if (this.$inReplay || !this.macro) return;\n      if (this.recording) return this.toggleRecording(editor);\n\n      try {\n        this.$inReplay = true;\n        this.macro.forEach(function (x) {\n          if (typeof x == \"string\") this.exec(x, editor);else this.exec(x[0], editor, x[1]);\n        }, this);\n      } finally {\n        this.$inReplay = false;\n      }\n    };\n\n    this.trimMacro = function (m) {\n      return m.map(function (x) {\n        if (typeof x[0] != \"string\") x[0] = x[0].name;\n        if (!x[1]) x = x[0];\n        return x;\n      });\n    };\n  }).call(CommandManager.prototype);\n  exports.CommandManager = CommandManager;\n});\nace.define(\"ace/commands/default_commands\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/config\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var lang = acequire(\"../lib/lang\");\n  var config = acequire(\"../config\");\n  var Range = acequire(\"../range\").Range;\n\n  function bindKey(win, mac) {\n    return {\n      win: win,\n      mac: mac\n    };\n  }\n\n  exports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/settings_menu\", function (module) {\n        module.init(editor);\n        editor.showSettingsMenu();\n      });\n    },\n    readOnly: true\n  }, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/error_marker\", function (module) {\n        module.showErrorMarker(editor, 1);\n      });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/error_marker\", function (module) {\n        module.showErrorMarker(editor, -1);\n      });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"selectall\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function exec(editor) {\n      editor.selectAll();\n    },\n    readOnly: true\n  }, {\n    name: \"centerselection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function exec(editor) {\n      editor.centerSelection();\n    },\n    readOnly: true\n  }, {\n    name: \"gotoline\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function exec(editor) {\n      var line = parseInt(prompt(\"Enter line number:\"), 10);\n\n      if (!isNaN(line)) {\n        editor.gotoLine(line);\n      }\n    },\n    readOnly: true\n  }, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function exec(editor) {\n      editor.session.toggleFold(false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function exec(editor) {\n      editor.session.toggleFold(true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function exec(editor) {\n      editor.session.toggleFoldWidget();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function exec(editor) {\n      editor.session.toggleFoldWidget(true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"foldall\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function exec(editor) {\n      editor.session.foldAll();\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"foldOther\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function exec(editor) {\n      editor.session.foldAll();\n      editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"unfoldall\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function exec(editor) {\n      editor.session.unfold();\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"findnext\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function exec(editor) {\n      editor.findNext();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"findprevious\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function exec(editor) {\n      editor.findPrevious();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n  }, {\n    name: \"selectOrFindNext\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function exec(editor) {\n      if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findNext();\n    },\n    readOnly: true\n  }, {\n    name: \"selectOrFindPrevious\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function exec(editor) {\n      if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findPrevious();\n    },\n    readOnly: true\n  }, {\n    name: \"find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/searchbox\", function (e) {\n        e.Search(editor);\n      });\n    },\n    readOnly: true\n  }, {\n    name: \"overwrite\",\n    bindKey: \"Insert\",\n    exec: function exec(editor) {\n      editor.toggleOverwrite();\n    },\n    readOnly: true\n  }, {\n    name: \"selecttostart\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectFileStart();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"gotostart\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function exec(editor) {\n      editor.navigateFileStart();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"selectup\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"golineup\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function exec(editor, args) {\n      editor.navigateUp(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selecttoend\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectFileEnd();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"gotoend\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function exec(editor) {\n      editor.navigateFileEnd();\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n  }, {\n    name: \"selectdown\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectDown();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"golinedown\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function exec(editor, args) {\n      editor.navigateDown(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectwordleft\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectWordLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotowordleft\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function exec(editor) {\n      editor.navigateWordLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selecttolinestart\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotolinestart\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function exec(editor) {\n      editor.navigateLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectleft\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotoleft\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function exec(editor, args) {\n      editor.navigateLeft(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectwordright\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectWordRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotowordright\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function exec(editor) {\n      editor.navigateWordRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selecttolineend\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotolineend\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function exec(editor) {\n      editor.navigateLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectright\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function exec(editor) {\n      editor.getSelection().selectRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"gotoright\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function exec(editor, args) {\n      editor.navigateRight(args.times);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectpagedown\",\n    bindKey: \"Shift-PageDown\",\n    exec: function exec(editor) {\n      editor.selectPageDown();\n    },\n    readOnly: true\n  }, {\n    name: \"pagedown\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function exec(editor) {\n      editor.scrollPageDown();\n    },\n    readOnly: true\n  }, {\n    name: \"gotopagedown\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function exec(editor) {\n      editor.gotoPageDown();\n    },\n    readOnly: true\n  }, {\n    name: \"selectpageup\",\n    bindKey: \"Shift-PageUp\",\n    exec: function exec(editor) {\n      editor.selectPageUp();\n    },\n    readOnly: true\n  }, {\n    name: \"pageup\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function exec(editor) {\n      editor.scrollPageUp();\n    },\n    readOnly: true\n  }, {\n    name: \"gotopageup\",\n    bindKey: \"PageUp\",\n    exec: function exec(editor) {\n      editor.gotoPageUp();\n    },\n    readOnly: true\n  }, {\n    name: \"scrollup\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function exec(e) {\n      e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);\n    },\n    readOnly: true\n  }, {\n    name: \"scrolldown\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function exec(e) {\n      e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);\n    },\n    readOnly: true\n  }, {\n    name: \"selectlinestart\",\n    bindKey: \"Shift-Home\",\n    exec: function exec(editor) {\n      editor.getSelection().selectLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectlineend\",\n    bindKey: \"Shift-End\",\n    exec: function exec(editor) {\n      editor.getSelection().selectLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"togglerecording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function exec(editor) {\n      editor.commands.toggleRecording(editor);\n    },\n    readOnly: true\n  }, {\n    name: \"replaymacro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function exec(editor) {\n      editor.commands.replay(editor);\n    },\n    readOnly: true\n  }, {\n    name: \"jumptomatching\",\n    bindKey: bindKey(\"Ctrl-P\", \"Ctrl-P\"),\n    exec: function exec(editor) {\n      editor.jumpToMatching();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"selecttomatching\",\n    bindKey: bindKey(\"Ctrl-Shift-P\", \"Ctrl-Shift-P\"),\n    exec: function exec(editor) {\n      editor.jumpToMatching(true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"expandToMatching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function exec(editor) {\n      editor.jumpToMatching(true, true);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n  }, {\n    name: \"passKeysToBrowser\",\n    bindKey: bindKey(null, null),\n    exec: function exec() {},\n    passEvent: true,\n    readOnly: true\n  }, {\n    name: \"copy\",\n    exec: function exec(editor) {},\n    readOnly: true\n  }, {\n    name: \"cut\",\n    exec: function exec(editor) {\n      var range = editor.getSelectionRange();\n\n      editor._emit(\"cut\", range);\n\n      if (!editor.selection.isEmpty()) {\n        editor.session.remove(range);\n        editor.clearSelection();\n      }\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"paste\",\n    exec: function exec(editor, args) {\n      editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removeline\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function exec(editor) {\n      editor.removeLines();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n  }, {\n    name: \"duplicateSelection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function exec(editor) {\n      editor.duplicateSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"sortlines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function exec(editor) {\n      editor.sortLines();\n    },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n  }, {\n    name: \"togglecomment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function exec(editor) {\n      editor.toggleCommentLines();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"toggleBlockComment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function exec(editor) {\n      editor.toggleBlockComment();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"modifyNumberUp\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function exec(editor) {\n      editor.modifyNumber(1);\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"modifyNumberDown\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function exec(editor) {\n      editor.modifyNumber(-1);\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n  }, {\n    name: \"replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function exec(editor) {\n      config.loadModule(\"ace/ext/searchbox\", function (e) {\n        e.Search(editor, true);\n      });\n    }\n  }, {\n    name: \"undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function exec(editor) {\n      editor.undo();\n    }\n  }, {\n    name: \"redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function exec(editor) {\n      editor.redo();\n    }\n  }, {\n    name: \"copylinesup\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function exec(editor) {\n      editor.copyLinesUp();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"movelinesup\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function exec(editor) {\n      editor.moveLinesUp();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"copylinesdown\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function exec(editor) {\n      editor.copyLinesDown();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"movelinesdown\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function exec(editor) {\n      editor.moveLinesDown();\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"del\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function exec(editor) {\n      editor.remove(\"right\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"backspace\",\n    bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n    exec: function exec(editor) {\n      editor.remove(\"left\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"cut_or_delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function exec(editor) {\n      if (editor.selection.isEmpty()) {\n        editor.remove(\"left\");\n      } else {\n        return false;\n      }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolinestart\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function exec(editor) {\n      editor.removeToLineStart();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolineend\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function exec(editor) {\n      editor.removeToLineEnd();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolinestarthard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function exec(editor) {\n      var range = editor.selection.getRange();\n      range.start.column = 0;\n      editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removetolineendhard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function exec(editor) {\n      var range = editor.selection.getRange();\n      range.end.column = Number.MAX_VALUE;\n      editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removewordleft\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function exec(editor) {\n      editor.removeWordLeft();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"removewordright\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function exec(editor) {\n      editor.removeWordRight();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function exec(editor) {\n      editor.blockOutdent();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function exec(editor) {\n      editor.indent();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"blockoutdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function exec(editor) {\n      editor.blockOutdent();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"blockindent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function exec(editor) {\n      editor.blockIndent();\n    },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n  }, {\n    name: \"insertstring\",\n    exec: function exec(editor, str) {\n      editor.insert(str);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"inserttext\",\n    exec: function exec(editor, args) {\n      editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"splitline\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function exec(editor) {\n      editor.splitLine();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"transposeletters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function exec(editor) {\n      editor.transposeLetters();\n    },\n    multiSelectAction: function multiSelectAction(editor) {\n      editor.transposeSelections(1);\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"touppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function exec(editor) {\n      editor.toUpperCase();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"tolowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function exec(editor) {\n      editor.toLowerCase();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"expandtoline\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function exec(editor) {\n      var range = editor.selection.getRange();\n      range.start.column = range.end.column = 0;\n      range.end.row++;\n      editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"joinlines\",\n    bindKey: bindKey(null, null),\n    exec: function exec(editor) {\n      var isBackwards = editor.selection.isBackwards();\n      var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n      var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n      var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n      var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n      var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n      var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n      for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n        var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n\n        if (curLine.length !== 0) {\n          curLine = \" \" + curLine;\n        }\n\n        insertLine += curLine;\n      }\n\n      if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {\n        insertLine += editor.session.doc.getNewLineCharacter();\n      }\n\n      editor.clearSelection();\n      editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n      if (selectedCount > 0) {\n        editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n        editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n      } else {\n        firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;\n        editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n      }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n  }, {\n    name: \"invertSelection\",\n    bindKey: bindKey(null, null),\n    exec: function exec(editor) {\n      var endRow = editor.session.doc.getLength() - 1;\n      var endCol = editor.session.doc.getLine(endRow).length;\n      var ranges = editor.selection.rangeList.ranges;\n      var newRanges = [];\n\n      if (ranges.length < 1) {\n        ranges = [editor.selection.getRange()];\n      }\n\n      for (var i = 0; i < ranges.length; i++) {\n        if (i == ranges.length - 1) {\n          if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n            newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n          }\n        }\n\n        if (i === 0) {\n          if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n            newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n          }\n        } else {\n          newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n        }\n      }\n\n      editor.exitMultiSelectMode();\n      editor.clearSelection();\n\n      for (var i = 0; i < newRanges.length; i++) {\n        editor.selection.addRange(newRanges[i], false);\n      }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n  }];\n});\nace.define(\"ace/editor\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/keyboard/textinput\", \"ace/mouse/mouse_handler\", \"ace/mouse/fold_handler\", \"ace/keyboard/keybinding\", \"ace/edit_session\", \"ace/search\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/commands/command_manager\", \"ace/commands/default_commands\", \"ace/config\", \"ace/token_iterator\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  acequire(\"./lib/fixoldbrowsers\");\n  var oop = acequire(\"./lib/oop\");\n  var dom = acequire(\"./lib/dom\");\n  var lang = acequire(\"./lib/lang\");\n  var useragent = acequire(\"./lib/useragent\");\n  var TextInput = acequire(\"./keyboard/textinput\").TextInput;\n  var MouseHandler = acequire(\"./mouse/mouse_handler\").MouseHandler;\n  var FoldHandler = acequire(\"./mouse/fold_handler\").FoldHandler;\n  var KeyBinding = acequire(\"./keyboard/keybinding\").KeyBinding;\n  var EditSession = acequire(\"./edit_session\").EditSession;\n  var Search = acequire(\"./search\").Search;\n  var Range = acequire(\"./range\").Range;\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var CommandManager = acequire(\"./commands/command_manager\").CommandManager;\n  var defaultCommands = acequire(\"./commands/default_commands\").commands;\n  var config = acequire(\"./config\");\n  var TokenIterator = acequire(\"./token_iterator\").TokenIterator;\n\n  var Editor = function Editor(renderer, session) {\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + ++Editor.$uid;\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n\n    if (typeof document == \"object\") {\n      this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n      this.renderer.textarea = this.textInput.getElement();\n      this.$mouseHandler = new MouseHandler(this);\n      new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n    this.$blockScrolling = 0;\n    this.$search = new Search().set({\n      wrap: true\n    });\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n    this.$initOperationListeners();\n    this._$emitInputEvent = lang.delayedCall(function () {\n      this._signal(\"input\", {});\n\n      if (this.session && this.session.bgTokenizer) this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    this.on(\"change\", function (_, _self) {\n      _self._$emitInputEvent.schedule(31);\n    });\n    this.setSession(session || new EditSession(\"\"));\n    config.resetOptions(this);\n\n    config._signal(\"editor\", this);\n  };\n\n  Editor.$uid = 0;\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function () {\n      function last(a) {\n        return a[a.length - 1];\n      }\n\n      this.selections = [];\n      this.commands.on(\"exec\", this.startOperation.bind(this), true);\n      this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n      this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));\n      this.on(\"change\", function () {\n        this.curOp || this.startOperation();\n        this.curOp.docChanged = true;\n      }.bind(this), true);\n      this.on(\"changeSelection\", function () {\n        this.curOp || this.startOperation();\n        this.curOp.selectionChanged = true;\n      }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n\n    this.startOperation = function (commadEvent) {\n      if (this.curOp) {\n        if (!commadEvent || this.curOp.command) return;\n        this.prevOp = this.curOp;\n      }\n\n      if (!commadEvent) {\n        this.previousCommand = null;\n        commadEvent = {};\n      }\n\n      this.$opResetTimer.schedule();\n      this.curOp = {\n        command: commadEvent.command || {},\n        args: commadEvent.args,\n        scrollTop: this.renderer.scrollTop\n      };\n      if (this.curOp.command.name && this.curOp.command.scrollIntoView !== undefined) this.$blockScrolling++;\n    };\n\n    this.endOperation = function (e) {\n      if (this.curOp) {\n        if (e && e.returnValue === false) return this.curOp = null;\n\n        this._signal(\"beforeEndOperation\");\n\n        var command = this.curOp.command;\n        if (command.name && this.$blockScrolling > 0) this.$blockScrolling--;\n        var scrollIntoView = command && command.scrollIntoView;\n\n        if (scrollIntoView) {\n          switch (scrollIntoView) {\n            case \"center-animate\":\n              scrollIntoView = \"animate\";\n\n            case \"center\":\n              this.renderer.scrollCursorIntoView(null, 0.5);\n              break;\n\n            case \"animate\":\n            case \"cursor\":\n              this.renderer.scrollCursorIntoView();\n              break;\n\n            case \"selectionPart\":\n              var range = this.selection.getRange();\n              var config = this.renderer.layerConfig;\n\n              if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n              }\n\n              break;\n\n            default:\n              break;\n          }\n\n          if (scrollIntoView == \"animate\") this.renderer.animateScrolling(this.curOp.scrollTop);\n        }\n\n        this.prevOp = this.curOp;\n        this.curOp = null;\n      }\n    };\n\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n\n    this.$historyTracker = function (e) {\n      if (!this.$mergeUndoDeltas) return;\n      var prev = this.prevOp;\n      var mergeableCommands = this.$mergeableCommands;\n      var shouldMerge = prev.command && e.command.name == prev.command.name;\n\n      if (e.command.name == \"insertstring\") {\n        var text = e.args;\n        if (this.mergeNextCommand === undefined) this.mergeNextCommand = true;\n        shouldMerge = shouldMerge && this.mergeNextCommand // previous command allows to coalesce with\n        && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n        this.mergeNextCommand = true;\n      } else {\n        shouldMerge = shouldMerge && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n      }\n\n      if (this.$mergeUndoDeltas != \"always\" && Date.now() - this.sequenceStartTime > 2000) {\n        shouldMerge = false; // the sequence is too long\n      }\n\n      if (shouldMerge) this.session.mergeUndoDeltas = true;else if (mergeableCommands.indexOf(e.command.name) !== -1) this.sequenceStartTime = Date.now();\n    };\n\n    this.setKeyboardHandler = function (keyboardHandler, cb) {\n      if (keyboardHandler && typeof keyboardHandler === \"string\") {\n        this.$keybindingId = keyboardHandler;\n\n        var _self = this;\n\n        config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n          if (_self.$keybindingId == keyboardHandler) _self.keyBinding.setKeyboardHandler(module && module.handler);\n          cb && cb();\n        });\n      } else {\n        this.$keybindingId = null;\n        this.keyBinding.setKeyboardHandler(keyboardHandler);\n        cb && cb();\n      }\n    };\n\n    this.getKeyboardHandler = function () {\n      return this.keyBinding.getKeyboardHandler();\n    };\n\n    this.setSession = function (session) {\n      if (this.session == session) return;\n      if (this.curOp) this.endOperation();\n      this.curOp = {};\n      var oldSession = this.session;\n\n      if (oldSession) {\n        this.session.off(\"change\", this.$onDocumentChange);\n        this.session.off(\"changeMode\", this.$onChangeMode);\n        this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n        this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n        this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n        this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n        this.session.off(\"changeFold\", this.$onChangeFold);\n        this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n        this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n        this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n        this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n        this.session.off(\"changeOverwrite\", this.$onCursorChange);\n        this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n        this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n        var selection = this.session.getSelection();\n        selection.off(\"changeCursor\", this.$onCursorChange);\n        selection.off(\"changeSelection\", this.$onSelectionChange);\n      }\n\n      this.session = session;\n\n      if (session) {\n        this.$onDocumentChange = this.onDocumentChange.bind(this);\n        session.on(\"change\", this.$onDocumentChange);\n        this.renderer.setSession(session);\n        this.$onChangeMode = this.onChangeMode.bind(this);\n        session.on(\"changeMode\", this.$onChangeMode);\n        this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n        session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n        this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n        session.on(\"changeTabSize\", this.$onChangeTabSize);\n        this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n        session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n        this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n        session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n        this.$onChangeFold = this.onChangeFold.bind(this);\n        session.on(\"changeFold\", this.$onChangeFold);\n        this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n        this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n        this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n        this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n        this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n        this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n        this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n        this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n        this.$onCursorChange = this.onCursorChange.bind(this);\n        this.session.on(\"changeOverwrite\", this.$onCursorChange);\n        this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n        this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n        this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n        this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n        this.selection = session.getSelection();\n        this.selection.on(\"changeCursor\", this.$onCursorChange);\n        this.$onSelectionChange = this.onSelectionChange.bind(this);\n        this.selection.on(\"changeSelection\", this.$onSelectionChange);\n        this.onChangeMode();\n        this.$blockScrolling += 1;\n        this.onCursorChange();\n        this.$blockScrolling -= 1;\n        this.onScrollTopChange();\n        this.onScrollLeftChange();\n        this.onSelectionChange();\n        this.onChangeFrontMarker();\n        this.onChangeBackMarker();\n        this.onChangeBreakpoint();\n        this.onChangeAnnotation();\n        this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n        this.renderer.updateFull();\n      } else {\n        this.selection = null;\n        this.renderer.setSession(session);\n      }\n\n      this._signal(\"changeSession\", {\n        session: session,\n        oldSession: oldSession\n      });\n\n      this.curOp = null;\n      oldSession && oldSession._signal(\"changeEditor\", {\n        oldEditor: this\n      });\n      session && session._signal(\"changeEditor\", {\n        editor: this\n      });\n      if (session && session.bgTokenizer) session.bgTokenizer.scheduleStart();\n    };\n\n    this.getSession = function () {\n      return this.session;\n    };\n\n    this.setValue = function (val, cursorPos) {\n      this.session.doc.setValue(val);\n      if (!cursorPos) this.selectAll();else if (cursorPos == 1) this.navigateFileEnd();else if (cursorPos == -1) this.navigateFileStart();\n      return val;\n    };\n\n    this.getValue = function () {\n      return this.session.getValue();\n    };\n\n    this.getSelection = function () {\n      return this.selection;\n    };\n\n    this.resize = function (force) {\n      this.renderer.onResize(force);\n    };\n\n    this.setTheme = function (theme, cb) {\n      this.renderer.setTheme(theme, cb);\n    };\n\n    this.getTheme = function () {\n      return this.renderer.getTheme();\n    };\n\n    this.setStyle = function (style) {\n      this.renderer.setStyle(style);\n    };\n\n    this.unsetStyle = function (style) {\n      this.renderer.unsetStyle(style);\n    };\n\n    this.getFontSize = function () {\n      return this.getOption(\"fontSize\") || dom.computedStyle(this.container, \"fontSize\");\n    };\n\n    this.setFontSize = function (size) {\n      this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function () {\n      if (this.session.$bracketHighlight) {\n        this.session.removeMarker(this.session.$bracketHighlight);\n        this.session.$bracketHighlight = null;\n      }\n\n      if (this.$highlightPending) {\n        return;\n      }\n\n      var self = this;\n      this.$highlightPending = true;\n      setTimeout(function () {\n        self.$highlightPending = false;\n        var session = self.session;\n        if (!session || !session.bgTokenizer) return;\n        var pos = session.findMatchingBracket(self.getCursorPosition());\n\n        if (pos) {\n          var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);\n        } else if (session.$mode.getMatching) {\n          var range = session.$mode.getMatching(self.session);\n        }\n\n        if (range) session.$bracketHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n      }, 50);\n    };\n\n    this.$highlightTags = function () {\n      if (this.$highlightTagPending) return;\n      var self = this;\n      this.$highlightTagPending = true;\n      setTimeout(function () {\n        self.$highlightTagPending = false;\n        var session = self.session;\n        if (!session || !session.bgTokenizer) return;\n        var pos = self.getCursorPosition();\n        var iterator = new TokenIterator(self.session, pos.row, pos.column);\n        var token = iterator.getCurrentToken();\n\n        if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n          session.removeMarker(session.$tagHighlight);\n          session.$tagHighlight = null;\n          return;\n        }\n\n        if (token.type.indexOf(\"tag-open\") != -1) {\n          token = iterator.stepForward();\n          if (!token) return;\n        }\n\n        var tag = token.value;\n        var depth = 0;\n        var prevToken = iterator.stepBackward();\n\n        if (prevToken.value == '<') {\n          do {\n            prevToken = token;\n            token = iterator.stepForward();\n\n            if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n              if (prevToken.value === '<') {\n                depth++;\n              } else if (prevToken.value === '</') {\n                depth--;\n              }\n            }\n          } while (token && depth >= 0);\n        } else {\n          do {\n            token = prevToken;\n            prevToken = iterator.stepBackward();\n\n            if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n              if (prevToken.value === '<') {\n                depth++;\n              } else if (prevToken.value === '</') {\n                depth--;\n              }\n            }\n          } while (prevToken && depth <= 0);\n\n          iterator.stepForward();\n        }\n\n        if (!token) {\n          session.removeMarker(session.$tagHighlight);\n          session.$tagHighlight = null;\n          return;\n        }\n\n        var row = iterator.getCurrentTokenRow();\n        var column = iterator.getCurrentTokenColumn();\n        var range = new Range(row, column, row, column + token.value.length);\n        var sbm = session.$backMarkers[session.$tagHighlight];\n\n        if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n          session.removeMarker(session.$tagHighlight);\n          session.$tagHighlight = null;\n        }\n\n        if (range && !session.$tagHighlight) session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n      }, 50);\n    };\n\n    this.focus = function () {\n      var _self = this;\n\n      setTimeout(function () {\n        _self.textInput.focus();\n      });\n      this.textInput.focus();\n    };\n\n    this.isFocused = function () {\n      return this.textInput.isFocused();\n    };\n\n    this.blur = function () {\n      this.textInput.blur();\n    };\n\n    this.onFocus = function (e) {\n      if (this.$isFocused) return;\n      this.$isFocused = true;\n      this.renderer.showCursor();\n      this.renderer.visualizeFocus();\n\n      this._emit(\"focus\", e);\n    };\n\n    this.onBlur = function (e) {\n      if (!this.$isFocused) return;\n      this.$isFocused = false;\n      this.renderer.hideCursor();\n      this.renderer.visualizeBlur();\n\n      this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function () {\n      this.renderer.updateCursor();\n    };\n\n    this.onDocumentChange = function (delta) {\n      var wrap = this.session.$useWrapMode;\n      var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;\n      this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n      this._signal(\"change\", delta);\n\n      this.$cursorChange();\n      this.$updateHighlightActiveLine();\n    };\n\n    this.onTokenizerUpdate = function (e) {\n      var rows = e.data;\n      this.renderer.updateLines(rows.first, rows.last);\n    };\n\n    this.onScrollTopChange = function () {\n      this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function () {\n      this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n\n    this.onCursorChange = function () {\n      this.$cursorChange();\n\n      if (!this.$blockScrolling) {\n        config.warn(\"Automatically scrolling cursor into view after selection change\", \"this will be disabled in the next version\", \"set editor.$blockScrolling = Infinity to disable this message\");\n        this.renderer.scrollCursorIntoView();\n      }\n\n      this.$highlightBrackets();\n      this.$highlightTags();\n      this.$updateHighlightActiveLine();\n\n      this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function () {\n      var session = this.getSession();\n      var highlight;\n\n      if (this.$highlightActiveLine) {\n        if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine()) highlight = this.getCursorPosition();\n        if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1)) highlight = false;\n      }\n\n      if (session.$highlightLineMarker && !highlight) {\n        session.removeMarker(session.$highlightLineMarker.id);\n        session.$highlightLineMarker = null;\n      } else if (!session.$highlightLineMarker && highlight) {\n        var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n        range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n        session.$highlightLineMarker = range;\n      } else if (highlight) {\n        session.$highlightLineMarker.start.row = highlight.row;\n        session.$highlightLineMarker.end.row = highlight.row;\n        session.$highlightLineMarker.start.column = highlight.column;\n\n        session._signal(\"changeBackMarker\");\n      }\n    };\n\n    this.onSelectionChange = function (e) {\n      var session = this.session;\n\n      if (session.$selectionMarker) {\n        session.removeMarker(session.$selectionMarker);\n      }\n\n      session.$selectionMarker = null;\n\n      if (!this.selection.isEmpty()) {\n        var range = this.selection.getRange();\n        var style = this.getSelectionStyle();\n        session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n      } else {\n        this.$updateHighlightActiveLine();\n      }\n\n      var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n      this.session.highlight(re);\n\n      this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function () {\n      var session = this.session;\n      var selection = this.getSelectionRange();\n      if (selection.isEmpty() || selection.isMultiLine()) return;\n      var startOuter = selection.start.column - 1;\n      var endOuter = selection.end.column + 1;\n      var line = session.getLine(selection.start.row);\n      var lineCols = line.length;\n      var needle = line.substring(Math.max(startOuter, 0), Math.min(endOuter, lineCols));\n      if (startOuter >= 0 && /^[\\w\\d]/.test(needle) || endOuter <= lineCols && /[\\w\\d]$/.test(needle)) return;\n      needle = line.substring(selection.start.column, selection.end.column);\n      if (!/^[\\w\\d]+$/.test(needle)) return;\n      var re = this.$search.$assembleRegExp({\n        wholeWord: true,\n        caseSensitive: true,\n        needle: needle\n      });\n      return re;\n    };\n\n    this.onChangeFrontMarker = function () {\n      this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function () {\n      this.renderer.updateBackMarkers();\n    };\n\n    this.onChangeBreakpoint = function () {\n      this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function () {\n      this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n    this.onChangeMode = function (e) {\n      this.renderer.updateText();\n\n      this._emit(\"changeMode\", e);\n    };\n\n    this.onChangeWrapLimit = function () {\n      this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function () {\n      this.renderer.onResize(true);\n    };\n\n    this.onChangeFold = function () {\n      this.$updateHighlightActiveLine();\n      this.renderer.updateFull();\n    };\n\n    this.getSelectedText = function () {\n      return this.session.getTextRange(this.getSelectionRange());\n    };\n\n    this.getCopyText = function () {\n      var text = this.getSelectedText();\n\n      this._signal(\"copy\", text);\n\n      return text;\n    };\n\n    this.onCopy = function () {\n      this.commands.exec(\"copy\", this);\n    };\n\n    this.onCut = function () {\n      this.commands.exec(\"cut\", this);\n    };\n\n    this.onPaste = function (text, event) {\n      var e = {\n        text: text,\n        event: event\n      };\n      this.commands.exec(\"paste\", this, e);\n    };\n\n    this.$handlePaste = function (e) {\n      if (typeof e == \"string\") e = {\n        text: e\n      };\n\n      this._signal(\"paste\", e);\n\n      var text = e.text;\n\n      if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n        this.insert(text);\n      } else {\n        var lines = text.split(/\\r\\n|\\r|\\n/);\n        var ranges = this.selection.rangeList.ranges;\n        if (lines.length > ranges.length || lines.length < 2 || !lines[1]) return this.commands.exec(\"insertstring\", this, text);\n\n        for (var i = ranges.length; i--;) {\n          var range = ranges[i];\n          if (!range.isEmpty()) this.session.remove(range);\n          this.session.insert(range.start, lines[i]);\n        }\n      }\n    };\n\n    this.execCommand = function (command, args) {\n      return this.commands.exec(command, this, args);\n    };\n\n    this.insert = function (text, pasted) {\n      var session = this.session;\n      var mode = session.getMode();\n      var cursor = this.getCursorPosition();\n\n      if (this.getBehavioursEnabled() && !pasted) {\n        var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n\n        if (transform) {\n          if (text !== transform.text) {\n            this.session.mergeUndoDeltas = false;\n            this.$mergeNextCommand = false;\n          }\n\n          text = transform.text;\n        }\n      }\n\n      if (text == \"\\t\") text = this.session.getTabString();\n\n      if (!this.selection.isEmpty()) {\n        var range = this.getSelectionRange();\n        cursor = this.session.remove(range);\n        this.clearSelection();\n      } else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n        var range = new Range.fromPoints(cursor, cursor);\n        range.end.column += text.length;\n        this.session.remove(range);\n      }\n\n      if (text == \"\\n\" || text == \"\\r\\n\") {\n        var line = session.getLine(cursor.row);\n\n        if (cursor.column > line.search(/\\S|$/)) {\n          var d = line.substr(cursor.column).search(/\\S|$/);\n          session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n        }\n      }\n\n      this.clearSelection();\n      var start = cursor.column;\n      var lineState = session.getState(cursor.row);\n      var line = session.getLine(cursor.row);\n      var shouldOutdent = mode.checkOutdent(lineState, line, text);\n      var end = session.insert(cursor, text);\n\n      if (transform && transform.selection) {\n        if (transform.selection.length == 2) {\n          // Transform relative to the current column\n          this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n        } else {\n          // Transform relative to the current row.\n          this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n        }\n      }\n\n      if (session.getDocument().isNewLine(text)) {\n        var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n        session.insert({\n          row: cursor.row + 1,\n          column: 0\n        }, lineIndent);\n      }\n\n      if (shouldOutdent) mode.autoOutdent(lineState, session, cursor.row);\n    };\n\n    this.onTextInput = function (text) {\n      this.keyBinding.onTextInput(text);\n    };\n\n    this.onCommandKey = function (e, hashId, keyCode) {\n      this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n\n    this.setOverwrite = function (overwrite) {\n      this.session.setOverwrite(overwrite);\n    };\n\n    this.getOverwrite = function () {\n      return this.session.getOverwrite();\n    };\n\n    this.toggleOverwrite = function () {\n      this.session.toggleOverwrite();\n    };\n\n    this.setScrollSpeed = function (speed) {\n      this.setOption(\"scrollSpeed\", speed);\n    };\n\n    this.getScrollSpeed = function () {\n      return this.getOption(\"scrollSpeed\");\n    };\n\n    this.setDragDelay = function (dragDelay) {\n      this.setOption(\"dragDelay\", dragDelay);\n    };\n\n    this.getDragDelay = function () {\n      return this.getOption(\"dragDelay\");\n    };\n\n    this.setSelectionStyle = function (val) {\n      this.setOption(\"selectionStyle\", val);\n    };\n\n    this.getSelectionStyle = function () {\n      return this.getOption(\"selectionStyle\");\n    };\n\n    this.setHighlightActiveLine = function (shouldHighlight) {\n      this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n\n    this.getHighlightActiveLine = function () {\n      return this.getOption(\"highlightActiveLine\");\n    };\n\n    this.setHighlightGutterLine = function (shouldHighlight) {\n      this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function () {\n      return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.setHighlightSelectedWord = function (shouldHighlight) {\n      this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n\n    this.getHighlightSelectedWord = function () {\n      return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function (shouldAnimate) {\n      this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function () {\n      return this.renderer.getAnimatedScroll();\n    };\n\n    this.setShowInvisibles = function (showInvisibles) {\n      this.renderer.setShowInvisibles(showInvisibles);\n    };\n\n    this.getShowInvisibles = function () {\n      return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function (display) {\n      this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function () {\n      return this.renderer.getDisplayIndentGuides();\n    };\n\n    this.setShowPrintMargin = function (showPrintMargin) {\n      this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n\n    this.getShowPrintMargin = function () {\n      return this.renderer.getShowPrintMargin();\n    };\n\n    this.setPrintMarginColumn = function (showPrintMargin) {\n      this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n\n    this.getPrintMarginColumn = function () {\n      return this.renderer.getPrintMarginColumn();\n    };\n\n    this.setReadOnly = function (readOnly) {\n      this.setOption(\"readOnly\", readOnly);\n    };\n\n    this.getReadOnly = function () {\n      return this.getOption(\"readOnly\");\n    };\n\n    this.setBehavioursEnabled = function (enabled) {\n      this.setOption(\"behavioursEnabled\", enabled);\n    };\n\n    this.getBehavioursEnabled = function () {\n      return this.getOption(\"behavioursEnabled\");\n    };\n\n    this.setWrapBehavioursEnabled = function (enabled) {\n      this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n\n    this.getWrapBehavioursEnabled = function () {\n      return this.getOption(\"wrapBehavioursEnabled\");\n    };\n\n    this.setShowFoldWidgets = function (show) {\n      this.setOption(\"showFoldWidgets\", show);\n    };\n\n    this.getShowFoldWidgets = function () {\n      return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function (fade) {\n      this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function () {\n      return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.remove = function (dir) {\n      if (this.selection.isEmpty()) {\n        if (dir == \"left\") this.selection.selectLeft();else this.selection.selectRight();\n      }\n\n      var range = this.getSelectionRange();\n\n      if (this.getBehavioursEnabled()) {\n        var session = this.session;\n        var state = session.getState(range.start.row);\n        var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n        if (range.end.column === 0) {\n          var text = session.getTextRange(range);\n\n          if (text[text.length - 1] == \"\\n\") {\n            var line = session.getLine(range.end.row);\n\n            if (/^\\s+$/.test(line)) {\n              range.end.column = line.length;\n            }\n          }\n        }\n\n        if (new_range) range = new_range;\n      }\n\n      this.session.remove(range);\n      this.clearSelection();\n    };\n\n    this.removeWordRight = function () {\n      if (this.selection.isEmpty()) this.selection.selectWordRight();\n      this.session.remove(this.getSelectionRange());\n      this.clearSelection();\n    };\n\n    this.removeWordLeft = function () {\n      if (this.selection.isEmpty()) this.selection.selectWordLeft();\n      this.session.remove(this.getSelectionRange());\n      this.clearSelection();\n    };\n\n    this.removeToLineStart = function () {\n      if (this.selection.isEmpty()) this.selection.selectLineStart();\n      this.session.remove(this.getSelectionRange());\n      this.clearSelection();\n    };\n\n    this.removeToLineEnd = function () {\n      if (this.selection.isEmpty()) this.selection.selectLineEnd();\n      var range = this.getSelectionRange();\n\n      if (range.start.column == range.end.column && range.start.row == range.end.row) {\n        range.end.column = 0;\n        range.end.row++;\n      }\n\n      this.session.remove(range);\n      this.clearSelection();\n    };\n\n    this.splitLine = function () {\n      if (!this.selection.isEmpty()) {\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n      }\n\n      var cursor = this.getCursorPosition();\n      this.insert(\"\\n\");\n      this.moveCursorToPosition(cursor);\n    };\n\n    this.transposeLetters = function () {\n      if (!this.selection.isEmpty()) {\n        return;\n      }\n\n      var cursor = this.getCursorPosition();\n      var column = cursor.column;\n      if (column === 0) return;\n      var line = this.session.getLine(cursor.row);\n      var swap, range;\n\n      if (column < line.length) {\n        swap = line.charAt(column) + line.charAt(column - 1);\n        range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n      } else {\n        swap = line.charAt(column - 1) + line.charAt(column - 2);\n        range = new Range(cursor.row, column - 2, cursor.row, column);\n      }\n\n      this.session.replace(range, swap);\n      this.session.selection.moveToPosition(range.end);\n    };\n\n    this.toLowerCase = function () {\n      var originalRange = this.getSelectionRange();\n\n      if (this.selection.isEmpty()) {\n        this.selection.selectWord();\n      }\n\n      var range = this.getSelectionRange();\n      var text = this.session.getTextRange(range);\n      this.session.replace(range, text.toLowerCase());\n      this.selection.setSelectionRange(originalRange);\n    };\n\n    this.toUpperCase = function () {\n      var originalRange = this.getSelectionRange();\n\n      if (this.selection.isEmpty()) {\n        this.selection.selectWord();\n      }\n\n      var range = this.getSelectionRange();\n      var text = this.session.getTextRange(range);\n      this.session.replace(range, text.toUpperCase());\n      this.selection.setSelectionRange(originalRange);\n    };\n\n    this.indent = function () {\n      var session = this.session;\n      var range = this.getSelectionRange();\n\n      if (range.start.row < range.end.row) {\n        var rows = this.$getSelectedRows();\n        session.indentRows(rows.first, rows.last, \"\\t\");\n        return;\n      } else if (range.start.column < range.end.column) {\n        var text = session.getTextRange(range);\n\n        if (!/^\\s+$/.test(text)) {\n          var rows = this.$getSelectedRows();\n          session.indentRows(rows.first, rows.last, \"\\t\");\n          return;\n        }\n      }\n\n      var line = session.getLine(range.start.row);\n      var position = range.start;\n      var size = session.getTabSize();\n      var column = session.documentToScreenColumn(position.row, position.column);\n\n      if (this.session.getUseSoftTabs()) {\n        var count = size - column % size;\n        var indentString = lang.stringRepeat(\" \", count);\n      } else {\n        var count = column % size;\n\n        while (line[range.start.column - 1] == \" \" && count) {\n          range.start.column--;\n          count--;\n        }\n\n        this.selection.setSelectionRange(range);\n        indentString = \"\\t\";\n      }\n\n      return this.insert(indentString);\n    };\n\n    this.blockIndent = function () {\n      var rows = this.$getSelectedRows();\n      this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n\n    this.blockOutdent = function () {\n      var selection = this.session.getSelection();\n      this.session.outdentRows(selection.getRange());\n    };\n\n    this.sortLines = function () {\n      var rows = this.$getSelectedRows();\n      var session = this.session;\n      var lines = [];\n\n      for (var i = rows.first; i <= rows.last; i++) {\n        lines.push(session.getLine(i));\n      }\n\n      lines.sort(function (a, b) {\n        if (a.toLowerCase() < b.toLowerCase()) return -1;\n        if (a.toLowerCase() > b.toLowerCase()) return 1;\n        return 0;\n      });\n      var deleteRange = new Range(0, 0, 0, 0);\n\n      for (var i = rows.first; i <= rows.last; i++) {\n        var line = session.getLine(i);\n        deleteRange.start.row = i;\n        deleteRange.end.row = i;\n        deleteRange.end.column = line.length;\n        session.replace(deleteRange, lines[i - rows.first]);\n      }\n    };\n\n    this.toggleCommentLines = function () {\n      var state = this.session.getState(this.getCursorPosition().row);\n      var rows = this.$getSelectedRows();\n      this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function () {\n      var cursor = this.getCursorPosition();\n      var state = this.session.getState(cursor.row);\n      var range = this.getSelectionRange();\n      this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n\n    this.getNumberAt = function (row, column) {\n      var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n      _numberRx.lastIndex = 0;\n      var s = this.session.getLine(row);\n\n      while (_numberRx.lastIndex < column) {\n        var m = _numberRx.exec(s);\n\n        if (m.index <= column && m.index + m[0].length >= column) {\n          var number = {\n            value: m[0],\n            start: m.index,\n            end: m.index + m[0].length\n          };\n          return number;\n        }\n      }\n\n      return null;\n    };\n\n    this.modifyNumber = function (amount) {\n      var row = this.selection.getCursor().row;\n      var column = this.selection.getCursor().column;\n      var charRange = new Range(row, column - 1, row, column);\n      var c = this.session.getTextRange(charRange);\n\n      if (!isNaN(parseFloat(c)) && isFinite(c)) {\n        var nr = this.getNumberAt(row, column);\n\n        if (nr) {\n          var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n          var decimals = nr.start + nr.value.length - fp;\n          var t = parseFloat(nr.value);\n          t *= Math.pow(10, decimals);\n\n          if (fp !== nr.end && column < fp) {\n            amount *= Math.pow(10, nr.end - column - 1);\n          } else {\n            amount *= Math.pow(10, nr.end - column);\n          }\n\n          t += amount;\n          t /= Math.pow(10, decimals);\n          var nnr = t.toFixed(decimals);\n          var replaceRange = new Range(row, nr.start, row, nr.end);\n          this.session.replace(replaceRange, nnr);\n          this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n        }\n      }\n    };\n\n    this.removeLines = function () {\n      var rows = this.$getSelectedRows();\n      this.session.removeFullLines(rows.first, rows.last);\n      this.clearSelection();\n    };\n\n    this.duplicateSelection = function () {\n      var sel = this.selection;\n      var doc = this.session;\n      var range = sel.getRange();\n      var reverse = sel.isBackwards();\n\n      if (range.isEmpty()) {\n        var row = range.start.row;\n        doc.duplicateLines(row, row);\n      } else {\n        var point = reverse ? range.start : range.end;\n        var endPoint = doc.insert(point, doc.getTextRange(range), false);\n        range.start = point;\n        range.end = endPoint;\n        sel.setSelectionRange(range, reverse);\n      }\n    };\n\n    this.moveLinesDown = function () {\n      this.$moveLines(1, false);\n    };\n\n    this.moveLinesUp = function () {\n      this.$moveLines(-1, false);\n    };\n\n    this.moveText = function (range, toPosition, copy) {\n      return this.session.moveText(range, toPosition, copy);\n    };\n\n    this.copyLinesUp = function () {\n      this.$moveLines(-1, true);\n    };\n\n    this.copyLinesDown = function () {\n      this.$moveLines(1, true);\n    };\n\n    this.$moveLines = function (dir, copy) {\n      var rows, moved;\n      var selection = this.selection;\n\n      if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n        var range = selection.toOrientedRange();\n        rows = this.$getSelectedRows(range);\n        moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n        if (copy && dir == -1) moved = 0;\n        range.moveBy(moved, 0);\n        selection.fromOrientedRange(range);\n      } else {\n        var ranges = selection.rangeList.ranges;\n        selection.rangeList.detach(this.session);\n        this.inVirtualSelectionMode = true;\n        var diff = 0;\n        var totalDiff = 0;\n        var l = ranges.length;\n\n        for (var i = 0; i < l; i++) {\n          var rangeIndex = i;\n          ranges[i].moveBy(diff, 0);\n          rows = this.$getSelectedRows(ranges[i]);\n          var first = rows.first;\n          var last = rows.last;\n\n          while (++i < l) {\n            if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n            var subRows = this.$getSelectedRows(ranges[i]);\n            if (copy && subRows.first != last) break;else if (!copy && subRows.first > last + 1) break;\n            last = subRows.last;\n          }\n\n          i--;\n          diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n          if (copy && dir == -1) rangeIndex = i + 1;\n\n          while (rangeIndex <= i) {\n            ranges[rangeIndex].moveBy(diff, 0);\n            rangeIndex++;\n          }\n\n          if (!copy) diff = 0;\n          totalDiff += diff;\n        }\n\n        selection.fromOrientedRange(selection.ranges[0]);\n        selection.rangeList.attach(this.session);\n        this.inVirtualSelectionMode = false;\n      }\n    };\n\n    this.$getSelectedRows = function (range) {\n      range = (range || this.getSelectionRange()).collapseRows();\n      return {\n        first: this.session.getRowFoldStart(range.start.row),\n        last: this.session.getRowFoldEnd(range.end.row)\n      };\n    };\n\n    this.onCompositionStart = function (text) {\n      this.renderer.showComposition(this.getCursorPosition());\n    };\n\n    this.onCompositionUpdate = function (text) {\n      this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function () {\n      this.renderer.hideComposition();\n    };\n\n    this.getFirstVisibleRow = function () {\n      return this.renderer.getFirstVisibleRow();\n    };\n\n    this.getLastVisibleRow = function () {\n      return this.renderer.getLastVisibleRow();\n    };\n\n    this.isRowVisible = function (row) {\n      return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();\n    };\n\n    this.isRowFullyVisible = function (row) {\n      return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();\n    };\n\n    this.$getVisibleRowCount = function () {\n      return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function (dir, select) {\n      var renderer = this.renderer;\n      var config = this.renderer.layerConfig;\n      var rows = dir * Math.floor(config.height / config.lineHeight);\n      this.$blockScrolling++;\n\n      if (select === true) {\n        this.selection.$moveSelection(function () {\n          this.moveCursorBy(rows, 0);\n        });\n      } else if (select === false) {\n        this.selection.moveCursorBy(rows, 0);\n        this.selection.clearSelection();\n      }\n\n      this.$blockScrolling--;\n      var scrollTop = renderer.scrollTop;\n      renderer.scrollBy(0, rows * config.lineHeight);\n      if (select != null) renderer.scrollCursorIntoView(null, 0.5);\n      renderer.animateScrolling(scrollTop);\n    };\n\n    this.selectPageDown = function () {\n      this.$moveByPage(1, true);\n    };\n\n    this.selectPageUp = function () {\n      this.$moveByPage(-1, true);\n    };\n\n    this.gotoPageDown = function () {\n      this.$moveByPage(1, false);\n    };\n\n    this.gotoPageUp = function () {\n      this.$moveByPage(-1, false);\n    };\n\n    this.scrollPageDown = function () {\n      this.$moveByPage(1);\n    };\n\n    this.scrollPageUp = function () {\n      this.$moveByPage(-1);\n    };\n\n    this.scrollToRow = function (row) {\n      this.renderer.scrollToRow(row);\n    };\n\n    this.scrollToLine = function (line, center, animate, callback) {\n      this.renderer.scrollToLine(line, center, animate, callback);\n    };\n\n    this.centerSelection = function () {\n      var range = this.getSelectionRange();\n      var pos = {\n        row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n        column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n      };\n      this.renderer.alignCursor(pos, 0.5);\n    };\n\n    this.getCursorPosition = function () {\n      return this.selection.getCursor();\n    };\n\n    this.getCursorPositionScreen = function () {\n      return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n\n    this.getSelectionRange = function () {\n      return this.selection.getRange();\n    };\n\n    this.selectAll = function () {\n      this.$blockScrolling += 1;\n      this.selection.selectAll();\n      this.$blockScrolling -= 1;\n    };\n\n    this.clearSelection = function () {\n      this.selection.clearSelection();\n    };\n\n    this.moveCursorTo = function (row, column) {\n      this.selection.moveCursorTo(row, column);\n    };\n\n    this.moveCursorToPosition = function (pos) {\n      this.selection.moveCursorToPosition(pos);\n    };\n\n    this.jumpToMatching = function (select, expand) {\n      var cursor = this.getCursorPosition();\n      var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n      var prevToken = iterator.getCurrentToken();\n      var token = prevToken || iterator.stepForward();\n      if (!token) return;\n      var matchType;\n      var found = false;\n      var depth = {};\n      var i = cursor.column - token.start;\n      var bracketType;\n      var brackets = {\n        \")\": \"(\",\n        \"(\": \"(\",\n        \"]\": \"[\",\n        \"[\": \"[\",\n        \"{\": \"{\",\n        \"}\": \"{\"\n      };\n\n      do {\n        if (token.value.match(/[{}()\\[\\]]/g)) {\n          for (; i < token.value.length && !found; i++) {\n            if (!brackets[token.value[i]]) {\n              continue;\n            }\n\n            bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n            if (isNaN(depth[bracketType])) {\n              depth[bracketType] = 0;\n            }\n\n            switch (token.value[i]) {\n              case '(':\n              case '[':\n              case '{':\n                depth[bracketType]++;\n                break;\n\n              case ')':\n              case ']':\n              case '}':\n                depth[bracketType]--;\n\n                if (depth[bracketType] === -1) {\n                  matchType = 'bracket';\n                  found = true;\n                }\n\n                break;\n            }\n          }\n        } else if (token && token.type.indexOf('tag-name') !== -1) {\n          if (isNaN(depth[token.value])) {\n            depth[token.value] = 0;\n          }\n\n          if (prevToken.value === '<') {\n            depth[token.value]++;\n          } else if (prevToken.value === '</') {\n            depth[token.value]--;\n          }\n\n          if (depth[token.value] === -1) {\n            matchType = 'tag';\n            found = true;\n          }\n        }\n\n        if (!found) {\n          prevToken = token;\n          token = iterator.stepForward();\n          i = 0;\n        }\n      } while (token && !found);\n\n      if (!matchType) return;\n      var range, pos;\n\n      if (matchType === 'bracket') {\n        range = this.session.getBracketRange(cursor);\n\n        if (!range) {\n          range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n          pos = range.start;\n          if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2) range = this.session.getBracketRange(pos);\n        }\n      } else if (matchType === 'tag') {\n        if (token && token.type.indexOf('tag-name') !== -1) var tag = token.value;else return;\n        range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n\n        if (range.compare(cursor.row, cursor.column) === 0) {\n          found = false;\n\n          do {\n            token = prevToken;\n            prevToken = iterator.stepBackward();\n\n            if (prevToken) {\n              if (prevToken.type.indexOf('tag-close') !== -1) {\n                range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n              }\n\n              if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                if (prevToken.value === '<') {\n                  depth[tag]++;\n                } else if (prevToken.value === '</') {\n                  depth[tag]--;\n                }\n\n                if (depth[tag] === 0) found = true;\n              }\n            }\n          } while (prevToken && !found);\n        }\n\n        if (token && token.type.indexOf('tag-name')) {\n          pos = range.start;\n          if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2) pos = range.end;\n        }\n      }\n\n      pos = range && range.cursor || pos;\n\n      if (pos) {\n        if (select) {\n          if (range && expand) {\n            this.selection.setRange(range);\n          } else if (range && range.isEqual(this.getSelectionRange())) {\n            this.clearSelection();\n          } else {\n            this.selection.selectTo(pos.row, pos.column);\n          }\n        } else {\n          this.selection.moveTo(pos.row, pos.column);\n        }\n      }\n    };\n\n    this.gotoLine = function (lineNumber, column, animate) {\n      this.selection.clearSelection();\n      this.session.unfold({\n        row: lineNumber - 1,\n        column: column || 0\n      });\n      this.$blockScrolling += 1;\n      this.exitMultiSelectMode && this.exitMultiSelectMode();\n      this.moveCursorTo(lineNumber - 1, column || 0);\n      this.$blockScrolling -= 1;\n      if (!this.isRowFullyVisible(lineNumber - 1)) this.scrollToLine(lineNumber - 1, true, animate);\n    };\n\n    this.navigateTo = function (row, column) {\n      this.selection.moveTo(row, column);\n    };\n\n    this.navigateUp = function (times) {\n      if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n        var selectionStart = this.selection.anchor.getPosition();\n        return this.moveCursorToPosition(selectionStart);\n      }\n\n      this.selection.clearSelection();\n      this.selection.moveCursorBy(-times || -1, 0);\n    };\n\n    this.navigateDown = function (times) {\n      if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n        var selectionEnd = this.selection.anchor.getPosition();\n        return this.moveCursorToPosition(selectionEnd);\n      }\n\n      this.selection.clearSelection();\n      this.selection.moveCursorBy(times || 1, 0);\n    };\n\n    this.navigateLeft = function (times) {\n      if (!this.selection.isEmpty()) {\n        var selectionStart = this.getSelectionRange().start;\n        this.moveCursorToPosition(selectionStart);\n      } else {\n        times = times || 1;\n\n        while (times--) {\n          this.selection.moveCursorLeft();\n        }\n      }\n\n      this.clearSelection();\n    };\n\n    this.navigateRight = function (times) {\n      if (!this.selection.isEmpty()) {\n        var selectionEnd = this.getSelectionRange().end;\n        this.moveCursorToPosition(selectionEnd);\n      } else {\n        times = times || 1;\n\n        while (times--) {\n          this.selection.moveCursorRight();\n        }\n      }\n\n      this.clearSelection();\n    };\n\n    this.navigateLineStart = function () {\n      this.selection.moveCursorLineStart();\n      this.clearSelection();\n    };\n\n    this.navigateLineEnd = function () {\n      this.selection.moveCursorLineEnd();\n      this.clearSelection();\n    };\n\n    this.navigateFileEnd = function () {\n      this.selection.moveCursorFileEnd();\n      this.clearSelection();\n    };\n\n    this.navigateFileStart = function () {\n      this.selection.moveCursorFileStart();\n      this.clearSelection();\n    };\n\n    this.navigateWordRight = function () {\n      this.selection.moveCursorWordRight();\n      this.clearSelection();\n    };\n\n    this.navigateWordLeft = function () {\n      this.selection.moveCursorWordLeft();\n      this.clearSelection();\n    };\n\n    this.replace = function (replacement, options) {\n      if (options) this.$search.set(options);\n      var range = this.$search.find(this.session);\n      var replaced = 0;\n      if (!range) return replaced;\n\n      if (this.$tryReplace(range, replacement)) {\n        replaced = 1;\n      }\n\n      if (range !== null) {\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n      }\n\n      return replaced;\n    };\n\n    this.replaceAll = function (replacement, options) {\n      if (options) {\n        this.$search.set(options);\n      }\n\n      var ranges = this.$search.findAll(this.session);\n      var replaced = 0;\n      if (!ranges.length) return replaced;\n      this.$blockScrolling += 1;\n      var selection = this.getSelectionRange();\n      this.selection.moveTo(0, 0);\n\n      for (var i = ranges.length - 1; i >= 0; --i) {\n        if (this.$tryReplace(ranges[i], replacement)) {\n          replaced++;\n        }\n      }\n\n      this.selection.setSelectionRange(selection);\n      this.$blockScrolling -= 1;\n      return replaced;\n    };\n\n    this.$tryReplace = function (range, replacement) {\n      var input = this.session.getTextRange(range);\n      replacement = this.$search.replace(input, replacement);\n\n      if (replacement !== null) {\n        range.end = this.session.replace(range, replacement);\n        return range;\n      } else {\n        return null;\n      }\n    };\n\n    this.getLastSearchOptions = function () {\n      return this.$search.getOptions();\n    };\n\n    this.find = function (needle, options, animate) {\n      if (!options) options = {};\n      if (typeof needle == \"string\" || needle instanceof RegExp) options.needle = needle;else if (typeof needle == \"object\") oop.mixin(options, needle);\n      var range = this.selection.getRange();\n\n      if (options.needle == null) {\n        needle = this.session.getTextRange(range) || this.$search.$options.needle;\n\n        if (!needle) {\n          range = this.session.getWordRange(range.start.row, range.start.column);\n          needle = this.session.getTextRange(range);\n        }\n\n        this.$search.set({\n          needle: needle\n        });\n      }\n\n      this.$search.set(options);\n      if (!options.start) this.$search.set({\n        start: range\n      });\n      var newRange = this.$search.find(this.session);\n      if (options.preventScroll) return newRange;\n\n      if (newRange) {\n        this.revealRange(newRange, animate);\n        return newRange;\n      }\n\n      if (options.backwards) range.start = range.end;else range.end = range.start;\n      this.selection.setRange(range);\n    };\n\n    this.findNext = function (options, animate) {\n      this.find({\n        skipCurrent: true,\n        backwards: false\n      }, options, animate);\n    };\n\n    this.findPrevious = function (options, animate) {\n      this.find(options, {\n        skipCurrent: true,\n        backwards: true\n      }, animate);\n    };\n\n    this.revealRange = function (range, animate) {\n      this.$blockScrolling += 1;\n      this.session.unfold(range);\n      this.selection.setSelectionRange(range);\n      this.$blockScrolling -= 1;\n      var scrollTop = this.renderer.scrollTop;\n      this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n      if (animate !== false) this.renderer.animateScrolling(scrollTop);\n    };\n\n    this.undo = function () {\n      this.$blockScrolling++;\n      this.session.getUndoManager().undo();\n      this.$blockScrolling--;\n      this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n\n    this.redo = function () {\n      this.$blockScrolling++;\n      this.session.getUndoManager().redo();\n      this.$blockScrolling--;\n      this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n\n    this.destroy = function () {\n      this.renderer.destroy();\n\n      this._signal(\"destroy\", this);\n\n      if (this.session) {\n        this.session.destroy();\n      }\n    };\n\n    this.setAutoScrollEditorIntoView = function (enable) {\n      if (!enable) return;\n      var rect;\n      var self = this;\n      var shouldScroll = false;\n      if (!this.$scrollAnchor) this.$scrollAnchor = document.createElement(\"div\");\n      var scrollAnchor = this.$scrollAnchor;\n      scrollAnchor.style.cssText = \"position:absolute\";\n      this.container.insertBefore(scrollAnchor, this.container.firstChild);\n      var onChangeSelection = this.on(\"changeSelection\", function () {\n        shouldScroll = true;\n      });\n      var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n        if (shouldScroll) rect = self.renderer.container.getBoundingClientRect();\n      });\n      var onAfterRender = this.renderer.on(\"afterRender\", function () {\n        if (shouldScroll && rect && (self.isFocused() || self.searchBox && self.searchBox.isFocused())) {\n          var renderer = self.renderer;\n          var pos = renderer.$cursorLayer.$pixelPos;\n          var config = renderer.layerConfig;\n          var top = pos.top - config.offset;\n\n          if (pos.top >= 0 && top + rect.top < 0) {\n            shouldScroll = true;\n          } else if (pos.top < config.height && pos.top + rect.top + config.lineHeight > window.innerHeight) {\n            shouldScroll = false;\n          } else {\n            shouldScroll = null;\n          }\n\n          if (shouldScroll != null) {\n            scrollAnchor.style.top = top + \"px\";\n            scrollAnchor.style.left = pos.left + \"px\";\n            scrollAnchor.style.height = config.lineHeight + \"px\";\n            scrollAnchor.scrollIntoView(shouldScroll);\n          }\n\n          shouldScroll = rect = null;\n        }\n      });\n\n      this.setAutoScrollEditorIntoView = function (enable) {\n        if (enable) return;\n        delete this.setAutoScrollEditorIntoView;\n        this.off(\"changeSelection\", onChangeSelection);\n        this.renderer.off(\"afterRender\", onAfterRender);\n        this.renderer.off(\"beforeRender\", onBeforeRender);\n      };\n    };\n\n    this.$resetCursorStyle = function () {\n      var style = this.$cursorStyle || \"ace\";\n      var cursorLayer = this.renderer.$cursorLayer;\n      if (!cursorLayer) return;\n      cursorLayer.setSmoothBlinking(/smooth/.test(style));\n      cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n      dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n  }).call(Editor.prototype);\n  config.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n      set: function set(style) {\n        this.onSelectionChange();\n\n        this._signal(\"changeSelectionStyle\", {\n          data: style\n        });\n      },\n      initialValue: \"line\"\n    },\n    highlightActiveLine: {\n      set: function set() {\n        this.$updateHighlightActiveLine();\n      },\n      initialValue: true\n    },\n    highlightSelectedWord: {\n      set: function set(shouldHighlight) {\n        this.$onSelectionChange();\n      },\n      initialValue: true\n    },\n    readOnly: {\n      set: function set(readOnly) {\n        this.$resetCursorStyle();\n      },\n      initialValue: false\n    },\n    cursorStyle: {\n      set: function set(val) {\n        this.$resetCursorStyle();\n      },\n      values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n      initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n      values: [false, true, \"always\"],\n      initialValue: true\n    },\n    behavioursEnabled: {\n      initialValue: true\n    },\n    wrapBehavioursEnabled: {\n      initialValue: true\n    },\n    autoScrollEditorIntoView: {\n      set: function set(val) {\n        this.setAutoScrollEditorIntoView(val);\n      }\n    },\n    keyboardHandler: {\n      set: function set(val) {\n        this.setKeyboardHandler(val);\n      },\n      get: function get() {\n        return this.keybindingId;\n      },\n      handlesSet: true\n    },\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    showLineNumbers: \"renderer\",\n    showGutter: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n  });\n  exports.Editor = Editor;\n});\nace.define(\"ace/undomanager\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var UndoManager = function UndoManager() {\n    this.reset();\n  };\n\n  (function () {\n    this.execute = function (options) {\n      var deltaSets = options.args[0];\n      this.$doc = options.args[1];\n\n      if (options.merge && this.hasUndo()) {\n        this.dirtyCounter--;\n        deltaSets = this.$undoStack.pop().concat(deltaSets);\n      }\n\n      this.$undoStack.push(deltaSets);\n      this.$redoStack = [];\n\n      if (this.dirtyCounter < 0) {\n        this.dirtyCounter = NaN;\n      }\n\n      this.dirtyCounter++;\n    };\n\n    this.undo = function (dontSelect) {\n      var deltaSets = this.$undoStack.pop();\n      var undoSelectionRange = null;\n\n      if (deltaSets) {\n        undoSelectionRange = this.$doc.undoChanges(deltaSets, dontSelect);\n        this.$redoStack.push(deltaSets);\n        this.dirtyCounter--;\n      }\n\n      return undoSelectionRange;\n    };\n\n    this.redo = function (dontSelect) {\n      var deltaSets = this.$redoStack.pop();\n      var redoSelectionRange = null;\n\n      if (deltaSets) {\n        redoSelectionRange = this.$doc.redoChanges(this.$deserializeDeltas(deltaSets), dontSelect);\n        this.$undoStack.push(deltaSets);\n        this.dirtyCounter++;\n      }\n\n      return redoSelectionRange;\n    };\n\n    this.reset = function () {\n      this.$undoStack = [];\n      this.$redoStack = [];\n      this.dirtyCounter = 0;\n    };\n\n    this.hasUndo = function () {\n      return this.$undoStack.length > 0;\n    };\n\n    this.hasRedo = function () {\n      return this.$redoStack.length > 0;\n    };\n\n    this.markClean = function () {\n      this.dirtyCounter = 0;\n    };\n\n    this.isClean = function () {\n      return this.dirtyCounter === 0;\n    };\n\n    this.$serializeDeltas = function (deltaSets) {\n      return cloneDeltaSetsObj(deltaSets, $serializeDelta);\n    };\n\n    this.$deserializeDeltas = function (deltaSets) {\n      return cloneDeltaSetsObj(deltaSets, $deserializeDelta);\n    };\n\n    function $serializeDelta(delta) {\n      return {\n        action: delta.action,\n        start: delta.start,\n        end: delta.end,\n        lines: delta.lines.length == 1 ? null : delta.lines,\n        text: delta.lines.length == 1 ? delta.lines[0] : null\n      };\n    }\n\n    function $deserializeDelta(delta) {\n      return {\n        action: delta.action,\n        start: delta.start,\n        end: delta.end,\n        lines: delta.lines || [delta.text]\n      };\n    }\n\n    function cloneDeltaSetsObj(deltaSets_old, fnGetModifiedDelta) {\n      var deltaSets_new = new Array(deltaSets_old.length);\n\n      for (var i = 0; i < deltaSets_old.length; i++) {\n        var deltaSet_old = deltaSets_old[i];\n        var deltaSet_new = {\n          group: deltaSet_old.group,\n          deltas: new Array(deltaSet_old.length)\n        };\n\n        for (var j = 0; j < deltaSet_old.deltas.length; j++) {\n          var delta_old = deltaSet_old.deltas[j];\n          deltaSet_new.deltas[j] = fnGetModifiedDelta(delta_old);\n        }\n\n        deltaSets_new[i] = deltaSet_new;\n      }\n\n      return deltaSets_new;\n    }\n  }).call(UndoManager.prototype);\n  exports.UndoManager = UndoManager;\n});\nace.define(\"ace/layer/gutter\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var dom = acequire(\"../lib/dom\");\n  var oop = acequire(\"../lib/oop\");\n  var lang = acequire(\"../lib/lang\");\n  var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n  var Gutter = function Gutter(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    this.gutterWidth = 0;\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    this.$cells = [];\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function (session) {\n      if (this.session) this.session.removeEventListener(\"change\", this.$updateAnnotations);\n      this.session = session;\n      if (session) session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function (row, className) {\n      if (window.console) console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n      this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function (row, className) {\n      if (window.console) console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n      this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function (annotations) {\n      this.$annotations = [];\n\n      for (var i = 0; i < annotations.length; i++) {\n        var annotation = annotations[i];\n        var row = annotation.row;\n        var rowInfo = this.$annotations[row];\n        if (!rowInfo) rowInfo = this.$annotations[row] = {\n          text: []\n        };\n        var annoText = annotation.text;\n        annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n        if (rowInfo.text.indexOf(annoText) === -1) rowInfo.text.push(annoText);\n        var type = annotation.type;\n        if (type == \"error\") rowInfo.className = \" ace_error\";else if (type == \"warning\" && rowInfo.className != \" ace_error\") rowInfo.className = \" ace_warning\";else if (type == \"info\" && !rowInfo.className) rowInfo.className = \" ace_info\";\n      }\n    };\n\n    this.$updateAnnotations = function (delta) {\n      if (!this.$annotations.length) return;\n      var firstRow = delta.start.row;\n      var len = delta.end.row - firstRow;\n\n      if (len === 0) {} else if (delta.action == 'remove') {\n        this.$annotations.splice(firstRow, len + 1, null);\n      } else {\n        var args = new Array(len + 1);\n        args.unshift(firstRow, 1);\n        this.$annotations.splice.apply(this.$annotations, args);\n      }\n    };\n\n    this.update = function (config) {\n      var session = this.session;\n      var firstRow = config.firstRow;\n      var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n      session.getLength() - 1);\n      var fold = session.getNextFoldLine(firstRow);\n      var foldStart = fold ? fold.start.row : Infinity;\n      var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n      var breakpoints = session.$breakpoints;\n      var decorations = session.$decorations;\n      var firstLineNumber = session.$firstLineNumber;\n      var lastLineNumber = 0;\n      var gutterRenderer = session.gutterRenderer || this.$renderer;\n      var cell = null;\n      var index = -1;\n      var row = firstRow;\n\n      while (true) {\n        if (row > foldStart) {\n          row = fold.end.row + 1;\n          fold = session.getNextFoldLine(row, fold);\n          foldStart = fold ? fold.start.row : Infinity;\n        }\n\n        if (row > lastRow) {\n          while (this.$cells.length > index + 1) {\n            cell = this.$cells.pop();\n            this.element.removeChild(cell.element);\n          }\n\n          break;\n        }\n\n        cell = this.$cells[++index];\n\n        if (!cell) {\n          cell = {\n            element: null,\n            textNode: null,\n            foldWidget: null\n          };\n          cell.element = dom.createElement(\"div\");\n          cell.textNode = document.createTextNode('');\n          cell.element.appendChild(cell.textNode);\n          this.element.appendChild(cell.element);\n          this.$cells[index] = cell;\n        }\n\n        var className = \"ace_gutter-cell \";\n        if (breakpoints[row]) className += breakpoints[row];\n        if (decorations[row]) className += decorations[row];\n        if (this.$annotations[row]) className += this.$annotations[row].className;\n        if (cell.element.className != className) cell.element.className = className;\n        var height = session.getRowLength(row) * config.lineHeight + \"px\";\n        if (height != cell.element.style.height) cell.element.style.height = height;\n\n        if (foldWidgets) {\n          var c = foldWidgets[row];\n          if (c == null) c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n          if (!cell.foldWidget) {\n            cell.foldWidget = dom.createElement(\"span\");\n            cell.element.appendChild(cell.foldWidget);\n          }\n\n          var className = \"ace_fold-widget ace_\" + c;\n          if (c == \"start\" && row == foldStart && row < fold.end.row) className += \" ace_closed\";else className += \" ace_open\";\n          if (cell.foldWidget.className != className) cell.foldWidget.className = className;\n          var height = config.lineHeight + \"px\";\n          if (cell.foldWidget.style.height != height) cell.foldWidget.style.height = height;\n        } else {\n          if (cell.foldWidget) {\n            cell.element.removeChild(cell.foldWidget);\n            cell.foldWidget = null;\n          }\n        }\n\n        var text = lastLineNumber = gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber;\n        if (text !== cell.textNode.data) cell.textNode.data = text;\n        row++;\n      }\n\n      this.element.style.height = config.minHeight + \"px\";\n      if (this.$fixedWidth || session.$useWrapMode) lastLineNumber = session.getLength() + firstLineNumber;\n      var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineNumber, config) : lastLineNumber.toString().length * config.characterWidth;\n      var padding = this.$padding || this.$computePadding();\n      gutterWidth += padding.left + padding.right;\n\n      if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n        this.gutterWidth = gutterWidth;\n        this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n\n        this._emit(\"changeGutterWidth\", gutterWidth);\n      }\n    };\n\n    this.$fixedWidth = false;\n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n\n    this.setShowLineNumbers = function (show) {\n      this.$renderer = !show && {\n        getWidth: function getWidth() {\n          return \"\";\n        },\n        getText: function getText() {\n          return \"\";\n        }\n      };\n    };\n\n    this.getShowLineNumbers = function () {\n      return this.$showLineNumbers;\n    };\n\n    this.$showFoldWidgets = true;\n\n    this.setShowFoldWidgets = function (show) {\n      if (show) dom.addCssClass(this.element, \"ace_folding-enabled\");else dom.removeCssClass(this.element, \"ace_folding-enabled\");\n      this.$showFoldWidgets = show;\n      this.$padding = null;\n    };\n\n    this.getShowFoldWidgets = function () {\n      return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function () {\n      if (!this.element.firstChild) return {\n        left: 0,\n        right: 0\n      };\n      var style = dom.computedStyle(this.element.firstChild);\n      this.$padding = {};\n      this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;\n      this.$padding.right = parseInt(style.paddingRight) || 0;\n      return this.$padding;\n    };\n\n    this.getRegion = function (point) {\n      var padding = this.$padding || this.$computePadding();\n      var rect = this.element.getBoundingClientRect();\n      if (point.x < padding.left + rect.left) return \"markers\";\n      if (this.$showFoldWidgets && point.x > rect.right - padding.right) return \"foldWidgets\";\n    };\n  }).call(Gutter.prototype);\n  exports.Gutter = Gutter;\n});\nace.define(\"ace/layer/marker\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/dom\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"../range\").Range;\n  var dom = acequire(\"../lib/dom\");\n\n  var Marker = function Marker(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n  };\n\n  (function () {\n    this.$padding = 0;\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n    };\n\n    this.setSession = function (session) {\n      this.session = session;\n    };\n\n    this.setMarkers = function (markers) {\n      this.markers = markers;\n    };\n\n    this.update = function (config) {\n      if (!config) return;\n      this.config = config;\n      var html = [];\n\n      for (var key in this.markers) {\n        var marker = this.markers[key];\n\n        if (!marker.range) {\n          marker.update(html, this, this.session, config);\n          continue;\n        }\n\n        var range = marker.range.clipRows(config.firstRow, config.lastRow);\n        if (range.isEmpty()) continue;\n        range = range.toScreenRange(this.session);\n\n        if (marker.renderer) {\n          var top = this.$getTop(range.start.row, config);\n          var left = this.$padding + (this.session.$bidiHandler.isBidiRow(range.start.row) ? this.session.$bidiHandler.getPosLeft(range.start.column) : range.start.column * config.characterWidth);\n          marker.renderer(html, range, left, top, config);\n        } else if (marker.type == \"fullLine\") {\n          this.drawFullLineMarker(html, range, marker.clazz, config);\n        } else if (marker.type == \"screenLine\") {\n          this.drawScreenLineMarker(html, range, marker.clazz, config);\n        } else if (range.isMultiLine()) {\n          if (marker.type == \"text\") this.drawTextMarker(html, range, marker.clazz, config);else this.drawMultiLineMarker(html, range, marker.clazz, config);\n        } else {\n          if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n            this.drawBidiSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n          } else {\n            this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n          }\n        }\n      }\n\n      this.element.innerHTML = html.join(\"\");\n    };\n\n    this.$getTop = function (row, layerConfig) {\n      return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n      return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n\n    this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n      var session = this.session;\n      var start = range.start.row;\n      var end = range.end.row;\n      var row = start;\n      var prev = 0;\n      var curr = 0;\n      var next = session.getScreenLastRowColumn(row);\n      var clazzModified = null;\n      var lineRange = new Range(row, range.start.column, row, curr);\n\n      for (; row <= end; row++) {\n        lineRange.start.row = lineRange.end.row = row;\n        lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n        lineRange.end.column = next;\n        prev = curr;\n        curr = next;\n        next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n        clazzModified = clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\" + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end);\n\n        if (this.session.$bidiHandler.isBidiRow(row)) {\n          this.drawBidiSingleLineMarker(stringBuilder, lineRange, clazzModified, layerConfig, row == end ? 0 : 1, extraStyle);\n        } else {\n          this.drawSingleLineMarker(stringBuilder, lineRange, clazzModified, layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n      }\n    };\n\n    this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n      var padding = this.$padding;\n      var height, top, left;\n      extraStyle = extraStyle || \"\";\n\n      if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n        var range1 = range.clone();\n        range1.end.row = range1.start.row;\n        range1.end.column = this.session.getLine(range1.start.row).length;\n        this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n      } else {\n        height = config.lineHeight;\n        top = this.$getTop(range.start.row, config);\n        left = padding + range.start.column * config.characterWidth;\n        stringBuilder.push(\"<div class='\", clazz, \" ace_br1 ace_start' style='\", \"height:\", height, \"px;\", \"right:0;\", \"top:\", top, \"px;\", \"left:\", left, \"px;\", extraStyle, \"'></div>\");\n      }\n\n      if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n        var range1 = range.clone();\n        range1.start.row = range1.end.row;\n        range1.start.column = 0;\n        this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n      } else {\n        var width = range.end.column * config.characterWidth;\n        height = config.lineHeight;\n        top = this.$getTop(range.end.row, config);\n        stringBuilder.push(\"<div class='\", clazz, \" ace_br12' style='\", \"height:\", height, \"px;\", \"width:\", width, \"px;\", \"top:\", top, \"px;\", \"left:\", padding, \"px;\", extraStyle, \"'></div>\");\n      }\n\n      height = (range.end.row - range.start.row - 1) * config.lineHeight;\n      if (height <= 0) return;\n      top = this.$getTop(range.start.row + 1, config);\n      var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n      stringBuilder.push(\"<div class='\", clazz, radiusClass ? \" ace_br\" + radiusClass : \"\", \"' style='\", \"height:\", height, \"px;\", \"right:0;\", \"top:\", top, \"px;\", \"left:\", padding, \"px;\", extraStyle, \"'></div>\");\n    };\n\n    this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n      var height = config.lineHeight;\n      var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n      var top = this.$getTop(range.start.row, config);\n      var left = this.$padding + range.start.column * config.characterWidth;\n      stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"width:\", width, \"px;\", \"top:\", top, \"px;\", \"left:\", left, \"px;\", extraStyle || \"\", \"'></div>\");\n    };\n\n    this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n      var height = config.lineHeight,\n          top = this.$getTop(range.start.row, config),\n          padding = this.$padding;\n      var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n      selections.forEach(function (selection) {\n        stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"width:\", selection.width + (extraLength || 0), \"px;\", \"top:\", top, \"px;\", \"left:\", padding + selection.left, \"px;\", extraStyle || \"\", \"'></div>\");\n      });\n    };\n\n    this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n      var top = this.$getTop(range.start.row, config);\n      var height = config.lineHeight;\n      if (range.start.row != range.end.row) height += this.$getTop(range.end.row, config) - top;\n      stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"top:\", top, \"px;\", \"left:0;right:0;\", extraStyle || \"\", \"'></div>\");\n    };\n\n    this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n      var top = this.$getTop(range.start.row, config);\n      var height = config.lineHeight;\n      stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"top:\", top, \"px;\", \"left:0;right:0;\", extraStyle || \"\", \"'></div>\");\n    };\n  }).call(Marker.prototype);\n  exports.Marker = Marker;\n});\nace.define(\"ace/layer/text\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"../lib/oop\");\n  var dom = acequire(\"../lib/dom\");\n  var lang = acequire(\"../lib/lang\");\n  var useragent = acequire(\"../lib/useragent\");\n  var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n  var Text = function Text(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n\n    this.$updateEolChar = function () {\n      var EOL_CHAR = this.session.doc.getNewLineCharacter() == \"\\n\" ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n\n      if (this.EOL_CHAR != EOL_CHAR) {\n        this.EOL_CHAR = EOL_CHAR;\n        return true;\n      }\n    };\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n      this.element.style.padding = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function () {\n      return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function () {\n      return this.$fontMetrics.$characterSize.width || 0;\n    };\n\n    this.$setFontMetrics = function (measure) {\n      this.$fontMetrics = measure;\n      this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n        this._signal(\"changeCharacterSize\", e);\n      }.bind(this));\n      this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function () {\n      this.$fontMetrics.checkForSizeChanges();\n    };\n\n    this.$pollSizeChanges = function () {\n      return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n\n    this.setSession = function (session) {\n      this.session = session;\n      if (session) this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n\n    this.setShowInvisibles = function (showInvisibles) {\n      if (this.showInvisibles == showInvisibles) return false;\n      this.showInvisibles = showInvisibles;\n      this.$computeTabString();\n      return true;\n    };\n\n    this.displayIndentGuides = true;\n\n    this.setDisplayIndentGuides = function (display) {\n      if (this.displayIndentGuides == display) return false;\n      this.displayIndentGuides = display;\n      this.$computeTabString();\n      return true;\n    };\n\n    this.$tabStrings = [];\n\n    this.onChangeTabSize = this.$computeTabString = function () {\n      var tabSize = this.session.getTabSize();\n      this.tabSize = tabSize;\n      var tabStr = this.$tabStrings = [0];\n\n      for (var i = 1; i < tabSize + 1; i++) {\n        if (this.showInvisibles) {\n          tabStr.push(\"<span class='ace_invisible ace_invisible_tab'>\" + lang.stringRepeat(this.TAB_CHAR, i) + \"</span>\");\n        } else {\n          tabStr.push(lang.stringRepeat(\" \", i));\n        }\n      }\n\n      if (this.displayIndentGuides) {\n        this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n        var className = \"ace_indent-guide\";\n        var spaceClass = \"\";\n        var tabClass = \"\";\n\n        if (this.showInvisibles) {\n          className += \" ace_invisible\";\n          spaceClass = \" ace_invisible_space\";\n          tabClass = \" ace_invisible_tab\";\n          var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n          var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n        } else {\n          var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n          var tabContent = spaceContent;\n        }\n\n        this.$tabStrings[\" \"] = \"<span class='\" + className + spaceClass + \"'>\" + spaceContent + \"</span>\";\n        this.$tabStrings[\"\\t\"] = \"<span class='\" + className + tabClass + \"'>\" + tabContent + \"</span>\";\n      }\n    };\n\n    this.updateLines = function (config, firstRow, lastRow) {\n      if (this.config.lastRow != config.lastRow || this.config.firstRow != config.firstRow) {\n        this.scrollLines(config);\n      }\n\n      this.config = config;\n      var first = Math.max(firstRow, config.firstRow);\n      var last = Math.min(lastRow, config.lastRow);\n      var lineElements = this.element.childNodes;\n      var lineElementsIdx = 0;\n\n      for (var row = config.firstRow; row < first; row++) {\n        var foldLine = this.session.getFoldLine(row);\n\n        if (foldLine) {\n          if (foldLine.containsRow(first)) {\n            first = foldLine.start.row;\n            break;\n          } else {\n            row = foldLine.end.row;\n          }\n        }\n\n        lineElementsIdx++;\n      }\n\n      var row = first;\n      var foldLine = this.session.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (true) {\n        if (row > foldStart) {\n          row = foldLine.end.row + 1;\n          foldLine = this.session.getNextFoldLine(row, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        }\n\n        if (row > last) break;\n        var lineElement = lineElements[lineElementsIdx++];\n\n        if (lineElement) {\n          var html = [];\n          this.$renderLine(html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false);\n          lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n          lineElement.innerHTML = html.join(\"\");\n        }\n\n        row++;\n      }\n    };\n\n    this.scrollLines = function (config) {\n      var oldConfig = this.config;\n      this.config = config;\n      if (!oldConfig || oldConfig.lastRow < config.firstRow) return this.update(config);\n      if (config.lastRow < oldConfig.firstRow) return this.update(config);\n      var el = this.element;\n      if (oldConfig.firstRow < config.firstRow) for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--) {\n        el.removeChild(el.firstChild);\n      }\n      if (oldConfig.lastRow > config.lastRow) for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--) {\n        el.removeChild(el.lastChild);\n      }\n\n      if (config.firstRow < oldConfig.firstRow) {\n        var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);\n        if (el.firstChild) el.insertBefore(fragment, el.firstChild);else el.appendChild(fragment);\n      }\n\n      if (config.lastRow > oldConfig.lastRow) {\n        var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);\n        el.appendChild(fragment);\n      }\n    };\n\n    this.$renderLinesFragment = function (config, firstRow, lastRow) {\n      var fragment = this.element.ownerDocument.createDocumentFragment();\n      var row = firstRow;\n      var foldLine = this.session.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (true) {\n        if (row > foldStart) {\n          row = foldLine.end.row + 1;\n          foldLine = this.session.getNextFoldLine(row, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        }\n\n        if (row > lastRow) break;\n        var container = dom.createElement(\"div\");\n        var html = [];\n        this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n        container.innerHTML = html.join(\"\");\n\n        if (this.$useLineGroups()) {\n          container.className = 'ace_line_group';\n          fragment.appendChild(container);\n          container.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n        } else {\n          while (container.firstChild) {\n            fragment.appendChild(container.firstChild);\n          }\n        }\n\n        row++;\n      }\n\n      return fragment;\n    };\n\n    this.update = function (config) {\n      this.config = config;\n      var html = [];\n      var firstRow = config.firstRow,\n          lastRow = config.lastRow;\n      var row = firstRow;\n      var foldLine = this.session.getNextFoldLine(row);\n      var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n      while (true) {\n        if (row > foldStart) {\n          row = foldLine.end.row + 1;\n          foldLine = this.session.getNextFoldLine(row, foldLine);\n          foldStart = foldLine ? foldLine.start.row : Infinity;\n        }\n\n        if (row > lastRow) break;\n        if (this.$useLineGroups()) html.push(\"<div class='ace_line_group' style='height:\", config.lineHeight * this.session.getRowLength(row), \"px'>\");\n        this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n        if (this.$useLineGroups()) html.push(\"</div>\"); // end the line group\n\n        row++;\n      }\n\n      this.element.innerHTML = html.join(\"\");\n    };\n\n    this.$textToken = {\n      \"text\": true,\n      \"rparen\": true,\n      \"lparen\": true\n    };\n\n    this.$renderToken = function (stringBuilder, screenColumn, token, value) {\n      var self = this;\n      var replaceReg = /\\t|&|<|>|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\uFFF9-\\uFFFC])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\n      var replaceFunc = function replaceFunc(c, a, b, tabIdx, idx4) {\n        if (a) {\n          return self.showInvisibles ? \"<span class='ace_invisible ace_invisible_space'>\" + lang.stringRepeat(self.SPACE_CHAR, c.length) + \"</span>\" : c;\n        } else if (c == \"&\") {\n          return \"&#38;\";\n        } else if (c == \"<\") {\n          return \"&#60;\";\n        } else if (c == \">\") {\n          return \"&#62;\";\n        } else if (c == \"\\t\") {\n          var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);\n          screenColumn += tabSize - 1;\n          return self.$tabStrings[tabSize];\n        } else if (c == \"\\u3000\") {\n          var classToUse = self.showInvisibles ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n          var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n          screenColumn += 1;\n          return \"<span class='\" + classToUse + \"' style='width:\" + self.config.characterWidth * 2 + \"px'>\" + space + \"</span>\";\n        } else if (b) {\n          return \"<span class='ace_invisible ace_invisible_space ace_invalid'>\" + self.SPACE_CHAR + \"</span>\";\n        } else {\n          screenColumn += 1;\n          return \"<span class='ace_cjk' style='width:\" + self.config.characterWidth * 2 + \"px'>\" + c + \"</span>\";\n        }\n      };\n\n      var output = value.replace(replaceReg, replaceFunc);\n\n      if (!this.$textToken[token.type]) {\n        var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n        var style = \"\";\n        if (token.type == \"fold\") style = \" style='width:\" + token.value.length * this.config.characterWidth + \"px;' \";\n        stringBuilder.push(\"<span class='\", classes, \"'\", style, \">\", output, \"</span>\");\n      } else {\n        stringBuilder.push(output);\n      }\n\n      return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function (stringBuilder, value, max) {\n      var cols = value.search(this.$indentGuideRe);\n      if (cols <= 0 || cols >= max) return value;\n\n      if (value[0] == \" \") {\n        cols -= cols % this.tabSize;\n        stringBuilder.push(lang.stringRepeat(this.$tabStrings[\" \"], cols / this.tabSize));\n        return value.substr(cols);\n      } else if (value[0] == \"\\t\") {\n        stringBuilder.push(lang.stringRepeat(this.$tabStrings[\"\\t\"], cols));\n        return value.substr(cols);\n      }\n\n      return value;\n    };\n\n    this.$renderWrappedLine = function (stringBuilder, tokens, splits, onlyContents) {\n      var chars = 0;\n      var split = 0;\n      var splitChars = splits[0];\n      var screenColumn = 0;\n\n      for (var i = 0; i < tokens.length; i++) {\n        var token = tokens[i];\n        var value = token.value;\n\n        if (i == 0 && this.displayIndentGuides) {\n          chars = value.length;\n          value = this.renderIndentGuide(stringBuilder, value, splitChars);\n          if (!value) continue;\n          chars -= value.length;\n        }\n\n        if (chars + value.length < splitChars) {\n          screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n          chars += value.length;\n        } else {\n          while (chars + value.length >= splitChars) {\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value.substring(0, splitChars - chars));\n            value = value.substring(splitChars - chars);\n            chars = splitChars;\n\n            if (!onlyContents) {\n              stringBuilder.push(\"</div>\", \"<div class='ace_line' style='height:\", this.config.lineHeight, \"px'>\");\n            }\n\n            stringBuilder.push(lang.stringRepeat(\"\\xa0\", splits.indent));\n            split++;\n            screenColumn = 0;\n            splitChars = splits[split] || Number.MAX_VALUE;\n          }\n\n          if (value.length != 0) {\n            chars += value.length;\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n          }\n        }\n      }\n    };\n\n    this.$renderSimpleLine = function (stringBuilder, tokens) {\n      var screenColumn = 0;\n      var token = tokens[0];\n      var value = token.value;\n      if (this.displayIndentGuides) value = this.renderIndentGuide(stringBuilder, value);\n      if (value) screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n\n      for (var i = 1; i < tokens.length; i++) {\n        token = tokens[i];\n        value = token.value;\n        screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n      }\n    };\n\n    this.$renderLine = function (stringBuilder, row, onlyContents, foldLine) {\n      if (!foldLine && foldLine != false) foldLine = this.session.getFoldLine(row);\n      if (foldLine) var tokens = this.$getFoldLineTokens(row, foldLine);else var tokens = this.session.getTokens(row);\n\n      if (!onlyContents) {\n        stringBuilder.push(\"<div class='ace_line' style='height:\", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(row)), \"px'>\");\n      }\n\n      if (tokens.length) {\n        var splits = this.session.getRowSplitData(row);\n        if (splits && splits.length) this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);else this.$renderSimpleLine(stringBuilder, tokens);\n      }\n\n      if (this.showInvisibles) {\n        if (foldLine) row = foldLine.end.row;\n        stringBuilder.push(\"<span class='ace_invisible ace_invisible_eol'>\", row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, \"</span>\");\n      }\n\n      if (!onlyContents) stringBuilder.push(\"</div>\");\n    };\n\n    this.$getFoldLineTokens = function (row, foldLine) {\n      var session = this.session;\n      var renderTokens = [];\n\n      function addTokens(tokens, from, to) {\n        var idx = 0,\n            col = 0;\n\n        while (col + tokens[idx].value.length < from) {\n          col += tokens[idx].value.length;\n          idx++;\n          if (idx == tokens.length) return;\n        }\n\n        if (col != from) {\n          var value = tokens[idx].value.substring(from - col);\n          if (value.length > to - from) value = value.substring(0, to - from);\n          renderTokens.push({\n            type: tokens[idx].type,\n            value: value\n          });\n          col = from + value.length;\n          idx += 1;\n        }\n\n        while (col < to && idx < tokens.length) {\n          var value = tokens[idx].value;\n\n          if (value.length + col > to) {\n            renderTokens.push({\n              type: tokens[idx].type,\n              value: value.substring(0, to - col)\n            });\n          } else renderTokens.push(tokens[idx]);\n\n          col += value.length;\n          idx += 1;\n        }\n      }\n\n      var tokens = session.getTokens(row);\n      foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n        if (placeholder != null) {\n          renderTokens.push({\n            type: \"fold\",\n            value: placeholder\n          });\n        } else {\n          if (isNewRow) tokens = session.getTokens(row);\n          if (tokens.length) addTokens(tokens, lastColumn, column);\n        }\n      }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n      return renderTokens;\n    };\n\n    this.$useLineGroups = function () {\n      return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function () {\n      clearInterval(this.$pollSizeChangesTimer);\n      if (this.$measureNode) this.$measureNode.parentNode.removeChild(this.$measureNode);\n      delete this.$measureNode;\n    };\n  }).call(Text.prototype);\n  exports.Text = Text;\n});\nace.define(\"ace/layer/cursor\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var dom = acequire(\"../lib/dom\");\n  var isIE8;\n\n  var Cursor = function Cursor(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    if (isIE8 === undefined) isIE8 = !(\"opacity\" in this.element.style);\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = (isIE8 ? this.$updateVisibility : this.$updateOpacity).bind(this);\n  };\n\n  (function () {\n    this.$updateVisibility = function (val) {\n      var cursors = this.cursors;\n\n      for (var i = cursors.length; i--;) {\n        cursors[i].style.visibility = val ? \"\" : \"hidden\";\n      }\n    };\n\n    this.$updateOpacity = function (val) {\n      var cursors = this.cursors;\n\n      for (var i = cursors.length; i--;) {\n        cursors[i].style.opacity = val ? \"\" : \"0\";\n      }\n    };\n\n    this.$padding = 0;\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n    };\n\n    this.setSession = function (session) {\n      this.session = session;\n    };\n\n    this.setBlinking = function (blinking) {\n      if (blinking != this.isBlinking) {\n        this.isBlinking = blinking;\n        this.restartTimer();\n      }\n    };\n\n    this.setBlinkInterval = function (blinkInterval) {\n      if (blinkInterval != this.blinkInterval) {\n        this.blinkInterval = blinkInterval;\n        this.restartTimer();\n      }\n    };\n\n    this.setSmoothBlinking = function (smoothBlinking) {\n      if (smoothBlinking != this.smoothBlinking && !isIE8) {\n        this.smoothBlinking = smoothBlinking;\n        dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n        this.$updateCursors(true);\n        this.$updateCursors = this.$updateOpacity.bind(this);\n        this.restartTimer();\n      }\n    };\n\n    this.addCursor = function () {\n      var el = dom.createElement(\"div\");\n      el.className = \"ace_cursor\";\n      this.element.appendChild(el);\n      this.cursors.push(el);\n      return el;\n    };\n\n    this.removeCursor = function () {\n      if (this.cursors.length > 1) {\n        var el = this.cursors.pop();\n        el.parentNode.removeChild(el);\n        return el;\n      }\n    };\n\n    this.hideCursor = function () {\n      this.isVisible = false;\n      dom.addCssClass(this.element, \"ace_hidden-cursors\");\n      this.restartTimer();\n    };\n\n    this.showCursor = function () {\n      this.isVisible = true;\n      dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n      this.restartTimer();\n    };\n\n    this.restartTimer = function () {\n      var update = this.$updateCursors;\n      clearInterval(this.intervalId);\n      clearTimeout(this.timeoutId);\n\n      if (this.smoothBlinking) {\n        dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n      }\n\n      update(true);\n      if (!this.isBlinking || !this.blinkInterval || !this.isVisible) return;\n\n      if (this.smoothBlinking) {\n        setTimeout(function () {\n          dom.addCssClass(this.element, \"ace_smooth-blinking\");\n        }.bind(this));\n      }\n\n      var blink = function () {\n        this.timeoutId = setTimeout(function () {\n          update(false);\n        }, 0.6 * this.blinkInterval);\n      }.bind(this);\n\n      this.intervalId = setInterval(function () {\n        update(true);\n        blink();\n      }, this.blinkInterval);\n      blink();\n    };\n\n    this.getPixelPosition = function (position, onScreen) {\n      if (!this.config || !this.session) return {\n        left: 0,\n        top: 0\n      };\n      if (!position) position = this.session.selection.getCursor();\n      var pos = this.session.documentToScreenPosition(position);\n      var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);\n      var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;\n      return {\n        left: cursorLeft,\n        top: cursorTop\n      };\n    };\n\n    this.update = function (config) {\n      this.config = config;\n      var selections = this.session.$selectionMarkers;\n      var i = 0,\n          cursorIndex = 0;\n\n      if (selections === undefined || selections.length === 0) {\n        selections = [{\n          cursor: null\n        }];\n      }\n\n      for (var i = 0, n = selections.length; i < n; i++) {\n        var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n\n        if ((pixelPos.top > config.height + config.offset || pixelPos.top < 0) && i > 1) {\n          continue;\n        }\n\n        var style = (this.cursors[cursorIndex++] || this.addCursor()).style;\n\n        if (!this.drawCursor) {\n          style.left = pixelPos.left + \"px\";\n          style.top = pixelPos.top + \"px\";\n          style.width = config.characterWidth + \"px\";\n          style.height = config.lineHeight + \"px\";\n        } else {\n          this.drawCursor(style, pixelPos, config, selections[i], this.session);\n        }\n      }\n\n      while (this.cursors.length > cursorIndex) {\n        this.removeCursor();\n      }\n\n      var overwrite = this.session.getOverwrite();\n      this.$setOverwrite(overwrite);\n      this.$pixelPos = pixelPos;\n      this.restartTimer();\n    };\n\n    this.drawCursor = null;\n\n    this.$setOverwrite = function (overwrite) {\n      if (overwrite != this.overwrite) {\n        this.overwrite = overwrite;\n        if (overwrite) dom.addCssClass(this.element, \"ace_overwrite-cursors\");else dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n      }\n    };\n\n    this.destroy = function () {\n      clearInterval(this.intervalId);\n      clearTimeout(this.timeoutId);\n    };\n  }).call(Cursor.prototype);\n  exports.Cursor = Cursor;\n});\nace.define(\"ace/scrollbar\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var dom = acequire(\"./lib/dom\");\n  var event = acequire(\"./lib/event\");\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var MAX_SCROLL_H = 0x8000;\n\n  var ScrollBar = function ScrollBar(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.element.appendChild(this.inner);\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function (isVisible) {\n      this.element.style.display = isVisible ? \"\" : \"none\";\n      this.isVisible = isVisible;\n      this.coeff = 1;\n    };\n  }).call(ScrollBar.prototype);\n\n  var VScrollBar = function VScrollBar(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n  };\n\n  oop.inherits(VScrollBar, ScrollBar);\n  (function () {\n    this.classSuffix = '-v';\n\n    this.onScroll = function () {\n      if (!this.skipEvent) {\n        this.scrollTop = this.element.scrollTop;\n\n        if (this.coeff != 1) {\n          var h = this.element.clientHeight / this.scrollHeight;\n          this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n        }\n\n        this._emit(\"scroll\", {\n          data: this.scrollTop\n        });\n      }\n\n      this.skipEvent = false;\n    };\n\n    this.getWidth = function () {\n      return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n\n    this.setHeight = function (height) {\n      this.element.style.height = height + \"px\";\n    };\n\n    this.setInnerHeight = this.setScrollHeight = function (height) {\n      this.scrollHeight = height;\n\n      if (height > MAX_SCROLL_H) {\n        this.coeff = MAX_SCROLL_H / height;\n        height = MAX_SCROLL_H;\n      } else if (this.coeff != 1) {\n        this.coeff = 1;\n      }\n\n      this.inner.style.height = height + \"px\";\n    };\n\n    this.setScrollTop = function (scrollTop) {\n      if (this.scrollTop != scrollTop) {\n        this.skipEvent = true;\n        this.scrollTop = scrollTop;\n        this.element.scrollTop = scrollTop * this.coeff;\n      }\n    };\n  }).call(VScrollBar.prototype);\n\n  var HScrollBar = function HScrollBar(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + \"px\";\n  };\n\n  oop.inherits(HScrollBar, ScrollBar);\n  (function () {\n    this.classSuffix = '-h';\n\n    this.onScroll = function () {\n      if (!this.skipEvent) {\n        this.scrollLeft = this.element.scrollLeft;\n\n        this._emit(\"scroll\", {\n          data: this.scrollLeft\n        });\n      }\n\n      this.skipEvent = false;\n    };\n\n    this.getHeight = function () {\n      return this.isVisible ? this.height : 0;\n    };\n\n    this.setWidth = function (width) {\n      this.element.style.width = width + \"px\";\n    };\n\n    this.setInnerWidth = function (width) {\n      this.inner.style.width = width + \"px\";\n    };\n\n    this.setScrollWidth = function (width) {\n      this.inner.style.width = width + \"px\";\n    };\n\n    this.setScrollLeft = function (scrollLeft) {\n      if (this.scrollLeft != scrollLeft) {\n        this.skipEvent = true;\n        this.scrollLeft = this.element.scrollLeft = scrollLeft;\n      }\n    };\n  }).call(HScrollBar.prototype);\n  exports.ScrollBar = VScrollBar; // backward compatibility\n\n  exports.ScrollBarV = VScrollBar; // backward compatibility\n\n  exports.ScrollBarH = HScrollBar; // backward compatibility\n\n  exports.VScrollBar = VScrollBar;\n  exports.HScrollBar = HScrollBar;\n});\nace.define(\"ace/renderloop\", [\"require\", \"exports\", \"module\", \"ace/lib/event\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var event = acequire(\"./lib/event\");\n\n  var RenderLoop = function RenderLoop(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.window = win || window;\n  };\n\n  (function () {\n    this.schedule = function (change) {\n      this.changes = this.changes | change;\n\n      if (!this.pending && this.changes) {\n        this.pending = true;\n\n        var _self = this;\n\n        event.nextFrame(function () {\n          _self.pending = false;\n          var changes;\n\n          while (changes = _self.changes) {\n            _self.changes = 0;\n\n            _self.onRender(changes);\n          }\n        }, this.window);\n      }\n    };\n  }).call(RenderLoop.prototype);\n  exports.RenderLoop = RenderLoop;\n});\nace.define(\"ace/layer/font_metrics\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  var oop = acequire(\"../lib/oop\");\n  var dom = acequire(\"../lib/dom\");\n  var lang = acequire(\"../lib/lang\");\n  var useragent = acequire(\"../lib/useragent\");\n  var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n  var CHAR_COUNT = 0;\n\n  var FontMetrics = exports.FontMetrics = function (parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    if (!CHAR_COUNT) this.$testFractionalRect();\n    this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n    this.$characterSize = {\n      width: 0,\n      height: 0\n    };\n    this.checkForSizeChanges();\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n    this.$characterSize = {\n      width: 0,\n      height: 0\n    };\n\n    this.$testFractionalRect = function () {\n      var el = dom.createElement(\"div\");\n      this.$setMeasureNodeStyles(el.style);\n      el.style.width = \"0.2px\";\n      document.documentElement.appendChild(el);\n      var w = el.getBoundingClientRect().width;\n      if (w > 0 && w < 1) CHAR_COUNT = 50;else CHAR_COUNT = 100;\n      el.parentNode.removeChild(el);\n    };\n\n    this.$setMeasureNodeStyles = function (style, isRoot) {\n      style.width = style.height = \"auto\";\n      style.left = style.top = \"0px\";\n      style.visibility = \"hidden\";\n      style.position = \"absolute\";\n      style.whiteSpace = \"pre\";\n\n      if (useragent.isIE < 8) {\n        style[\"font-family\"] = \"inherit\";\n      } else {\n        style.font = \"inherit\";\n      }\n\n      style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function () {\n      var size = this.$measureSizes();\n\n      if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n        this.$measureNode.style.fontWeight = \"bold\";\n        var boldSize = this.$measureSizes();\n        this.$measureNode.style.fontWeight = \"\";\n        this.$characterSize = size;\n        this.charSizes = Object.create(null);\n        this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n\n        this._emit(\"changeCharacterSize\", {\n          data: size\n        });\n      }\n    };\n\n    this.$pollSizeChanges = function () {\n      if (this.$pollSizeChangesTimer) return this.$pollSizeChangesTimer;\n      var self = this;\n      return this.$pollSizeChangesTimer = setInterval(function () {\n        self.checkForSizeChanges();\n      }, 500);\n    };\n\n    this.setPolling = function (val) {\n      if (val) {\n        this.$pollSizeChanges();\n      } else if (this.$pollSizeChangesTimer) {\n        clearInterval(this.$pollSizeChangesTimer);\n        this.$pollSizeChangesTimer = 0;\n      }\n    };\n\n    this.$measureSizes = function () {\n      if (CHAR_COUNT === 50) {\n        var rect = null;\n\n        try {\n          rect = this.$measureNode.getBoundingClientRect();\n        } catch (e) {\n          rect = {\n            width: 0,\n            height: 0\n          };\n        }\n\n        var size = {\n          height: rect.height,\n          width: rect.width / CHAR_COUNT\n        };\n      } else {\n        var size = {\n          height: this.$measureNode.clientHeight,\n          width: this.$measureNode.clientWidth / CHAR_COUNT\n        };\n      }\n\n      if (size.width === 0 || size.height === 0) return null;\n      return size;\n    };\n\n    this.$measureCharWidth = function (ch) {\n      this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n      var rect = this.$main.getBoundingClientRect();\n      return rect.width / CHAR_COUNT;\n    };\n\n    this.getCharacterWidth = function (ch) {\n      var w = this.charSizes[ch];\n\n      if (w === undefined) {\n        w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n      }\n\n      return w;\n    };\n\n    this.destroy = function () {\n      clearInterval(this.$pollSizeChangesTimer);\n      if (this.el && this.el.parentNode) this.el.parentNode.removeChild(this.el);\n    };\n  }).call(FontMetrics.prototype);\n});\nace.define(\"ace/virtual_renderer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/config\", \"ace/lib/useragent\", \"ace/layer/gutter\", \"ace/layer/marker\", \"ace/layer/text\", \"ace/layer/cursor\", \"ace/scrollbar\", \"ace/scrollbar\", \"ace/renderloop\", \"ace/layer/font_metrics\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var dom = acequire(\"./lib/dom\");\n  var config = acequire(\"./config\");\n  var useragent = acequire(\"./lib/useragent\");\n  var GutterLayer = acequire(\"./layer/gutter\").Gutter;\n  var MarkerLayer = acequire(\"./layer/marker\").Marker;\n  var TextLayer = acequire(\"./layer/text\").Text;\n  var CursorLayer = acequire(\"./layer/cursor\").Cursor;\n  var HScrollBar = acequire(\"./scrollbar\").HScrollBar;\n  var VScrollBar = acequire(\"./scrollbar\").VScrollBar;\n  var RenderLoop = acequire(\"./renderloop\").RenderLoop;\n  var FontMetrics = acequire(\"./layer/font_metrics\").FontMetrics;\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var editorCss = \".ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ntext-indent: -1em;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: inherit;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\ntext-indent: 0;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\n-webkit-transition: opacity 0.18s;\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\n-webkit-transition: opacity 0.4s ease 0.05s;\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\n-webkit-transition: opacity 0.05s ease 0.05s;\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_text-input-ios {\\\nposition: absolute !important;\\\ntop: -100000px !important;\\\nleft: -100000px !important;\\\n}\\\n\";\n  dom.importCssString(editorCss, \"ace_editor.css\");\n\n  var VirtualRenderer = function VirtualRenderer(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n    this.$keepTextAreaAtCursor = !useragent.isOldIE;\n    dom.addCssClass(this.container, \"ace_editor\");\n    this.setTheme(theme);\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n    this.$markerBack = new MarkerLayer(this.content);\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n    this.$markerFront = new MarkerLayer(this.content);\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n    this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.addEventListener(\"scroll\", function (e) {\n      if (!_self.$scrollAnimation) _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.addEventListener(\"scroll\", function (e) {\n      if (!_self.$scrollAnimation) _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n    this.cursorPos = {\n      row: 0,\n      column: 0\n    };\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.addEventListener(\"changeCharacterSize\", function (e) {\n      _self.updateCharacterSize();\n\n      _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n\n      _self._signal(\"changeCharacterSize\", e);\n    });\n    this.$size = {\n      width: 0,\n      height: 0,\n      scrollerHeight: 0,\n      scrollerWidth: 0,\n      $dirty: true\n    };\n    this.layerConfig = {\n      width: 1,\n      padding: 0,\n      firstRow: 0,\n      firstRowScreen: 0,\n      lastRow: 0,\n      lineHeight: 0,\n      characterWidth: 0,\n      minHeight: 1,\n      maxHeight: 1,\n      offset: 0,\n      height: 1,\n      gutterOffset: 1\n    };\n    this.scrollMargin = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      v: 0,\n      h: 0\n    };\n    this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n    this.$loop.schedule(this.CHANGE_FULL);\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n\n    config._emit(\"renderer\", this);\n  };\n\n  (function () {\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function () {\n      if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n        this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n        this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n      }\n\n      this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();\n      this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();\n      this.$updatePrintMargin();\n    };\n\n    this.setSession = function (session) {\n      if (this.session) this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n      this.session = session;\n      if (session && this.scrollMargin.top && session.getScrollTop() <= 0) session.setScrollTop(-this.scrollMargin.top);\n      this.$cursorLayer.setSession(session);\n      this.$markerBack.setSession(session);\n      this.$markerFront.setSession(session);\n      this.$gutterLayer.setSession(session);\n      this.$textLayer.setSession(session);\n      if (!session) return;\n      this.$loop.schedule(this.CHANGE_FULL);\n      this.session.$setFontMetrics(this.$fontMetrics);\n      this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n      this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n      this.onChangeNewLineMode();\n      this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n\n    this.updateLines = function (firstRow, lastRow, force) {\n      if (lastRow === undefined) lastRow = Infinity;\n\n      if (!this.$changedLines) {\n        this.$changedLines = {\n          firstRow: firstRow,\n          lastRow: lastRow\n        };\n      } else {\n        if (this.$changedLines.firstRow > firstRow) this.$changedLines.firstRow = firstRow;\n        if (this.$changedLines.lastRow < lastRow) this.$changedLines.lastRow = lastRow;\n      }\n\n      if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n        if (force) this.$changedLines.lastRow = this.layerConfig.lastRow;else return;\n      }\n\n      if (this.$changedLines.firstRow > this.layerConfig.lastRow) return;\n      this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function () {\n      this.$loop.schedule(this.CHANGE_TEXT);\n      this.$textLayer.$updateEolChar();\n      this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n\n    this.onChangeTabSize = function () {\n      this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n      this.$textLayer.onChangeTabSize();\n    };\n\n    this.updateText = function () {\n      this.$loop.schedule(this.CHANGE_TEXT);\n    };\n\n    this.updateFull = function (force) {\n      if (force) this.$renderChanges(this.CHANGE_FULL, true);else this.$loop.schedule(this.CHANGE_FULL);\n    };\n\n    this.updateFontSize = function () {\n      this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n\n    this.$updateSizeAsync = function () {\n      if (this.$loop.pending) this.$size.$dirty = true;else this.onResize();\n    };\n\n    this.onResize = function (force, gutterWidth, width, height) {\n      if (this.resizing > 2) return;else if (this.resizing > 0) this.resizing++;else this.resizing = force ? 1 : 0;\n      var el = this.container;\n      if (!height) height = el.clientHeight || el.scrollHeight;\n      if (!width) width = el.clientWidth || el.scrollWidth;\n      var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n      if (!this.$size.scrollerHeight || !width && !height) return this.resizing = 0;\n      if (force) this.$gutterLayer.$padding = null;\n      if (force) this.$renderChanges(changes | this.$changes, true);else this.$loop.schedule(changes | this.$changes);\n      if (this.resizing) this.resizing = 0;\n      this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n\n    this.$updateCachedSize = function (force, gutterWidth, width, height) {\n      height -= this.$extraHeight || 0;\n      var changes = 0;\n      var size = this.$size;\n      var oldSize = {\n        width: size.width,\n        height: size.height,\n        scrollerHeight: size.scrollerHeight,\n        scrollerWidth: size.scrollerWidth\n      };\n\n      if (height && (force || size.height != height)) {\n        size.height = height;\n        changes |= this.CHANGE_SIZE;\n        size.scrollerHeight = size.height;\n        if (this.$horizScroll) size.scrollerHeight -= this.scrollBarH.getHeight();\n        this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n        changes = changes | this.CHANGE_SCROLL;\n      }\n\n      if (width && (force || size.width != width)) {\n        changes |= this.CHANGE_SIZE;\n        size.width = width;\n        if (gutterWidth == null) gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n        this.gutterWidth = gutterWidth;\n        this.scrollBarH.element.style.left = this.scroller.style.left = gutterWidth + \"px\";\n        size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());\n        this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + \"px\";\n        this.scroller.style.bottom = this.scrollBarH.getHeight() + \"px\";\n        if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) changes |= this.CHANGE_FULL;\n      }\n\n      size.$dirty = !width || !height;\n      if (changes) this._signal(\"resize\", oldSize);\n      return changes;\n    };\n\n    this.onGutterResize = function () {\n      var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n      if (gutterWidth != this.gutterWidth) this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n      if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n        this.$loop.schedule(this.CHANGE_FULL);\n      } else if (this.$size.$dirty) {\n        this.$loop.schedule(this.CHANGE_FULL);\n      } else {\n        this.$computeLayerConfig();\n        this.$loop.schedule(this.CHANGE_MARKER);\n      }\n    };\n\n    this.adjustWrapLimit = function () {\n      var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n      var limit = Math.floor(availableWidth / this.characterWidth);\n      return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n\n    this.setAnimatedScroll = function (shouldAnimate) {\n      this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function () {\n      return this.$animatedScroll;\n    };\n\n    this.setShowInvisibles = function (showInvisibles) {\n      this.setOption(\"showInvisibles\", showInvisibles);\n      this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n\n    this.getShowInvisibles = function () {\n      return this.getOption(\"showInvisibles\");\n    };\n\n    this.getDisplayIndentGuides = function () {\n      return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function (display) {\n      this.setOption(\"displayIndentGuides\", display);\n    };\n\n    this.setShowPrintMargin = function (showPrintMargin) {\n      this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n\n    this.getShowPrintMargin = function () {\n      return this.getOption(\"showPrintMargin\");\n    };\n\n    this.setPrintMarginColumn = function (showPrintMargin) {\n      this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n\n    this.getPrintMarginColumn = function () {\n      return this.getOption(\"printMarginColumn\");\n    };\n\n    this.getShowGutter = function () {\n      return this.getOption(\"showGutter\");\n    };\n\n    this.setShowGutter = function (show) {\n      return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function () {\n      return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function (show) {\n      this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function (shouldHighlight) {\n      this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function () {\n      return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updateGutterLineHighlight = function () {\n      var pos = this.$cursorLayer.$pixelPos;\n      var height = this.layerConfig.lineHeight;\n\n      if (this.session.getUseWrapMode()) {\n        var cursor = this.session.selection.getCursor();\n        cursor.column = 0;\n        pos = this.$cursorLayer.getPixelPosition(cursor, true);\n        height *= this.session.getRowLength(cursor.row);\n      }\n\n      this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + \"px\";\n      this.$gutterLineHighlight.style.height = height + \"px\";\n    };\n\n    this.$updatePrintMargin = function () {\n      if (!this.$showPrintMargin && !this.$printMarginEl) return;\n\n      if (!this.$printMarginEl) {\n        var containerEl = dom.createElement(\"div\");\n        containerEl.className = \"ace_layer ace_print-margin-layer\";\n        this.$printMarginEl = dom.createElement(\"div\");\n        this.$printMarginEl.className = \"ace_print-margin\";\n        containerEl.appendChild(this.$printMarginEl);\n        this.content.insertBefore(containerEl, this.content.firstChild);\n      }\n\n      var style = this.$printMarginEl.style;\n      style.left = this.characterWidth * this.$printMarginColumn + this.$padding + \"px\";\n      style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n      if (this.session && this.session.$wrap == -1) this.adjustWrapLimit();\n    };\n\n    this.getContainerElement = function () {\n      return this.container;\n    };\n\n    this.getMouseEventTarget = function () {\n      return this.scroller;\n    };\n\n    this.getTextAreaContainer = function () {\n      return this.container;\n    };\n\n    this.$moveTextAreaToCursor = function () {\n      if (!this.$keepTextAreaAtCursor) return;\n      var config = this.layerConfig;\n      var posTop = this.$cursorLayer.$pixelPos.top;\n      var posLeft = this.$cursorLayer.$pixelPos.left;\n      posTop -= config.offset;\n      var style = this.textarea.style;\n      var h = this.lineHeight;\n\n      if (posTop < 0 || posTop > config.height - h) {\n        style.top = style.left = \"0\";\n        return;\n      }\n\n      var w = this.characterWidth;\n\n      if (this.$composition) {\n        var val = this.textarea.value.replace(/^\\x01+/, \"\");\n        w *= this.session.$getStringScreenWidth(val)[0] + 2;\n        h += 2;\n      }\n\n      posLeft -= this.scrollLeft;\n      if (posLeft > this.$size.scrollerWidth - w) posLeft = this.$size.scrollerWidth - w;\n      posLeft += this.gutterWidth;\n      style.height = h + \"px\";\n      style.width = w + \"px\";\n      style.left = Math.min(posLeft, this.$size.scrollerWidth - w) + \"px\";\n      style.top = Math.min(posTop, this.$size.height - h) + \"px\";\n    };\n\n    this.getFirstVisibleRow = function () {\n      return this.layerConfig.firstRow;\n    };\n\n    this.getFirstFullyVisibleRow = function () {\n      return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n\n    this.getLastFullyVisibleRow = function () {\n      var config = this.layerConfig;\n      var lastRow = config.lastRow;\n      var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n      if (top - this.session.getScrollTop() > config.height - config.lineHeight) return lastRow - 1;\n      return lastRow;\n    };\n\n    this.getLastVisibleRow = function () {\n      return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n\n    this.setPadding = function (padding) {\n      this.$padding = padding;\n      this.$textLayer.setPadding(padding);\n      this.$cursorLayer.setPadding(padding);\n      this.$markerFront.setPadding(padding);\n      this.$markerBack.setPadding(padding);\n      this.$loop.schedule(this.CHANGE_FULL);\n      this.$updatePrintMargin();\n    };\n\n    this.setScrollMargin = function (top, bottom, left, right) {\n      var sm = this.scrollMargin;\n      sm.top = top | 0;\n      sm.bottom = bottom | 0;\n      sm.right = right | 0;\n      sm.left = left | 0;\n      sm.v = sm.top + sm.bottom;\n      sm.h = sm.left + sm.right;\n      if (sm.top && this.scrollTop <= 0 && this.session) this.session.setScrollTop(-sm.top);\n      this.updateFull();\n    };\n\n    this.getHScrollBarAlwaysVisible = function () {\n      return this.$hScrollBarAlwaysVisible;\n    };\n\n    this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n      this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.getVScrollBarAlwaysVisible = function () {\n      return this.$vScrollBarAlwaysVisible;\n    };\n\n    this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n      this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function () {\n      var scrollHeight = this.layerConfig.maxHeight;\n      var scrollerHeight = this.$size.scrollerHeight;\n\n      if (!this.$maxLines && this.$scrollPastEnd) {\n        scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n\n        if (this.scrollTop > scrollHeight - scrollerHeight) {\n          scrollHeight = this.scrollTop + scrollerHeight;\n          this.scrollBarV.scrollTop = null;\n        }\n      }\n\n      this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n      this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n\n    this.$updateScrollBarH = function () {\n      this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n      this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n\n    this.$frozen = false;\n\n    this.freeze = function () {\n      this.$frozen = true;\n    };\n\n    this.unfreeze = function () {\n      this.$frozen = false;\n    };\n\n    this.$renderChanges = function (changes, force) {\n      if (this.$changes) {\n        changes |= this.$changes;\n        this.$changes = 0;\n      }\n\n      if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {\n        this.$changes |= changes;\n        return;\n      }\n\n      if (this.$size.$dirty) {\n        this.$changes |= changes;\n        return this.onResize(true);\n      }\n\n      if (!this.lineHeight) {\n        this.$textLayer.checkForSizeChanges();\n      }\n\n      this._signal(\"beforeRender\");\n\n      if (this.session && this.session.$bidiHandler) this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n      var config = this.layerConfig;\n\n      if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {\n        changes |= this.$computeLayerConfig();\n\n        if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n          var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n\n          if (st > 0) {\n            this.scrollTop = st;\n            changes = changes | this.CHANGE_SCROLL;\n            changes |= this.$computeLayerConfig();\n          }\n        }\n\n        config = this.layerConfig;\n        this.$updateScrollBarV();\n        if (changes & this.CHANGE_H_SCROLL) this.$updateScrollBarH();\n        this.$gutterLayer.element.style.marginTop = -config.offset + \"px\";\n        this.content.style.marginTop = -config.offset + \"px\";\n        this.content.style.width = config.width + 2 * this.$padding + \"px\";\n        this.content.style.height = config.minHeight + \"px\";\n      }\n\n      if (changes & this.CHANGE_H_SCROLL) {\n        this.content.style.marginLeft = -this.scrollLeft + \"px\";\n        this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n      }\n\n      if (changes & this.CHANGE_FULL) {\n        this.$textLayer.update(config);\n        if (this.$showGutter) this.$gutterLayer.update(config);\n        this.$markerBack.update(config);\n        this.$markerFront.update(config);\n        this.$cursorLayer.update(config);\n        this.$moveTextAreaToCursor();\n        this.$highlightGutterLine && this.$updateGutterLineHighlight();\n\n        this._signal(\"afterRender\");\n\n        return;\n      }\n\n      if (changes & this.CHANGE_SCROLL) {\n        if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES) this.$textLayer.update(config);else this.$textLayer.scrollLines(config);\n        if (this.$showGutter) this.$gutterLayer.update(config);\n        this.$markerBack.update(config);\n        this.$markerFront.update(config);\n        this.$cursorLayer.update(config);\n        this.$highlightGutterLine && this.$updateGutterLineHighlight();\n        this.$moveTextAreaToCursor();\n\n        this._signal(\"afterRender\");\n\n        return;\n      }\n\n      if (changes & this.CHANGE_TEXT) {\n        this.$textLayer.update(config);\n        if (this.$showGutter) this.$gutterLayer.update(config);\n      } else if (changes & this.CHANGE_LINES) {\n        if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter) this.$gutterLayer.update(config);\n      } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n        if (this.$showGutter) this.$gutterLayer.update(config);\n      }\n\n      if (changes & this.CHANGE_CURSOR) {\n        this.$cursorLayer.update(config);\n        this.$moveTextAreaToCursor();\n        this.$highlightGutterLine && this.$updateGutterLineHighlight();\n      }\n\n      if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n        this.$markerFront.update(config);\n      }\n\n      if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n        this.$markerBack.update(config);\n      }\n\n      this._signal(\"afterRender\");\n    };\n\n    this.$autosize = function () {\n      var height = this.session.getScreenLength() * this.lineHeight;\n      var maxHeight = this.$maxLines * this.lineHeight;\n      var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n      if (this.$horizScroll) desiredHeight += this.scrollBarH.getHeight();\n      if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight) desiredHeight = this.$maxPixelHeight;\n      var vScroll = height > maxHeight;\n\n      if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n        if (vScroll != this.$vScroll) {\n          this.$vScroll = vScroll;\n          this.scrollBarV.setVisible(vScroll);\n        }\n\n        var w = this.container.clientWidth;\n        this.container.style.height = desiredHeight + \"px\";\n        this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n        this.desiredHeight = desiredHeight;\n\n        this._signal(\"autosize\");\n      }\n    };\n\n    this.$computeLayerConfig = function () {\n      var session = this.session;\n      var size = this.$size;\n      var hideScrollbars = size.height <= 2 * this.lineHeight;\n      var screenLines = this.session.getScreenLength();\n      var maxHeight = screenLines * this.lineHeight;\n      var longestLine = this.$getLongestLine();\n      var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n      var hScrollChanged = this.$horizScroll !== horizScroll;\n\n      if (hScrollChanged) {\n        this.$horizScroll = horizScroll;\n        this.scrollBarH.setVisible(horizScroll);\n      }\n\n      var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n\n      if (this.$maxLines && this.lineHeight > 1) this.$autosize();\n      var offset = this.scrollTop % this.lineHeight;\n      var minHeight = size.scrollerHeight + this.lineHeight;\n      var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;\n      maxHeight += scrollPastEnd;\n      var sm = this.scrollMargin;\n      this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n      this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n      var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n      var vScrollChanged = vScrollBefore !== vScroll;\n\n      if (vScrollChanged) {\n        this.$vScroll = vScroll;\n        this.scrollBarV.setVisible(vScroll);\n      }\n\n      var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n      var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n      var lastRow = firstRow + lineCount;\n      var firstRowScreen, firstRowHeight;\n      var lineHeight = this.lineHeight;\n      firstRow = session.screenToDocumentRow(firstRow, 0);\n      var foldLine = session.getFoldLine(firstRow);\n\n      if (foldLine) {\n        firstRow = foldLine.start.row;\n      }\n\n      firstRowScreen = session.documentToScreenRow(firstRow, 0);\n      firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n      lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n      minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;\n      offset = this.scrollTop - firstRowScreen * lineHeight;\n      var changes = 0;\n      if (this.layerConfig.width != longestLine) changes = this.CHANGE_H_SCROLL;\n\n      if (hScrollChanged || vScrollChanged) {\n        changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n\n        this._signal(\"scrollbarVisibilityChanged\");\n\n        if (vScrollChanged) longestLine = this.$getLongestLine();\n      }\n\n      this.layerConfig = {\n        width: longestLine,\n        padding: this.$padding,\n        firstRow: firstRow,\n        firstRowScreen: firstRowScreen,\n        lastRow: lastRow,\n        lineHeight: lineHeight,\n        characterWidth: this.characterWidth,\n        minHeight: minHeight,\n        maxHeight: maxHeight,\n        offset: offset,\n        gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n        height: this.$size.scrollerHeight\n      };\n      return changes;\n    };\n\n    this.$updateLines = function () {\n      if (!this.$changedLines) return;\n      var firstRow = this.$changedLines.firstRow;\n      var lastRow = this.$changedLines.lastRow;\n      this.$changedLines = null;\n      var layerConfig = this.layerConfig;\n\n      if (firstRow > layerConfig.lastRow + 1) {\n        return;\n      }\n\n      if (lastRow < layerConfig.firstRow) {\n        return;\n      }\n\n      if (lastRow === Infinity) {\n        if (this.$showGutter) this.$gutterLayer.update(layerConfig);\n        this.$textLayer.update(layerConfig);\n        return;\n      }\n\n      this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n      return true;\n    };\n\n    this.$getLongestLine = function () {\n      var charCount = this.session.getScreenWidth();\n      if (this.showInvisibles && !this.session.$useWrapMode) charCount += 1;\n      return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n\n    this.updateFrontMarkers = function () {\n      this.$markerFront.setMarkers(this.session.getMarkers(true));\n      this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n\n    this.updateBackMarkers = function () {\n      this.$markerBack.setMarkers(this.session.getMarkers());\n      this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n\n    this.addGutterDecoration = function (row, className) {\n      this.$gutterLayer.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function (row, className) {\n      this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n\n    this.updateBreakpoints = function (rows) {\n      this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n\n    this.setAnnotations = function (annotations) {\n      this.$gutterLayer.setAnnotations(annotations);\n      this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n\n    this.updateCursor = function () {\n      this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n\n    this.hideCursor = function () {\n      this.$cursorLayer.hideCursor();\n    };\n\n    this.showCursor = function () {\n      this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function (anchor, lead, offset) {\n      this.scrollCursorIntoView(anchor, offset);\n      this.scrollCursorIntoView(lead, offset);\n    };\n\n    this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n      if (this.$size.scrollerHeight === 0) return;\n      var pos = this.$cursorLayer.getPixelPosition(cursor);\n      var left = pos.left;\n      var top = pos.top;\n      var topMargin = $viewMargin && $viewMargin.top || 0;\n      var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n      var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n\n      if (scrollTop + topMargin > top) {\n        if (offset && scrollTop + topMargin > top + this.lineHeight) top -= offset * this.$size.scrollerHeight;\n        if (top === 0) top = -this.scrollMargin.top;\n        this.session.setScrollTop(top);\n      } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n        if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top - this.lineHeight) top += offset * this.$size.scrollerHeight;\n        this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);\n      }\n\n      var scrollLeft = this.scrollLeft;\n\n      if (scrollLeft > left) {\n        if (left < this.$padding + 2 * this.layerConfig.characterWidth) left = -this.scrollMargin.left;\n        this.session.setScrollLeft(left);\n      } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n        this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n      } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n        this.session.setScrollLeft(0);\n      }\n    };\n\n    this.getScrollTop = function () {\n      return this.session.getScrollTop();\n    };\n\n    this.getScrollLeft = function () {\n      return this.session.getScrollLeft();\n    };\n\n    this.getScrollTopRow = function () {\n      return this.scrollTop / this.lineHeight;\n    };\n\n    this.getScrollBottomRow = function () {\n      return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n\n    this.scrollToRow = function (row) {\n      this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function (cursor, alignment) {\n      if (typeof cursor == \"number\") cursor = {\n        row: cursor,\n        column: 0\n      };\n      var pos = this.$cursorLayer.getPixelPosition(cursor);\n      var h = this.$size.scrollerHeight - this.lineHeight;\n      var offset = pos.top - h * (alignment || 0);\n      this.session.setScrollTop(offset);\n      return offset;\n    };\n\n    this.STEPS = 8;\n\n    this.$calcSteps = function (fromValue, toValue) {\n      var i = 0;\n      var l = this.STEPS;\n      var steps = [];\n\n      var func = function func(t, x_min, dx) {\n        return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n      };\n\n      for (i = 0; i < l; ++i) {\n        steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n      }\n\n      return steps;\n    };\n\n    this.scrollToLine = function (line, center, animate, callback) {\n      var pos = this.$cursorLayer.getPixelPosition({\n        row: line,\n        column: 0\n      });\n      var offset = pos.top;\n      if (center) offset -= this.$size.scrollerHeight / 2;\n      var initialScroll = this.scrollTop;\n      this.session.setScrollTop(offset);\n      if (animate !== false) this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function (fromValue, callback) {\n      var toValue = this.scrollTop;\n      if (!this.$animatedScroll) return;\n\n      var _self = this;\n\n      if (fromValue == toValue) return;\n\n      if (this.$scrollAnimation) {\n        var oldSteps = this.$scrollAnimation.steps;\n\n        if (oldSteps.length) {\n          fromValue = oldSteps[0];\n          if (fromValue == toValue) return;\n        }\n      }\n\n      var steps = _self.$calcSteps(fromValue, toValue);\n\n      this.$scrollAnimation = {\n        from: fromValue,\n        to: toValue,\n        steps: steps\n      };\n      clearInterval(this.$timer);\n\n      _self.session.setScrollTop(steps.shift());\n\n      _self.session.$scrollTop = toValue;\n      this.$timer = setInterval(function () {\n        if (steps.length) {\n          _self.session.setScrollTop(steps.shift());\n\n          _self.session.$scrollTop = toValue;\n        } else if (toValue != null) {\n          _self.session.$scrollTop = -1;\n\n          _self.session.setScrollTop(toValue);\n\n          toValue = null;\n        } else {\n          _self.$timer = clearInterval(_self.$timer);\n          _self.$scrollAnimation = null;\n          callback && callback();\n        }\n      }, 10);\n    };\n\n    this.scrollToY = function (scrollTop) {\n      if (this.scrollTop !== scrollTop) {\n        this.$loop.schedule(this.CHANGE_SCROLL);\n        this.scrollTop = scrollTop;\n      }\n    };\n\n    this.scrollToX = function (scrollLeft) {\n      if (this.scrollLeft !== scrollLeft) this.scrollLeft = scrollLeft;\n      this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n\n    this.scrollTo = function (x, y) {\n      this.session.setScrollTop(y);\n      this.session.setScrollLeft(y);\n    };\n\n    this.scrollBy = function (deltaX, deltaY) {\n      deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n      deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n\n    this.isScrollableBy = function (deltaX, deltaY) {\n      if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top) return true;\n      if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom) return true;\n      if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left) return true;\n      if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right) return true;\n    };\n\n    this.pixelToScreenCoordinates = function (x, y) {\n      var canvasPos = this.scroller.getBoundingClientRect();\n      var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n      var offset = offsetX / this.characterWidth;\n      var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n      var col = Math.round(offset);\n      return {\n        row: row,\n        column: col,\n        side: offset - col > 0 ? 1 : -1,\n        offsetX: offsetX\n      };\n    };\n\n    this.screenToTextCoordinates = function (x, y) {\n      var canvasPos = this.scroller.getBoundingClientRect();\n      var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n      var col = Math.round(offsetX / this.characterWidth);\n      var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;\n      return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n\n    this.textToScreenCoordinates = function (row, column) {\n      var canvasPos = this.scroller.getBoundingClientRect();\n      var pos = this.session.documentToScreenPosition(row, column);\n      var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));\n      var y = pos.row * this.lineHeight;\n      return {\n        pageX: canvasPos.left + x - this.scrollLeft,\n        pageY: canvasPos.top + y - this.scrollTop\n      };\n    };\n\n    this.visualizeFocus = function () {\n      dom.addCssClass(this.container, \"ace_focus\");\n    };\n\n    this.visualizeBlur = function () {\n      dom.removeCssClass(this.container, \"ace_focus\");\n    };\n\n    this.showComposition = function (position) {\n      if (!this.$composition) this.$composition = {\n        keepTextAreaAtCursor: this.$keepTextAreaAtCursor,\n        cssText: this.textarea.style.cssText\n      };\n      this.$keepTextAreaAtCursor = true;\n      dom.addCssClass(this.textarea, \"ace_composition\");\n      this.textarea.style.cssText = \"\";\n      this.$moveTextAreaToCursor();\n    };\n\n    this.setCompositionText = function (text) {\n      this.$moveTextAreaToCursor();\n    };\n\n    this.hideComposition = function () {\n      if (!this.$composition) return;\n      dom.removeCssClass(this.textarea, \"ace_composition\");\n      this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n      this.textarea.style.cssText = this.$composition.cssText;\n      this.$composition = null;\n    };\n\n    this.setTheme = function (theme, cb) {\n      var _self = this;\n\n      this.$themeId = theme;\n\n      _self._dispatchEvent('themeChange', {\n        theme: theme\n      });\n\n      if (!theme || typeof theme == \"string\") {\n        var moduleName = theme || this.$options.theme.initialValue;\n        config.loadModule([\"theme\", moduleName], afterLoad);\n      } else {\n        afterLoad(theme);\n      }\n\n      function afterLoad(module) {\n        if (_self.$themeId != theme) return cb && cb();\n        if (!module || !module.cssClass) throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n        dom.importCssString(module.cssText, module.cssClass, _self.container.ownerDocument);\n        if (_self.theme) dom.removeCssClass(_self.container, _self.theme.cssClass);\n        var padding = \"padding\" in module ? module.padding : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n        if (_self.$padding && padding != _self.$padding) _self.setPadding(padding);\n        _self.$theme = module.cssClass;\n        _self.theme = module;\n        dom.addCssClass(_self.container, module.cssClass);\n        dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n\n        if (_self.$size) {\n          _self.$size.width = 0;\n\n          _self.$updateSizeAsync();\n        }\n\n        _self._dispatchEvent('themeLoaded', {\n          theme: module\n        });\n\n        cb && cb();\n      }\n    };\n\n    this.getTheme = function () {\n      return this.$themeId;\n    };\n\n    this.setStyle = function (style, include) {\n      dom.setCssClass(this.container, style, include !== false);\n    };\n\n    this.unsetStyle = function (style) {\n      dom.removeCssClass(this.container, style);\n    };\n\n    this.setCursorStyle = function (style) {\n      if (this.scroller.style.cursor != style) this.scroller.style.cursor = style;\n    };\n\n    this.setMouseCursor = function (cursorStyle) {\n      this.scroller.style.cursor = cursorStyle;\n    };\n\n    this.destroy = function () {\n      this.$textLayer.destroy();\n      this.$cursorLayer.destroy();\n    };\n  }).call(VirtualRenderer.prototype);\n  config.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {\n      initialValue: false\n    },\n    showInvisibles: {\n      set: function set(value) {\n        if (this.$textLayer.setShowInvisibles(value)) this.$loop.schedule(this.CHANGE_TEXT);\n      },\n      initialValue: false\n    },\n    showPrintMargin: {\n      set: function set() {\n        this.$updatePrintMargin();\n      },\n      initialValue: true\n    },\n    printMarginColumn: {\n      set: function set() {\n        this.$updatePrintMargin();\n      },\n      initialValue: 80\n    },\n    printMargin: {\n      set: function set(val) {\n        if (typeof val == \"number\") this.$printMarginColumn = val;\n        this.$showPrintMargin = !!val;\n        this.$updatePrintMargin();\n      },\n      get: function get() {\n        return this.$showPrintMargin && this.$printMarginColumn;\n      }\n    },\n    showGutter: {\n      set: function set(show) {\n        this.$gutter.style.display = show ? \"block\" : \"none\";\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.onGutterResize();\n      },\n      initialValue: true\n    },\n    fadeFoldWidgets: {\n      set: function set(show) {\n        dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n      },\n      initialValue: false\n    },\n    showFoldWidgets: {\n      set: function set(show) {\n        this.$gutterLayer.setShowFoldWidgets(show);\n      },\n      initialValue: true\n    },\n    showLineNumbers: {\n      set: function set(show) {\n        this.$gutterLayer.setShowLineNumbers(show);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      },\n      initialValue: true\n    },\n    displayIndentGuides: {\n      set: function set(show) {\n        if (this.$textLayer.setDisplayIndentGuides(show)) this.$loop.schedule(this.CHANGE_TEXT);\n      },\n      initialValue: true\n    },\n    highlightGutterLine: {\n      set: function set(shouldHighlight) {\n        if (!this.$gutterLineHighlight) {\n          this.$gutterLineHighlight = dom.createElement(\"div\");\n          this.$gutterLineHighlight.className = \"ace_gutter-active-line\";\n          this.$gutter.appendChild(this.$gutterLineHighlight);\n          return;\n        }\n\n        this.$gutterLineHighlight.style.display = shouldHighlight ? \"\" : \"none\";\n        if (this.$cursorLayer.$pixelPos) this.$updateGutterLineHighlight();\n      },\n      initialValue: false,\n      value: true\n    },\n    hScrollBarAlwaysVisible: {\n      set: function set(val) {\n        if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n      },\n      initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n      set: function set(val) {\n        if (!this.$vScrollBarAlwaysVisible || !this.$vScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n      },\n      initialValue: false\n    },\n    fontSize: {\n      set: function set(size) {\n        if (typeof size == \"number\") size = size + \"px\";\n        this.container.style.fontSize = size;\n        this.updateFontSize();\n      },\n      initialValue: 12\n    },\n    fontFamily: {\n      set: function set(name) {\n        this.container.style.fontFamily = name;\n        this.updateFontSize();\n      }\n    },\n    maxLines: {\n      set: function set(val) {\n        this.updateFull();\n      }\n    },\n    minLines: {\n      set: function set(val) {\n        this.updateFull();\n      }\n    },\n    maxPixelHeight: {\n      set: function set(val) {\n        this.updateFull();\n      },\n      initialValue: 0\n    },\n    scrollPastEnd: {\n      set: function set(val) {\n        val = +val || 0;\n        if (this.$scrollPastEnd == val) return;\n        this.$scrollPastEnd = val;\n        this.$loop.schedule(this.CHANGE_SCROLL);\n      },\n      initialValue: 0,\n      handlesSet: true\n    },\n    fixedWidthGutter: {\n      set: function set(val) {\n        this.$gutterLayer.$fixedWidth = !!val;\n        this.$loop.schedule(this.CHANGE_GUTTER);\n      }\n    },\n    theme: {\n      set: function set(val) {\n        this.setTheme(val);\n      },\n      get: function get() {\n        return this.$themeId || this.theme;\n      },\n      initialValue: \"./theme/textmate\",\n      handlesSet: true\n    }\n  });\n  exports.VirtualRenderer = VirtualRenderer;\n});\nace.define(\"ace/worker/worker_client\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/event_emitter\", \"ace/config\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"../lib/oop\");\n  var net = acequire(\"../lib/net\");\n  var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n  var config = acequire(\"../config\");\n\n  function $workerBlob(workerUrl, mod) {\n    var script = mod.src;\n    \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n\n    try {\n      return new Blob([script], {\n        \"type\": \"application/javascript\"\n      });\n    } catch (e) {\n      // Backwards-compatibility\n      var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n      var blobBuilder = new BlobBuilder();\n      blobBuilder.append(script);\n      return blobBuilder.getBlob(\"application/javascript\");\n    }\n  }\n\n  function createWorker(workerUrl, mod) {\n    var blob = $workerBlob(workerUrl, mod);\n    var URL = window.URL || window.webkitURL;\n    var blobURL = URL.createObjectURL(blob);\n    return new Worker(blobURL);\n  }\n\n  var WorkerClient = function WorkerClient(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    if (acequire.nameToUrl && !acequire.toUrl) acequire.toUrl = acequire.nameToUrl;\n\n    if (config.get(\"packaged\") || !acequire.toUrl) {\n      workerUrl = workerUrl || config.moduleUrl(mod.id, \"worker\");\n    } else {\n      var normalizePath = this.$normalizePath;\n      workerUrl = workerUrl || normalizePath(acequire.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n      var tlns = {};\n      topLevelNamespaces.forEach(function (ns) {\n        tlns[ns] = normalizePath(acequire.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n      });\n    }\n\n    this.$worker = createWorker(workerUrl, mod);\n\n    if (importScripts) {\n      this.send(\"importScripts\", importScripts);\n    }\n\n    this.$worker.postMessage({\n      init: true,\n      tlns: tlns,\n      module: mod.id,\n      classname: classname\n    });\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.$worker.onmessage = this.onMessage;\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.onMessage = function (e) {\n      var msg = e.data;\n\n      switch (msg.type) {\n        case \"event\":\n          this._signal(msg.name, {\n            data: msg.data\n          });\n\n          break;\n\n        case \"call\":\n          var callback = this.callbacks[msg.id];\n\n          if (callback) {\n            callback(msg.data);\n            delete this.callbacks[msg.id];\n          }\n\n          break;\n\n        case \"error\":\n          this.reportError(msg.data);\n          break;\n\n        case \"log\":\n          window.console && console.log && console.log.apply(console, msg.data);\n          break;\n      }\n    };\n\n    this.reportError = function (err) {\n      window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function (path) {\n      return net.qualifyURL(path);\n    };\n\n    this.terminate = function () {\n      this._signal(\"terminate\", {});\n\n      this.deltaQueue = null;\n      this.$worker.terminate();\n      this.$worker = null;\n      if (this.$doc) this.$doc.off(\"change\", this.changeListener);\n      this.$doc = null;\n    };\n\n    this.send = function (cmd, args) {\n      this.$worker.postMessage({\n        command: cmd,\n        args: args\n      });\n    };\n\n    this.call = function (cmd, args, callback) {\n      if (callback) {\n        var id = this.callbackId++;\n        this.callbacks[id] = callback;\n        args.push(id);\n      }\n\n      this.send(cmd, args);\n    };\n\n    this.emit = function (event, data) {\n      try {\n        this.$worker.postMessage({\n          event: event,\n          data: {\n            data: data.data\n          }\n        });\n      } catch (ex) {\n        console.error(ex.stack);\n      }\n    };\n\n    this.attachToDocument = function (doc) {\n      if (this.$doc) this.terminate();\n      this.$doc = doc;\n      this.call(\"setValue\", [doc.getValue()]);\n      doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function (delta) {\n      if (!this.deltaQueue) {\n        this.deltaQueue = [];\n        setTimeout(this.$sendDeltaQueue, 0);\n      }\n\n      if (delta.action == \"insert\") this.deltaQueue.push(delta.start, delta.lines);else this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function () {\n      var q = this.deltaQueue;\n      if (!q) return;\n      this.deltaQueue = null;\n\n      if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n        this.call(\"setValue\", [this.$doc.getValue()]);\n      } else this.emit(\"change\", {\n        data: q\n      });\n    };\n  }).call(WorkerClient.prototype);\n\n  var UIWorkerClient = function UIWorkerClient(topLevelNamespaces, mod, classname) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.messageBuffer = [];\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var _self = this;\n\n    this.$worker = {};\n\n    this.$worker.terminate = function () {};\n\n    this.$worker.postMessage = function (e) {\n      _self.messageBuffer.push(e);\n\n      if (main) {\n        if (emitSync) setTimeout(processNext);else processNext();\n      }\n    };\n\n    this.setEmitSync = function (val) {\n      emitSync = val;\n    };\n\n    var processNext = function processNext() {\n      var msg = _self.messageBuffer.shift();\n\n      if (msg.command) main[msg.command].apply(main, msg.args);else if (msg.event) sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function (msg) {\n      _self.onMessage({\n        data: msg\n      });\n    };\n\n    sender.callback = function (data, callbackId) {\n      this.postMessage({\n        type: \"call\",\n        id: callbackId,\n        data: data\n      });\n    };\n\n    sender.emit = function (name, data) {\n      this.postMessage({\n        type: \"event\",\n        name: name,\n        data: data\n      });\n    };\n\n    config.loadModule([\"worker\", mod], function (Main) {\n      main = new Main[classname](sender);\n\n      while (_self.messageBuffer.length) {\n        processNext();\n      }\n    });\n  };\n\n  UIWorkerClient.prototype = WorkerClient.prototype;\n  exports.UIWorkerClient = UIWorkerClient;\n  exports.WorkerClient = WorkerClient;\n  exports.createWorker = createWorker;\n});\nace.define(\"ace/placeholder\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/lib/oop\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"./range\").Range;\n  var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n  var oop = acequire(\"./lib/oop\");\n\n  var PlaceHolder = function PlaceHolder(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n\n    this.$onCursorChange = function () {\n      setTimeout(function () {\n        _self.onCursorChange();\n      });\n    };\n\n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {\n      length: -1\n    };\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n  };\n\n  (function () {\n    oop.implement(this, EventEmitter);\n\n    this.setup = function () {\n      var _self = this;\n\n      var doc = this.doc;\n      var session = this.session;\n      this.selectionBefore = session.selection.toJSON();\n      if (session.selection.inMultiSelectMode) session.selection.toSingleRange();\n      this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n      var pos = this.pos;\n      pos.$insertRight = true;\n      pos.detach();\n      pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n      this.others = [];\n      this.$others.forEach(function (other) {\n        var anchor = doc.createAnchor(other.row, other.column);\n        anchor.$insertRight = true;\n        anchor.detach();\n\n        _self.others.push(anchor);\n      });\n      session.setUndoSelect(false);\n    };\n\n    this.showOtherMarkers = function () {\n      if (this.othersActive) return;\n      var session = this.session;\n\n      var _self = this;\n\n      this.othersActive = true;\n      this.others.forEach(function (anchor) {\n        anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n      });\n    };\n\n    this.hideOtherMarkers = function () {\n      if (!this.othersActive) return;\n      this.othersActive = false;\n\n      for (var i = 0; i < this.others.length; i++) {\n        this.session.removeMarker(this.others[i].markerId);\n      }\n    };\n\n    this.onUpdate = function (delta) {\n      if (this.$updating) return this.updateAnchors(delta);\n      var range = delta;\n      if (range.start.row !== range.end.row) return;\n      if (range.start.row !== this.pos.row) return;\n      this.$updating = true;\n      var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n      var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n      var distanceFromStart = range.start.column - this.pos.column;\n      this.updateAnchors(delta);\n      if (inMainRange) this.length += lengthDiff;\n\n      if (inMainRange && !this.session.$fromUndo) {\n        if (delta.action === 'insert') {\n          for (var i = this.others.length - 1; i >= 0; i--) {\n            var otherPos = this.others[i];\n            var newPos = {\n              row: otherPos.row,\n              column: otherPos.column + distanceFromStart\n            };\n            this.doc.insertMergedLines(newPos, delta.lines);\n          }\n        } else if (delta.action === 'remove') {\n          for (var i = this.others.length - 1; i >= 0; i--) {\n            var otherPos = this.others[i];\n            var newPos = {\n              row: otherPos.row,\n              column: otherPos.column + distanceFromStart\n            };\n            this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n          }\n        }\n      }\n\n      this.$updating = false;\n      this.updateMarkers();\n    };\n\n    this.updateAnchors = function (delta) {\n      this.pos.onChange(delta);\n\n      for (var i = this.others.length; i--;) {\n        this.others[i].onChange(delta);\n      }\n\n      this.updateMarkers();\n    };\n\n    this.updateMarkers = function () {\n      if (this.$updating) return;\n\n      var _self = this;\n\n      var session = this.session;\n\n      var updateMarker = function updateMarker(pos, className) {\n        session.removeMarker(pos.markerId);\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n      };\n\n      updateMarker(this.pos, this.mainClass);\n\n      for (var i = this.others.length; i--;) {\n        updateMarker(this.others[i], this.othersClass);\n      }\n    };\n\n    this.onCursorChange = function (event) {\n      if (this.$updating || !this.session) return;\n      var pos = this.session.selection.getCursor();\n\n      if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n        this.showOtherMarkers();\n\n        this._emit(\"cursorEnter\", event);\n      } else {\n        this.hideOtherMarkers();\n\n        this._emit(\"cursorLeave\", event);\n      }\n    };\n\n    this.detach = function () {\n      this.session.removeMarker(this.pos && this.pos.markerId);\n      this.hideOtherMarkers();\n      this.doc.removeEventListener(\"change\", this.$onUpdate);\n      this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n      this.session.setUndoSelect(true);\n      this.session = null;\n    };\n\n    this.cancel = function () {\n      if (this.$undoStackDepth === -1) return;\n      var undoManager = this.session.getUndoManager();\n      var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n\n      for (var i = 0; i < undosRequired; i++) {\n        undoManager.undo(true);\n      }\n\n      if (this.selectionBefore) this.session.selection.fromJSON(this.selectionBefore);\n    };\n  }).call(PlaceHolder.prototype);\n  exports.PlaceHolder = PlaceHolder;\n});\nace.define(\"ace/mouse/multi_select_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n  var event = acequire(\"../lib/event\");\n  var useragent = acequire(\"../lib/useragent\");\n\n  function isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n  }\n\n  function onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac) button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n      e.editor.textInput.onContextMenu(e.domEvent);\n      return;\n    }\n\n    if (!ctrl && !alt && !accel) {\n      if (button === 0 && e.editor.inMultiSelectMode) e.editor.exitMultiSelectMode();\n      return;\n    }\n\n    if (button !== 0) return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);\n    var mouseX = e.x,\n        mouseY = e.y;\n\n    var onMouseSelection = function onMouseSelection(e) {\n      mouseX = e.clientX;\n      mouseY = e.clientY;\n    };\n\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n\n    if (editor.$mouseHandler.$enableJumpToDef) {\n      if (ctrl && alt || accel && alt) selectionMode = shift ? \"block\" : \"add\";else if (alt && editor.$blockSelectEnabled) selectionMode = \"block\";\n    } else {\n      if (accel && !alt) {\n        selectionMode = \"add\";\n        if (!isMultiSelect && shift) return;\n      } else if (alt && editor.$blockSelectEnabled) {\n        selectionMode = \"block\";\n      }\n    }\n\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n      editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n      if (!isMultiSelect && inSelection) return; // dragging\n\n      if (!isMultiSelect) {\n        var range = selection.toOrientedRange();\n        editor.addSelectionMarker(range);\n      }\n\n      var oldRange = selection.rangeList.rangeAtPoint(pos);\n      editor.$blockScrolling++;\n      editor.inVirtualSelectionMode = true;\n\n      if (shift) {\n        oldRange = null;\n        range = selection.ranges[0] || range;\n        editor.removeSelectionMarker(range);\n      }\n\n      editor.once(\"mouseup\", function () {\n        var tmpSel = selection.toOrientedRange();\n        if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor)) selection.substractPoint(tmpSel.cursor);else {\n          if (shift) {\n            selection.substractPoint(range.cursor);\n          } else if (range) {\n            editor.removeSelectionMarker(range);\n            selection.addRange(range);\n          }\n\n          selection.addRange(tmpSel);\n        }\n        editor.$blockScrolling--;\n        editor.inVirtualSelectionMode = false;\n      });\n    } else if (selectionMode == \"block\") {\n      e.stop();\n      editor.inVirtualSelectionMode = true;\n      var initialRange;\n      var rectSel = [];\n\n      var blockSelect = function blockSelect() {\n        var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n        var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n        if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead)) return;\n        screenCursor = newCursor;\n        editor.$blockScrolling++;\n        editor.selection.moveToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n        editor.removeSelectionMarkers(rectSel);\n        rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n        if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty()) rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n        rectSel.forEach(editor.addSelectionMarker, editor);\n        editor.updateSelectionMarkers();\n        editor.$blockScrolling--;\n      };\n\n      editor.$blockScrolling++;\n\n      if (isMultiSelect && !accel) {\n        selection.toSingleRange();\n      } else if (!isMultiSelect && accel) {\n        initialRange = selection.toOrientedRange();\n        editor.addSelectionMarker(initialRange);\n      }\n\n      if (shift) screenAnchor = session.documentToScreenPosition(selection.lead);else selection.moveToPosition(pos);\n      editor.$blockScrolling--;\n      screenCursor = {\n        row: -1,\n        column: -1\n      };\n\n      var onMouseSelectionEnd = function onMouseSelectionEnd(e) {\n        clearInterval(timerId);\n        editor.removeSelectionMarkers(rectSel);\n        if (!rectSel.length) rectSel = [selection.toOrientedRange()];\n        editor.$blockScrolling++;\n\n        if (initialRange) {\n          editor.removeSelectionMarker(initialRange);\n          selection.toSingleRange(initialRange);\n        }\n\n        for (var i = 0; i < rectSel.length; i++) {\n          selection.addRange(rectSel[i]);\n        }\n\n        editor.inVirtualSelectionMode = false;\n        editor.$mouseHandler.$clickSelection = null;\n        editor.$blockScrolling--;\n      };\n\n      var onSelectionInterval = blockSelect;\n      event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n      var timerId = setInterval(function () {\n        onSelectionInterval();\n      }, 20);\n      return e.preventDefault();\n    }\n  }\n\n  exports.onMouseDown = onMouseDown;\n});\nace.define(\"ace/commands/multi_select_commands\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\"], function (acequire, exports, module) {\n  exports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(-1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Up\",\n      mac: \"Ctrl-Alt-Up\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"addCursorBelow\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Down\",\n      mac: \"Ctrl-Alt-Down\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"addCursorAboveSkipCurrent\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(-1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Up\",\n      mac: \"Ctrl-Alt-Shift-Up\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"addCursorBelowSkipCurrent\",\n    exec: function exec(editor) {\n      editor.selectMoreLines(1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Down\",\n      mac: \"Ctrl-Alt-Shift-Down\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectMoreBefore\",\n    exec: function exec(editor) {\n      editor.selectMore(-1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Left\",\n      mac: \"Ctrl-Alt-Left\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectMoreAfter\",\n    exec: function exec(editor) {\n      editor.selectMore(1);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Right\",\n      mac: \"Ctrl-Alt-Right\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectNextBefore\",\n    exec: function exec(editor) {\n      editor.selectMore(-1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Left\",\n      mac: \"Ctrl-Alt-Shift-Left\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"selectNextAfter\",\n    exec: function exec(editor) {\n      editor.selectMore(1, true);\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-Shift-Right\",\n      mac: \"Ctrl-Alt-Shift-Right\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }, {\n    name: \"splitIntoLines\",\n    exec: function exec(editor) {\n      editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-L\",\n      mac: \"Ctrl-Alt-L\"\n    },\n    readOnly: true\n  }, {\n    name: \"alignCursors\",\n    exec: function exec(editor) {\n      editor.alignCursors();\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-A\",\n      mac: \"Ctrl-Alt-A\"\n    },\n    scrollIntoView: \"cursor\"\n  }, {\n    name: \"findAll\",\n    exec: function exec(editor) {\n      editor.findAll();\n    },\n    bindKey: {\n      win: \"Ctrl-Alt-K\",\n      mac: \"Ctrl-Alt-G\"\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true\n  }];\n  exports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    bindKey: \"esc\",\n    exec: function exec(editor) {\n      editor.exitMultiSelectMode();\n    },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function isAvailable(editor) {\n      return editor && editor.inMultiSelectMode;\n    }\n  }];\n  var HashHandler = acequire(\"../keyboard/hash_handler\").HashHandler;\n  exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n});\nace.define(\"ace/multi_select\", [\"require\", \"exports\", \"module\", \"ace/range_list\", \"ace/range\", \"ace/selection\", \"ace/mouse/multi_select_handler\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/commands/multi_select_commands\", \"ace/search\", \"ace/edit_session\", \"ace/editor\", \"ace/config\"], function (acequire, exports, module) {\n  var RangeList = acequire(\"./range_list\").RangeList;\n  var Range = acequire(\"./range\").Range;\n  var Selection = acequire(\"./selection\").Selection;\n  var onMouseDown = acequire(\"./mouse/multi_select_handler\").onMouseDown;\n  var event = acequire(\"./lib/event\");\n  var lang = acequire(\"./lib/lang\");\n  var commands = acequire(\"./commands/multi_select_commands\");\n  exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\n  var Search = acequire(\"./search\").Search;\n  var search = new Search();\n\n  function find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n  }\n\n  var EditSession = acequire(\"./edit_session\").EditSession;\n  (function () {\n    this.getSelectionMarkers = function () {\n      return this.$selectionMarkers;\n    };\n  }).call(EditSession.prototype);\n  (function () {\n    this.ranges = null;\n    this.rangeList = null;\n\n    this.addRange = function (range, $blockChangeEvents) {\n      if (!range) return;\n\n      if (!this.inMultiSelectMode && this.rangeCount === 0) {\n        var oldRange = this.toOrientedRange();\n        this.rangeList.add(oldRange);\n        this.rangeList.add(range);\n\n        if (this.rangeList.ranges.length != 2) {\n          this.rangeList.removeAll();\n          return $blockChangeEvents || this.fromOrientedRange(range);\n        }\n\n        this.rangeList.removeAll();\n        this.rangeList.add(oldRange);\n        this.$onAddRange(oldRange);\n      }\n\n      if (!range.cursor) range.cursor = range.end;\n      var removed = this.rangeList.add(range);\n      this.$onAddRange(range);\n      if (removed.length) this.$onRemoveRange(removed);\n\n      if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n        this._signal(\"multiSelect\");\n\n        this.inMultiSelectMode = true;\n        this.session.$undoSelect = false;\n        this.rangeList.attach(this.session);\n      }\n\n      return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n\n    this.toSingleRange = function (range) {\n      range = range || this.ranges[0];\n      var removed = this.rangeList.removeAll();\n      if (removed.length) this.$onRemoveRange(removed);\n      range && this.fromOrientedRange(range);\n    };\n\n    this.substractPoint = function (pos) {\n      var removed = this.rangeList.substractPoint(pos);\n\n      if (removed) {\n        this.$onRemoveRange(removed);\n        return removed[0];\n      }\n    };\n\n    this.mergeOverlappingRanges = function () {\n      var removed = this.rangeList.merge();\n      if (removed.length) this.$onRemoveRange(removed);else if (this.ranges[0]) this.fromOrientedRange(this.ranges[0]);\n    };\n\n    this.$onAddRange = function (range) {\n      this.rangeCount = this.rangeList.ranges.length;\n      this.ranges.unshift(range);\n\n      this._signal(\"addRange\", {\n        range: range\n      });\n    };\n\n    this.$onRemoveRange = function (removed) {\n      this.rangeCount = this.rangeList.ranges.length;\n\n      if (this.rangeCount == 1 && this.inMultiSelectMode) {\n        var lastRange = this.rangeList.ranges.pop();\n        removed.push(lastRange);\n        this.rangeCount = 0;\n      }\n\n      for (var i = removed.length; i--;) {\n        var index = this.ranges.indexOf(removed[i]);\n        this.ranges.splice(index, 1);\n      }\n\n      this._signal(\"removeRange\", {\n        ranges: removed\n      });\n\n      if (this.rangeCount === 0 && this.inMultiSelectMode) {\n        this.inMultiSelectMode = false;\n\n        this._signal(\"singleSelect\");\n\n        this.session.$undoSelect = true;\n        this.rangeList.detach(this.session);\n      }\n\n      lastRange = lastRange || this.ranges[0];\n      if (lastRange && !lastRange.isEqual(this.getRange())) this.fromOrientedRange(lastRange);\n    };\n\n    this.$initRangeList = function () {\n      if (this.rangeList) return;\n      this.rangeList = new RangeList();\n      this.ranges = [];\n      this.rangeCount = 0;\n    };\n\n    this.getAllRanges = function () {\n      return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n\n    this.splitIntoLines = function () {\n      if (this.rangeCount > 1) {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n      } else {\n        var range = this.getRange();\n        var isBackwards = this.isBackwards();\n        var startRow = range.start.row;\n        var endRow = range.end.row;\n\n        if (startRow == endRow) {\n          if (isBackwards) var start = range.end,\n              end = range.start;else var start = range.start,\n              end = range.end;\n          this.addRange(Range.fromPoints(end, end));\n          this.addRange(Range.fromPoints(start, start));\n          return;\n        }\n\n        var rectSel = [];\n        var r = this.getLineRange(startRow, true);\n        r.start.column = range.start.column;\n        rectSel.push(r);\n\n        for (var i = startRow + 1; i < endRow; i++) {\n          rectSel.push(this.getLineRange(i, true));\n        }\n\n        r = this.getLineRange(endRow, true);\n        r.end.column = range.end.column;\n        rectSel.push(r);\n        rectSel.forEach(this.addRange, this);\n      }\n    };\n\n    this.toggleBlockSelection = function () {\n      if (this.rangeCount > 1) {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n      } else {\n        var cursor = this.session.documentToScreenPosition(this.selectionLead);\n        var anchor = this.session.documentToScreenPosition(this.selectionAnchor);\n        var rectSel = this.rectangularRangeBlock(cursor, anchor);\n        rectSel.forEach(this.addRange, this);\n      }\n    };\n\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n      var rectSel = [];\n      var xBackwards = screenCursor.column < screenAnchor.column;\n\n      if (xBackwards) {\n        var startColumn = screenCursor.column;\n        var endColumn = screenAnchor.column;\n        var startOffsetX = screenCursor.offsetX;\n        var endOffsetX = screenAnchor.offsetX;\n      } else {\n        var startColumn = screenAnchor.column;\n        var endColumn = screenCursor.column;\n        var startOffsetX = screenAnchor.offsetX;\n        var endOffsetX = screenCursor.offsetX;\n      }\n\n      var yBackwards = screenCursor.row < screenAnchor.row;\n\n      if (yBackwards) {\n        var startRow = screenCursor.row;\n        var endRow = screenAnchor.row;\n      } else {\n        var startRow = screenAnchor.row;\n        var endRow = screenCursor.row;\n      }\n\n      if (startColumn < 0) startColumn = 0;\n      if (startRow < 0) startRow = 0;\n      if (startRow == endRow) includeEmptyLines = true;\n\n      for (var row = startRow; row <= endRow; row++) {\n        var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n\n        if (range.isEmpty()) {\n          if (docEnd && isSamePoint(range.end, docEnd)) break;\n          var docEnd = range.end;\n        }\n\n        range.cursor = xBackwards ? range.start : range.end;\n        rectSel.push(range);\n      }\n\n      if (yBackwards) rectSel.reverse();\n\n      if (!includeEmptyLines) {\n        var end = rectSel.length - 1;\n\n        while (rectSel[end].isEmpty() && end > 0) {\n          end--;\n        }\n\n        if (end > 0) {\n          var start = 0;\n\n          while (rectSel[start].isEmpty()) {\n            start++;\n          }\n        }\n\n        for (var i = end; i >= start; i--) {\n          if (rectSel[i].isEmpty()) rectSel.splice(i, 1);\n        }\n      }\n\n      return rectSel;\n    };\n  }).call(Selection.prototype);\n  var Editor = acequire(\"./editor\").Editor;\n  (function () {\n    this.updateSelectionMarkers = function () {\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.addSelectionMarker = function (orientedRange) {\n      if (!orientedRange.cursor) orientedRange.cursor = orientedRange.end;\n      var style = this.getSelectionStyle();\n      orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n      this.session.$selectionMarkers.push(orientedRange);\n      this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n      return orientedRange;\n    };\n\n    this.removeSelectionMarker = function (range) {\n      if (!range.marker) return;\n      this.session.removeMarker(range.marker);\n      var index = this.session.$selectionMarkers.indexOf(range);\n      if (index != -1) this.session.$selectionMarkers.splice(index, 1);\n      this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function (ranges) {\n      var markerList = this.session.$selectionMarkers;\n\n      for (var i = ranges.length; i--;) {\n        var range = ranges[i];\n        if (!range.marker) continue;\n        this.session.removeMarker(range.marker);\n        var index = markerList.indexOf(range);\n        if (index != -1) markerList.splice(index, 1);\n      }\n\n      this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function (e) {\n      this.addSelectionMarker(e.range);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function (e) {\n      this.removeSelectionMarkers(e.ranges);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function (e) {\n      if (this.inMultiSelectMode) return;\n      this.inMultiSelectMode = true;\n      this.setStyle(\"ace_multiselect\");\n      this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n      this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function (e) {\n      if (this.session.multiSelect.inVirtualMode) return;\n      this.inMultiSelectMode = false;\n      this.unsetStyle(\"ace_multiselect\");\n      this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n      this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n      this.renderer.updateCursor();\n      this.renderer.updateBackMarkers();\n\n      this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function (e) {\n      var command = e.command;\n      var editor = e.editor;\n      if (!editor.multiSelect) return;\n\n      if (!command.multiSelectAction) {\n        var result = command.exec(editor, e.args || {});\n        editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n        editor.multiSelect.mergeOverlappingRanges();\n      } else if (command.multiSelectAction == \"forEach\") {\n        result = editor.forEachSelection(command, e.args);\n      } else if (command.multiSelectAction == \"forEachLine\") {\n        result = editor.forEachSelection(command, e.args, true);\n      } else if (command.multiSelectAction == \"single\") {\n        editor.exitMultiSelectMode();\n        result = command.exec(editor, e.args || {});\n      } else {\n        result = command.multiSelectAction(editor, e.args || {});\n      }\n\n      return result;\n    };\n\n    this.forEachSelection = function (cmd, args, options) {\n      if (this.inVirtualSelectionMode) return;\n      var keepOrder = options && options.keepOrder;\n      var $byLines = options == true || options && options.$byLines;\n      var session = this.session;\n      var selection = this.selection;\n      var rangeList = selection.rangeList;\n      var ranges = (keepOrder ? selection : rangeList).ranges;\n      var result;\n      if (!ranges.length) return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n      var reg = selection._eventRegistry;\n      selection._eventRegistry = {};\n      var tmpSel = new Selection(session);\n      this.inVirtualSelectionMode = true;\n\n      for (var i = ranges.length; i--;) {\n        if ($byLines) {\n          while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row) {\n            i--;\n          }\n        }\n\n        tmpSel.fromOrientedRange(ranges[i]);\n        tmpSel.index = i;\n        this.selection = session.selection = tmpSel;\n        var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        if (!result && cmdResult !== undefined) result = cmdResult;\n        tmpSel.toOrientedRange(ranges[i]);\n      }\n\n      tmpSel.detach();\n      this.selection = session.selection = selection;\n      this.inVirtualSelectionMode = false;\n      selection._eventRegistry = reg;\n      selection.mergeOverlappingRanges();\n      var anim = this.renderer.$scrollAnimation;\n      this.onCursorChange();\n      this.onSelectionChange();\n      if (anim && anim.from == anim.to) this.renderer.animateScrolling(anim.from);\n      return result;\n    };\n\n    this.exitMultiSelectMode = function () {\n      if (!this.inMultiSelectMode || this.inVirtualSelectionMode) return;\n      this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function () {\n      var text = \"\";\n\n      if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n        var ranges = this.multiSelect.rangeList.ranges;\n        var buf = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          buf.push(this.session.getTextRange(ranges[i]));\n        }\n\n        var nl = this.session.getDocument().getNewLineCharacter();\n        text = buf.join(nl);\n        if (text.length == (buf.length - 1) * nl.length) text = \"\";\n      } else if (!this.selection.isEmpty()) {\n        text = this.session.getTextRange(this.getSelectionRange());\n      }\n\n      return text;\n    };\n\n    this.$checkMultiselectChange = function (e, anchor) {\n      if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n        var range = this.multiSelect.ranges[0];\n        if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor) return;\n        var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;\n        if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column) this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n      }\n    };\n\n    this.findAll = function (needle, options, additive) {\n      options = options || {};\n      options.needle = needle || options.needle;\n\n      if (options.needle == undefined) {\n        var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();\n        options.needle = this.session.getTextRange(range);\n      }\n\n      this.$search.set(options);\n      var ranges = this.$search.findAll(this.session);\n      if (!ranges.length) return 0;\n      this.$blockScrolling += 1;\n      var selection = this.multiSelect;\n      if (!additive) selection.toSingleRange(ranges[0]);\n\n      for (var i = ranges.length; i--;) {\n        selection.addRange(ranges[i], true);\n      }\n\n      if (range && selection.rangeList.rangeAtPoint(range.start)) selection.addRange(range, true);\n      this.$blockScrolling -= 1;\n      return ranges.length;\n    };\n\n    this.selectMoreLines = function (dir, skip) {\n      var range = this.selection.toOrientedRange();\n      var isBackwards = range.cursor == range.end;\n      var screenLead = this.session.documentToScreenPosition(range.cursor);\n      if (this.selection.$desiredColumn) screenLead.column = this.selection.$desiredColumn;\n      var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n      if (!range.isEmpty()) {\n        var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n        var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n      } else {\n        var anchor = lead;\n      }\n\n      if (isBackwards) {\n        var newRange = Range.fromPoints(lead, anchor);\n        newRange.cursor = newRange.start;\n      } else {\n        var newRange = Range.fromPoints(anchor, lead);\n        newRange.cursor = newRange.end;\n      }\n\n      newRange.desiredColumn = screenLead.column;\n\n      if (!this.selection.inMultiSelectMode) {\n        this.selection.addRange(range);\n      } else {\n        if (skip) var toRemove = range.cursor;\n      }\n\n      this.selection.addRange(newRange);\n      if (toRemove) this.selection.substractPoint(toRemove);\n    };\n\n    this.transposeSelections = function (dir) {\n      var session = this.session;\n      var sel = session.multiSelect;\n      var all = sel.ranges;\n\n      for (var i = all.length; i--;) {\n        var range = all[i];\n\n        if (range.isEmpty()) {\n          var tmp = session.getWordRange(range.start.row, range.start.column);\n          range.start.row = tmp.start.row;\n          range.start.column = tmp.start.column;\n          range.end.row = tmp.end.row;\n          range.end.column = tmp.end.column;\n        }\n      }\n\n      sel.mergeOverlappingRanges();\n      var words = [];\n\n      for (var i = all.length; i--;) {\n        var range = all[i];\n        words.unshift(session.getTextRange(range));\n      }\n\n      if (dir < 0) words.unshift(words.pop());else words.push(words.shift());\n\n      for (var i = all.length; i--;) {\n        var range = all[i];\n        var tmp = range.clone();\n        session.replace(range, words[i]);\n        range.start.row = tmp.start.row;\n        range.start.column = tmp.start.column;\n      }\n    };\n\n    this.selectMore = function (dir, skip, stopAtFirst) {\n      var session = this.session;\n      var sel = session.multiSelect;\n      var range = sel.toOrientedRange();\n\n      if (range.isEmpty()) {\n        range = session.getWordRange(range.start.row, range.start.column);\n        range.cursor = dir == -1 ? range.start : range.end;\n        this.multiSelect.addRange(range);\n        if (stopAtFirst) return;\n      }\n\n      var needle = session.getTextRange(range);\n      var newRange = find(session, needle, dir);\n\n      if (newRange) {\n        newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n        this.$blockScrolling += 1;\n        this.session.unfold(newRange);\n        this.multiSelect.addRange(newRange);\n        this.$blockScrolling -= 1;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n      }\n\n      if (skip) this.multiSelect.substractPoint(range.cursor);\n    };\n\n    this.alignCursors = function () {\n      var session = this.session;\n      var sel = session.multiSelect;\n      var ranges = sel.ranges;\n      var row = -1;\n      var sameRowRanges = ranges.filter(function (r) {\n        if (r.cursor.row == row) return true;\n        row = r.cursor.row;\n      });\n\n      if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n        var range = this.selection.getRange();\n        var fr = range.start.row,\n            lr = range.end.row;\n        var guessRange = fr == lr;\n\n        if (guessRange) {\n          var max = this.session.getLength();\n          var line;\n\n          do {\n            line = this.session.getLine(lr);\n          } while (/[=:]/.test(line) && ++lr < max);\n\n          do {\n            line = this.session.getLine(fr);\n          } while (/[=:]/.test(line) && --fr > 0);\n\n          if (fr < 0) fr = 0;\n          if (lr >= max) lr = max - 1;\n        }\n\n        var lines = this.session.removeFullLines(fr, lr);\n        lines = this.$reAlignText(lines, guessRange);\n        this.session.insert({\n          row: fr,\n          column: 0\n        }, lines.join(\"\\n\") + \"\\n\");\n\n        if (!guessRange) {\n          range.start.column = 0;\n          range.end.column = lines[lines.length - 1].length;\n        }\n\n        this.selection.setRange(range);\n      } else {\n        sameRowRanges.forEach(function (r) {\n          sel.substractPoint(r.cursor);\n        });\n        var maxCol = 0;\n        var minSpace = Infinity;\n        var spaceOffsets = ranges.map(function (r) {\n          var p = r.cursor;\n          var line = session.getLine(p.row);\n          var spaceOffset = line.substr(p.column).search(/\\S/g);\n          if (spaceOffset == -1) spaceOffset = 0;\n          if (p.column > maxCol) maxCol = p.column;\n          if (spaceOffset < minSpace) minSpace = spaceOffset;\n          return spaceOffset;\n        });\n        ranges.forEach(function (r, i) {\n          var p = r.cursor;\n          var l = maxCol - p.column;\n          var d = spaceOffsets[i] - minSpace;\n          if (l > d) session.insert(p, lang.stringRepeat(\" \", l - d));else session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n          r.start.column = r.end.column = maxCol;\n          r.start.row = r.end.row = p.row;\n          r.cursor = r.end;\n        });\n        sel.fromOrientedRange(ranges[0]);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n      }\n    };\n\n    this.$reAlignText = function (lines, forceLeft) {\n      var isLeftAligned = true,\n          isRightAligned = true;\n      var startW, textW, endW;\n      return lines.map(function (line) {\n        var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n        if (!m) return [line];\n\n        if (startW == null) {\n          startW = m[1].length;\n          textW = m[2].length;\n          endW = m[3].length;\n          return m;\n        }\n\n        if (startW + textW + endW != m[1].length + m[2].length + m[3].length) isRightAligned = false;\n        if (startW != m[1].length) isLeftAligned = false;\n        if (startW > m[1].length) startW = m[1].length;\n        if (textW < m[2].length) textW = m[2].length;\n        if (endW > m[3].length) endW = m[3].length;\n        return m;\n      }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n      function spaces(n) {\n        return lang.stringRepeat(\" \", n);\n      }\n\n      function alignLeft(m) {\n        return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(textW - m[2].length + endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n      }\n\n      function alignRight(m) {\n        return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2] + spaces(endW, \" \") + m[4].replace(/^([=:])\\s+/, \"$1 \");\n      }\n\n      function unAlign(m) {\n        return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n      }\n    };\n  }).call(Editor.prototype);\n\n  function isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n  }\n\n  exports.onSessionChange = function (e) {\n    var session = e.session;\n\n    if (session && !session.multiSelect) {\n      session.$selectionMarkers = [];\n      session.selection.$initRangeList();\n      session.multiSelect = session.selection;\n    }\n\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n\n    if (oldSession) {\n      oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n      oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n      oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n      oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n      oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n      oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n      session.multiSelect.on(\"addRange\", this.$onAddRange);\n      session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n      session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n      session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n      session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n      session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n      if (session.selection.inMultiSelectMode) this.$onMultiSelect();else this.$onSingleSelect();\n    }\n  };\n\n  function MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange) return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n  }\n\n  function addAltCursorListeners(editor) {\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n      var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n\n      if (editor.$blockSelectEnabled && altDown) {\n        if (!altCursor) {\n          editor.renderer.setMouseCursor(\"crosshair\");\n          altCursor = true;\n        }\n      } else if (altCursor) {\n        reset();\n      }\n    });\n    event.addListener(el, \"keyup\", reset);\n    event.addListener(el, \"blur\", reset);\n\n    function reset(e) {\n      if (altCursor) {\n        editor.renderer.setMouseCursor(\"\");\n        altCursor = false;\n      }\n    }\n  }\n\n  exports.MultiSelect = MultiSelect;\n  acequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n      set: function set(val) {\n        MultiSelect(this);\n\n        if (val) {\n          this.on(\"changeSession\", this.$multiselectOnSessionChange);\n          this.on(\"mousedown\", onMouseDown);\n        } else {\n          this.off(\"changeSession\", this.$multiselectOnSessionChange);\n          this.off(\"mousedown\", onMouseDown);\n        }\n      },\n      value: true\n    },\n    enableBlockSelect: {\n      set: function set(val) {\n        this.$blockSelectEnabled = val;\n      },\n      value: true\n    }\n  });\n});\nace.define(\"ace/mode/folding/fold_mode\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var Range = acequire(\"../../range\").Range;\n\n  var FoldMode = exports.FoldMode = function () {};\n\n  (function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n\n    this.getFoldWidget = function (session, foldStyle, row) {\n      var line = session.getLine(row);\n      if (this.foldingStartMarker.test(line)) return \"start\";\n      if (foldStyle == \"markbeginend\" && this.foldingStopMarker && this.foldingStopMarker.test(line)) return \"end\";\n      return \"\";\n    };\n\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n      return null;\n    };\n\n    this.indentationBlock = function (session, row, column) {\n      var re = /\\S/;\n      var line = session.getLine(row);\n      var startLevel = line.search(re);\n      if (startLevel == -1) return;\n      var startColumn = column || line.length;\n      var maxRow = session.getLength();\n      var startRow = row;\n      var endRow = row;\n\n      while (++row < maxRow) {\n        var level = session.getLine(row).search(re);\n        if (level == -1) continue;\n        if (level <= startLevel) break;\n        endRow = row;\n      }\n\n      if (endRow > startRow) {\n        var endColumn = session.getLine(endRow).length;\n        return new Range(startRow, startColumn, endRow, endColumn);\n      }\n    };\n\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n      var start = {\n        row: row,\n        column: column + 1\n      };\n      var end = session.$findClosingBracket(bracket, start, typeRe);\n      if (!end) return;\n      var fw = session.foldWidgets[end.row];\n      if (fw == null) fw = session.getFoldWidget(end.row);\n\n      if (fw == \"start\" && end.row > start.row) {\n        end.row--;\n        end.column = session.getLine(end.row).length;\n      }\n\n      return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n      var end = {\n        row: row,\n        column: column\n      };\n      var start = session.$findOpeningBracket(bracket, end);\n      if (!start) return;\n      start.column++;\n      end.column--;\n      return Range.fromPoints(start, end);\n    };\n  }).call(FoldMode.prototype);\n});\nace.define(\"ace/theme/textmate\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  exports.isDark = false;\n  exports.cssClass = \"ace-tm\";\n  exports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n  var dom = acequire(\"../lib/dom\");\n  dom.importCssString(exports.cssText, exports.cssClass);\n});\nace.define(\"ace/line_widgets\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var oop = acequire(\"./lib/oop\");\n  var dom = acequire(\"./lib/dom\");\n  var Range = acequire(\"./range\").Range;\n\n  function LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n  }\n\n  (function () {\n    this.getRowLength = function (row) {\n      var h;\n      if (this.lineWidgets) h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n\n      if (!this.$useWrapMode || !this.$wrapData[row]) {\n        return 1 + h;\n      } else {\n        return this.$wrapData[row].length + 1 + h;\n      }\n    };\n\n    this.$getWidgetScreenLength = function () {\n      var screenRows = 0;\n      this.lineWidgets.forEach(function (w) {\n        if (w && w.rowCount && !w.hidden) screenRows += w.rowCount;\n      });\n      return screenRows;\n    };\n\n    this.$onChangeEditor = function (e) {\n      this.attach(e.editor);\n    };\n\n    this.attach = function (editor) {\n      if (editor && editor.widgetManager && editor.widgetManager != this) editor.widgetManager.detach();\n      if (this.editor == editor) return;\n      this.detach();\n      this.editor = editor;\n\n      if (editor) {\n        editor.widgetManager = this;\n        editor.renderer.on(\"beforeRender\", this.measureWidgets);\n        editor.renderer.on(\"afterRender\", this.renderWidgets);\n      }\n    };\n\n    this.detach = function (e) {\n      var editor = this.editor;\n      if (!editor) return;\n      this.editor = null;\n      editor.widgetManager = null;\n      editor.renderer.off(\"beforeRender\", this.measureWidgets);\n      editor.renderer.off(\"afterRender\", this.renderWidgets);\n      var lineWidgets = this.session.lineWidgets;\n      lineWidgets && lineWidgets.forEach(function (w) {\n        if (w && w.el && w.el.parentNode) {\n          w._inDocument = false;\n          w.el.parentNode.removeChild(w.el);\n        }\n      });\n    };\n\n    this.updateOnFold = function (e, session) {\n      var lineWidgets = session.lineWidgets;\n      if (!lineWidgets || !e.action) return;\n      var fold = e.data;\n      var start = fold.start.row;\n      var end = fold.end.row;\n      var hide = e.action == \"add\";\n\n      for (var i = start + 1; i < end; i++) {\n        if (lineWidgets[i]) lineWidgets[i].hidden = hide;\n      }\n\n      if (lineWidgets[end]) {\n        if (hide) {\n          if (!lineWidgets[start]) lineWidgets[start] = lineWidgets[end];else lineWidgets[end].hidden = hide;\n        } else {\n          if (lineWidgets[start] == lineWidgets[end]) lineWidgets[start] = undefined;\n          lineWidgets[end].hidden = hide;\n        }\n      }\n    };\n\n    this.updateOnChange = function (delta) {\n      var lineWidgets = this.session.lineWidgets;\n      if (!lineWidgets) return;\n      var startRow = delta.start.row;\n      var len = delta.end.row - startRow;\n\n      if (len === 0) {} else if (delta.action == 'remove') {\n        var removed = lineWidgets.splice(startRow + 1, len);\n        removed.forEach(function (w) {\n          w && this.removeLineWidget(w);\n        }, this);\n        this.$updateRows();\n      } else {\n        var args = new Array(len);\n        args.unshift(startRow, 0);\n        lineWidgets.splice.apply(lineWidgets, args);\n        this.$updateRows();\n      }\n    };\n\n    this.$updateRows = function () {\n      var lineWidgets = this.session.lineWidgets;\n      if (!lineWidgets) return;\n      var noWidgets = true;\n      lineWidgets.forEach(function (w, i) {\n        if (w) {\n          noWidgets = false;\n          w.row = i;\n\n          while (w.$oldWidget) {\n            w.$oldWidget.row = i;\n            w = w.$oldWidget;\n          }\n        }\n      });\n      if (noWidgets) this.session.lineWidgets = null;\n    };\n\n    this.addLineWidget = function (w) {\n      if (!this.session.lineWidgets) this.session.lineWidgets = new Array(this.session.getLength());\n      var old = this.session.lineWidgets[w.row];\n\n      if (old) {\n        w.$oldWidget = old;\n\n        if (old.el && old.el.parentNode) {\n          old.el.parentNode.removeChild(old.el);\n          old._inDocument = false;\n        }\n      }\n\n      this.session.lineWidgets[w.row] = w;\n      w.session = this.session;\n      var renderer = this.editor.renderer;\n\n      if (w.html && !w.el) {\n        w.el = dom.createElement(\"div\");\n        w.el.innerHTML = w.html;\n      }\n\n      if (w.el) {\n        dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n        w.el.style.position = \"absolute\";\n        w.el.style.zIndex = 5;\n        renderer.container.appendChild(w.el);\n        w._inDocument = true;\n      }\n\n      if (!w.coverGutter) {\n        w.el.style.zIndex = 3;\n      }\n\n      if (w.pixelHeight == null) {\n        w.pixelHeight = w.el.offsetHeight;\n      }\n\n      if (w.rowCount == null) {\n        w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n      }\n\n      var fold = this.session.getFoldAt(w.row, 0);\n      w.$fold = fold;\n\n      if (fold) {\n        var lineWidgets = this.session.lineWidgets;\n        if (w.row == fold.end.row && !lineWidgets[fold.start.row]) lineWidgets[fold.start.row] = w;else w.hidden = true;\n      }\n\n      this.session._emit(\"changeFold\", {\n        data: {\n          start: {\n            row: w.row\n          }\n        }\n      });\n\n      this.$updateRows();\n      this.renderWidgets(null, renderer);\n      this.onWidgetChanged(w);\n      return w;\n    };\n\n    this.removeLineWidget = function (w) {\n      w._inDocument = false;\n      w.session = null;\n      if (w.el && w.el.parentNode) w.el.parentNode.removeChild(w.el);\n      if (w.editor && w.editor.destroy) try {\n        w.editor.destroy();\n      } catch (e) {}\n\n      if (this.session.lineWidgets) {\n        var w1 = this.session.lineWidgets[w.row];\n\n        if (w1 == w) {\n          this.session.lineWidgets[w.row] = w.$oldWidget;\n          if (w.$oldWidget) this.onWidgetChanged(w.$oldWidget);\n        } else {\n          while (w1) {\n            if (w1.$oldWidget == w) {\n              w1.$oldWidget = w.$oldWidget;\n              break;\n            }\n\n            w1 = w1.$oldWidget;\n          }\n        }\n      }\n\n      this.session._emit(\"changeFold\", {\n        data: {\n          start: {\n            row: w.row\n          }\n        }\n      });\n\n      this.$updateRows();\n    };\n\n    this.getWidgetsAtRow = function (row) {\n      var lineWidgets = this.session.lineWidgets;\n      var w = lineWidgets && lineWidgets[row];\n      var list = [];\n\n      while (w) {\n        list.push(w);\n        w = w.$oldWidget;\n      }\n\n      return list;\n    };\n\n    this.onWidgetChanged = function (w) {\n      this.session._changedWidgets.push(w);\n\n      this.editor && this.editor.renderer.updateFull();\n    };\n\n    this.measureWidgets = function (e, renderer) {\n      var changedWidgets = this.session._changedWidgets;\n      var config = renderer.layerConfig;\n      if (!changedWidgets || !changedWidgets.length) return;\n      var min = Infinity;\n\n      for (var i = 0; i < changedWidgets.length; i++) {\n        var w = changedWidgets[i];\n        if (!w || !w.el) continue;\n        if (w.session != this.session) continue;\n\n        if (!w._inDocument) {\n          if (this.session.lineWidgets[w.row] != w) continue;\n          w._inDocument = true;\n          renderer.container.appendChild(w.el);\n        }\n\n        w.h = w.el.offsetHeight;\n\n        if (!w.fixedWidth) {\n          w.w = w.el.offsetWidth;\n          w.screenWidth = Math.ceil(w.w / config.characterWidth);\n        }\n\n        var rowCount = w.h / config.lineHeight;\n\n        if (w.coverLine) {\n          rowCount -= this.session.getRowLineCount(w.row);\n          if (rowCount < 0) rowCount = 0;\n        }\n\n        if (w.rowCount != rowCount) {\n          w.rowCount = rowCount;\n          if (w.row < min) min = w.row;\n        }\n      }\n\n      if (min != Infinity) {\n        this.session._emit(\"changeFold\", {\n          data: {\n            start: {\n              row: min\n            }\n          }\n        });\n\n        this.session.lineWidgetWidth = null;\n      }\n\n      this.session._changedWidgets = [];\n    };\n\n    this.renderWidgets = function (e, renderer) {\n      var config = renderer.layerConfig;\n      var lineWidgets = this.session.lineWidgets;\n      if (!lineWidgets) return;\n      var first = Math.min(this.firstRow, config.firstRow);\n      var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n\n      while (first > 0 && !lineWidgets[first]) {\n        first--;\n      }\n\n      this.firstRow = config.firstRow;\n      this.lastRow = config.lastRow;\n      renderer.$cursorLayer.config = config;\n\n      for (var i = first; i <= last; i++) {\n        var w = lineWidgets[i];\n        if (!w || !w.el) continue;\n\n        if (w.hidden) {\n          w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n          continue;\n        }\n\n        if (!w._inDocument) {\n          w._inDocument = true;\n          renderer.container.appendChild(w.el);\n        }\n\n        var top = renderer.$cursorLayer.getPixelPosition({\n          row: i,\n          column: 0\n        }, true).top;\n        if (!w.coverLine) top += config.lineHeight * this.session.getRowLineCount(w.row);\n        w.el.style.top = top - config.offset + \"px\";\n        var left = w.coverGutter ? 0 : renderer.gutterWidth;\n        if (!w.fixedWidth) left -= renderer.scrollLeft;\n        w.el.style.left = left + \"px\";\n\n        if (w.fullWidth && w.screenWidth) {\n          w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n        }\n\n        if (w.fixedWidth) {\n          w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n        } else {\n          w.el.style.right = \"\";\n        }\n      }\n    };\n  }).call(LineWidgets.prototype);\n  exports.LineWidgets = LineWidgets;\n});\nace.define(\"ace/ext/error_marker\", [\"require\", \"exports\", \"module\", \"ace/line_widgets\", \"ace/lib/dom\", \"ace/range\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  var LineWidgets = acequire(\"../line_widgets\").LineWidgets;\n  var dom = acequire(\"../lib/dom\");\n  var Range = acequire(\"../range\").Range;\n\n  function binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n      var mid = first + last >> 1;\n      var c = comparator(needle, array[mid]);\n      if (c > 0) first = mid + 1;else if (c < 0) last = mid - 1;else return mid;\n    }\n\n    return -(first + 1);\n  }\n\n  function findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length) return;\n    var i = binarySearch(annotations, {\n      row: row,\n      column: -1\n    }, Range.comparePoints);\n    if (i < 0) i = -i - 1;\n    if (i >= annotations.length) i = dir > 0 ? 0 : annotations.length - 1;else if (i === 0 && dir < 0) i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir) return;\n\n    if (annotation.row === row) {\n      do {\n        annotation = annotations[i += dir];\n      } while (annotation && annotation.row === row);\n\n      if (!annotation) return annotations.slice();\n    }\n\n    var matched = [];\n    row = annotation.row;\n\n    do {\n      matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n      annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n\n    return matched.length && matched;\n  }\n\n  exports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n\n    if (!session.widgetManager) {\n      session.widgetManager = new LineWidgets(session);\n      session.widgetManager.attach(editor);\n    }\n\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n      return w.type == \"errorMarker\";\n    })[0];\n\n    if (oldWidget) {\n      oldWidget.destroy();\n    } else {\n      row -= dir;\n    }\n\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n\n    if (annotations) {\n      var annotation = annotations[0];\n      pos.column = (annotation.pos && typeof annotation.column != \"number\" ? annotation.pos.sc : annotation.column) || 0;\n      pos.row = annotation.row;\n      gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n      return;\n    } else {\n      gutterAnno = {\n        text: [\"Looks good!\"],\n        className: \"ace_ok\"\n      };\n    }\n\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n      row: pos.row,\n      fixedWidth: true,\n      coverGutter: true,\n      el: dom.createElement(\"div\"),\n      type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    el.appendChild(dom.createElement(\"div\"));\n\n    var kb = function kb(_, hashId, keyString) {\n      if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n        w.destroy();\n        return {\n          command: \"null\"\n        };\n      }\n    };\n\n    w.destroy = function () {\n      if (editor.$mouseHandler.isMousePressed) return;\n      editor.keyBinding.removeKeyboardHandler(kb);\n      session.widgetManager.removeLineWidget(w);\n      editor.off(\"changeSelection\", w.destroy);\n      editor.off(\"changeSession\", w.destroy);\n      editor.off(\"mouseup\", w.destroy);\n      editor.off(\"change\", w.destroy);\n    };\n\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, {\n      bottom: w.el.offsetHeight\n    });\n  };\n\n  dom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n});\nace.define(\"ace/ace\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/editor\", \"ace/edit_session\", \"ace/undomanager\", \"ace/virtual_renderer\", \"ace/worker/worker_client\", \"ace/keyboard/hash_handler\", \"ace/placeholder\", \"ace/multi_select\", \"ace/mode/folding/fold_mode\", \"ace/theme/textmate\", \"ace/ext/error_marker\", \"ace/config\"], function (acequire, exports, module) {\n  \"use strict\";\n\n  acequire(\"./lib/fixoldbrowsers\");\n  var dom = acequire(\"./lib/dom\");\n  var event = acequire(\"./lib/event\");\n  var Editor = acequire(\"./editor\").Editor;\n  var EditSession = acequire(\"./edit_session\").EditSession;\n  var UndoManager = acequire(\"./undomanager\").UndoManager;\n  var Renderer = acequire(\"./virtual_renderer\").VirtualRenderer;\n  acequire(\"./worker/worker_client\");\n  acequire(\"./keyboard/hash_handler\");\n  acequire(\"./placeholder\");\n  acequire(\"./multi_select\");\n  acequire(\"./mode/folding/fold_mode\");\n  acequire(\"./theme/textmate\");\n  acequire(\"./ext/error_marker\");\n  exports.config = acequire(\"./config\");\n  exports.acequire = acequire;\n  if (typeof define === \"function\") exports.define = define;\n\n  exports.edit = function (el) {\n    if (typeof el == \"string\") {\n      var _id = el;\n      el = document.getElementById(_id);\n      if (!el) throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor) return el.env.editor;\n    var value = \"\";\n\n    if (el && /input|textarea/i.test(el.tagName)) {\n      var oldNode = el;\n      value = oldNode.value;\n      el = dom.createElement(\"pre\");\n      oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n      value = dom.getInnerText(el);\n      el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el));\n    editor.setSession(doc);\n    var env = {\n      document: doc,\n      editor: editor,\n      onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function () {\n      event.removeListener(window, \"resize\", env.onResize);\n      env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n  };\n\n  exports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n  };\n\n  exports.EditSession = EditSession;\n  exports.UndoManager = UndoManager;\n  exports.version = \"1.2.9\";\n});\n\n(function () {\n  ace.acequire([\"ace/ace\"], function (a) {\n    if (a) {\n      a.config.init(true);\n      a.define = ace.define;\n    }\n\n    if (!window.ace) window.ace = a;\n\n    for (var key in a) {\n      if (a.hasOwnProperty(key)) window.ace[key] = a[key];\n    }\n  });\n})();\n\nmodule.exports = window.ace.acequire(\"ace/ace\");"],"sourceRoot":""}